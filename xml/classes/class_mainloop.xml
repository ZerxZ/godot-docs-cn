<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/classes/class_mainloop.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <comment xml:space="preserve">DO NOT EDIT THIS FILE!!!</comment>
    <comment xml:space="preserve">Generated automatically from Godot engine sources.</comment>
    <comment xml:space="preserve">Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.</comment>
    <comment xml:space="preserve">XML source: https://github.com/godotengine/godot/tree/master/doc/classes/MainLoop.xml.</comment>
    <target refid="class-mainloop"></target>
    <section ids="mainloop class-mainloop" names="mainloop class_mainloop">
        <title>MainLoop</title>
        <paragraph><strong>Inherits:</strong> <reference internal="True" refuri="class_object#class-object"><inline classes="std std-ref">Object</inline></reference></paragraph>
        <paragraph><strong>Inherited By:</strong> <reference internal="True" refuri="class_scenetree#class-scenetree"><inline classes="std std-ref">SceneTree</inline></reference></paragraph>
        <paragraph>Abstract base class for the game's main loop.</paragraph>
        <section classes="classref-introduction-group" ids="description" names="description">
            <title>Description</title>
            <paragraph><strong>MainLoop</strong> is the abstract base class for a Godot project's game loop. It is inherited by <reference internal="True" refuri="class_scenetree#class-scenetree"><inline classes="std std-ref">SceneTree</inline></reference>, which is the default game loop implementation used in Godot projects, though it is also possible to write and use one's own <strong>MainLoop</strong> subclass instead of the scene tree.</paragraph>
            <paragraph>Upon the application start, a <strong>MainLoop</strong> implementation must be provided to the OS; otherwise, the application will exit. This happens automatically (and a <reference internal="True" refuri="class_scenetree#class-scenetree"><inline classes="std std-ref">SceneTree</inline></reference> is created) unless a <strong>MainLoop</strong> <reference internal="True" refuri="class_script#class-script"><inline classes="std std-ref">Script</inline></reference> is provided from the command line (with e.g. <literal>godot -s my_loop.gd</literal>) or the <reference internal="True" refuri="class_projectsettings#class-projectsettings-property-application-run-main-loop-type"><inline classes="std std-ref">ProjectSettings.application/run/main_loop_type</inline></reference> project setting is overwritten.</paragraph>
            <paragraph>Here is an example script implementing a simple <strong>MainLoop</strong>:</paragraph>
            <container classes="sphinx-tabs" type="tab-element">
                <div aria-label="Tabbed content" role="tablist">
                    <button aria-controls="panel-0-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                    <button aria-controls="panel-0-QyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button>
                </div>
                <div aria-labelledby="tab-0-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">class_name CustomMainLoop
extends MainLoop

var time_elapsed = 0

func _initialize():
    print("Initialized:")
    print("  Starting time: %s" % str(time_elapsed))

func _process(delta):
    time_elapsed += delta
    # Return true to end the main loop.
    return Input.get_mouse_button_mask() != 0 || Input.is_key_pressed(KEY_ESCAPE)

func _finalize():
    print("Finalized:")
    print("  End time: %s" % str(time_elapsed))</literal_block>
                </div>
                <div aria-labelledby="tab-0-QyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-QyM=" name="QyM=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">using Godot;

[GlobalClass]
public partial class CustomMainLoop : MainLoop
{
    private double _timeElapsed = 0;

    public override void _Initialize()
    {
        GD.Print("Initialized:");
        GD.Print($"  Starting Time: {_timeElapsed}");
    }

    public override bool _Process(double delta)
    {
        _timeElapsed += delta;
        // Return true to end the main loop.
        return Input.GetMouseButtonMask() != 0 || Input.IsKeyPressed(Key.Escape);
    }

    private void _Finalize()
    {
        GD.Print("Finalized:");
        GD.Print($"  End Time: {_timeElapsed}");
    }
}</literal_block>
                </div>
            </container>
        </section>
        <section classes="classref-reftable-group" ids="methods" names="methods">
            <title>Methods</title>
            <table classes="colwidths-auto">
                <tgroup cols="2">
                    <colspec colwidth="25"></colspec>
                    <colspec colwidth="124"></colspec>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><abbreviation explanation="No return value.">void</abbreviation></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-mainloop-private-method-finalize"><inline classes="std std-ref">_finalize</inline></reference>() <abbreviation explanation="This method should typically be overridden by the user to have any effect.">virtual</abbreviation></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><abbreviation explanation="No return value.">void</abbreviation></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-mainloop-private-method-initialize"><inline classes="std std-ref">_initialize</inline></reference>() <abbreviation explanation="This method should typically be overridden by the user to have any effect.">virtual</abbreviation></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-mainloop-private-method-physics-process"><inline classes="std std-ref">_physics_process</inline></reference>(delta: <reference internal="True" refuri="class_float#class-float"><inline classes="std std-ref">float</inline></reference>) <abbreviation explanation="This method should typically be overridden by the user to have any effect.">virtual</abbreviation></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-mainloop-private-method-process"><inline classes="std std-ref">_process</inline></reference>(delta: <reference internal="True" refuri="class_float#class-float"><inline classes="std std-ref">float</inline></reference>) <abbreviation explanation="This method should typically be overridden by the user to have any effect.">virtual</abbreviation></paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
        <transition classes="classref-section-separator"></transition>
        <section classes="classref-descriptions-group" ids="signals" names="signals">
            <title>Signals</title>
            <target refid="class-mainloop-signal-on-request-permissions-result"></target>
            <paragraph classes="classref-signal" ids="class-mainloop-signal-on-request-permissions-result" names="class_mainloop_signal_on_request_permissions_result"><strong>on_request_permissions_result</strong>(permission: <reference internal="True" refuri="class_string#class-string"><inline classes="std std-ref">String</inline></reference>, granted: <reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference>) <reference internal="True" refid="class-mainloop-signal-on-request-permissions-result"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Emitted when a user responds to a permission request.</paragraph>
        </section>
        <transition classes="classref-section-separator"></transition>
        <section classes="classref-descriptions-group" ids="constants" names="constants">
            <title>Constants</title>
            <target refid="class-mainloop-constant-notification-os-memory-warning"></target>
            <paragraph classes="classref-constant" ids="class-mainloop-constant-notification-os-memory-warning" names="class_mainloop_constant_notification_os_memory_warning"><strong>NOTIFICATION_OS_MEMORY_WARNING</strong> = <literal>2009</literal> <reference internal="True" refid="class-mainloop-constant-notification-os-memory-warning"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Notification received from the OS when the application is exceeding its allocated memory.</paragraph>
            <paragraph>Specific to the iOS platform.</paragraph>
            <target refid="class-mainloop-constant-notification-translation-changed"></target>
            <paragraph classes="classref-constant" ids="class-mainloop-constant-notification-translation-changed" names="class_mainloop_constant_notification_translation_changed"><strong>NOTIFICATION_TRANSLATION_CHANGED</strong> = <literal>2010</literal> <reference internal="True" refid="class-mainloop-constant-notification-translation-changed"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Notification received when translations may have changed. Can be triggered by the user changing the locale. Can be used to respond to language changes, for example to change the UI strings on the fly. Useful when working with the built-in translation support, like <reference internal="True" refuri="class_object#class-object-method-tr"><inline classes="std std-ref">Object.tr()</inline></reference>.</paragraph>
            <target refid="class-mainloop-constant-notification-wm-about"></target>
            <paragraph classes="classref-constant" ids="class-mainloop-constant-notification-wm-about" names="class_mainloop_constant_notification_wm_about"><strong>NOTIFICATION_WM_ABOUT</strong> = <literal>2011</literal> <reference internal="True" refid="class-mainloop-constant-notification-wm-about"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Notification received from the OS when a request for "About" information is sent.</paragraph>
            <paragraph>Specific to the macOS platform.</paragraph>
            <target refid="class-mainloop-constant-notification-crash"></target>
            <paragraph classes="classref-constant" ids="class-mainloop-constant-notification-crash" names="class_mainloop_constant_notification_crash"><strong>NOTIFICATION_CRASH</strong> = <literal>2012</literal> <reference internal="True" refid="class-mainloop-constant-notification-crash"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Notification received from Godot's crash handler when the engine is about to crash.</paragraph>
            <paragraph>Implemented on desktop platforms if the crash handler is enabled.</paragraph>
            <target refid="class-mainloop-constant-notification-os-ime-update"></target>
            <paragraph classes="classref-constant" ids="class-mainloop-constant-notification-os-ime-update" names="class_mainloop_constant_notification_os_ime_update"><strong>NOTIFICATION_OS_IME_UPDATE</strong> = <literal>2013</literal> <reference internal="True" refid="class-mainloop-constant-notification-os-ime-update"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Notification received from the OS when an update of the Input Method Engine occurs (e.g. change of IME cursor position or composition string).</paragraph>
            <paragraph>Implemented on desktop and web platforms.</paragraph>
            <target refid="class-mainloop-constant-notification-application-resumed"></target>
            <paragraph classes="classref-constant" ids="class-mainloop-constant-notification-application-resumed" names="class_mainloop_constant_notification_application_resumed"><strong>NOTIFICATION_APPLICATION_RESUMED</strong> = <literal>2014</literal> <reference internal="True" refid="class-mainloop-constant-notification-application-resumed"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Notification received from the OS when the application is resumed.</paragraph>
            <paragraph>Specific to the Android and iOS platforms.</paragraph>
            <target refid="class-mainloop-constant-notification-application-paused"></target>
            <paragraph classes="classref-constant" ids="class-mainloop-constant-notification-application-paused" names="class_mainloop_constant_notification_application_paused"><strong>NOTIFICATION_APPLICATION_PAUSED</strong> = <literal>2015</literal> <reference internal="True" refid="class-mainloop-constant-notification-application-paused"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Notification received from the OS when the application is paused.</paragraph>
            <paragraph>Specific to the Android and iOS platforms.</paragraph>
            <paragraph><strong>Note:</strong> On iOS, you only have approximately 5 seconds to finish a task started by this signal. If you go over this allotment, iOS will kill the app instead of pausing it.</paragraph>
            <target refid="class-mainloop-constant-notification-application-focus-in"></target>
            <paragraph classes="classref-constant" ids="class-mainloop-constant-notification-application-focus-in" names="class_mainloop_constant_notification_application_focus_in"><strong>NOTIFICATION_APPLICATION_FOCUS_IN</strong> = <literal>2016</literal> <reference internal="True" refid="class-mainloop-constant-notification-application-focus-in"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Notification received from the OS when the application is focused, i.e. when changing the focus from the OS desktop or a thirdparty application to any open window of the Godot instance.</paragraph>
            <paragraph>Implemented on desktop and mobile platforms.</paragraph>
            <target refid="class-mainloop-constant-notification-application-focus-out"></target>
            <paragraph classes="classref-constant" ids="class-mainloop-constant-notification-application-focus-out" names="class_mainloop_constant_notification_application_focus_out"><strong>NOTIFICATION_APPLICATION_FOCUS_OUT</strong> = <literal>2017</literal> <reference internal="True" refid="class-mainloop-constant-notification-application-focus-out"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Notification received from the OS when the application is defocused, i.e. when changing the focus from any open window of the Godot instance to the OS desktop or a thirdparty application.</paragraph>
            <paragraph>Implemented on desktop and mobile platforms.</paragraph>
            <target refid="class-mainloop-constant-notification-text-server-changed"></target>
            <paragraph classes="classref-constant" ids="class-mainloop-constant-notification-text-server-changed" names="class_mainloop_constant_notification_text_server_changed"><strong>NOTIFICATION_TEXT_SERVER_CHANGED</strong> = <literal>2018</literal> <reference internal="True" refid="class-mainloop-constant-notification-text-server-changed"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Notification received when text server is changed.</paragraph>
        </section>
        <transition classes="classref-section-separator"></transition>
        <section classes="classref-descriptions-group" ids="method-descriptions" names="method\ descriptions">
            <title>Method Descriptions</title>
            <target refid="class-mainloop-private-method-finalize"></target>
            <paragraph classes="classref-method" ids="class-mainloop-private-method-finalize" names="class_mainloop_private_method__finalize"><abbreviation explanation="No return value.">void</abbreviation> <strong>_finalize</strong>() <abbreviation explanation="This method should typically be overridden by the user to have any effect.">virtual</abbreviation> <reference internal="True" refid="class-mainloop-private-method-finalize"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Called before the program exits.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-mainloop-private-method-initialize"></target>
            <paragraph classes="classref-method" ids="class-mainloop-private-method-initialize" names="class_mainloop_private_method__initialize"><abbreviation explanation="No return value.">void</abbreviation> <strong>_initialize</strong>() <abbreviation explanation="This method should typically be overridden by the user to have any effect.">virtual</abbreviation> <reference internal="True" refid="class-mainloop-private-method-initialize"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Called once during initialization.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-mainloop-private-method-physics-process"></target>
            <paragraph classes="classref-method" ids="class-mainloop-private-method-physics-process" names="class_mainloop_private_method__physics_process"><reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference> <strong>_physics_process</strong>(delta: <reference internal="True" refuri="class_float#class-float"><inline classes="std std-ref">float</inline></reference>) <abbreviation explanation="This method should typically be overridden by the user to have any effect.">virtual</abbreviation> <reference internal="True" refid="class-mainloop-private-method-physics-process"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Called each physics tick. <literal>delta</literal> is the logical time between physics ticks in seconds and is equal to <reference internal="True" refuri="class_engine#class-engine-property-time-scale"><inline classes="std std-ref">Engine.time_scale</inline></reference> / <reference internal="True" refuri="class_engine#class-engine-property-physics-ticks-per-second"><inline classes="std std-ref">Engine.physics_ticks_per_second</inline></reference>. Equivalent to <reference internal="True" refuri="class_node#class-node-private-method-physics-process"><inline classes="std std-ref">Node._physics_process()</inline></reference>.</paragraph>
            <paragraph>If implemented, the method must return a boolean value. <literal>true</literal> ends the main loop, while <literal>false</literal> lets it proceed to the next step.</paragraph>
            <paragraph><strong>Note:</strong> <reference internal="True" refid="class-mainloop-private-method-physics-process"><inline classes="std std-ref">_physics_process()</inline></reference> may be called up to <reference internal="True" refuri="class_engine#class-engine-property-max-physics-steps-per-frame"><inline classes="std std-ref">Engine.max_physics_steps_per_frame</inline></reference> times per (idle) frame. This step limit may be reached when the engine is suffering performance issues.</paragraph>
            <paragraph><strong>Note:</strong> Accumulated <literal>delta</literal> may diverge from real world seconds.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-mainloop-private-method-process"></target>
            <paragraph classes="classref-method" ids="class-mainloop-private-method-process" names="class_mainloop_private_method__process"><reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference> <strong>_process</strong>(delta: <reference internal="True" refuri="class_float#class-float"><inline classes="std std-ref">float</inline></reference>) <abbreviation explanation="This method should typically be overridden by the user to have any effect.">virtual</abbreviation> <reference internal="True" refid="class-mainloop-private-method-process"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Called on each idle frame, prior to rendering, and after physics ticks have been processed. <literal>delta</literal> is the time between frames in seconds. Equivalent to <reference internal="True" refuri="class_node#class-node-private-method-process"><inline classes="std std-ref">Node._process()</inline></reference>.</paragraph>
            <paragraph>If implemented, the method must return a boolean value. <literal>true</literal> ends the main loop, while <literal>false</literal> lets it proceed to the next frame.</paragraph>
            <paragraph><strong>Note:</strong> When the engine is struggling and the frame rate is lowered, <literal>delta</literal> will increase. When <literal>delta</literal> is increased, it's capped at a maximum of <reference internal="True" refuri="class_engine#class-engine-property-time-scale"><inline classes="std std-ref">Engine.time_scale</inline></reference> * <reference internal="True" refuri="class_engine#class-engine-property-max-physics-steps-per-frame"><inline classes="std std-ref">Engine.max_physics_steps_per_frame</inline></reference> / <reference internal="True" refuri="class_engine#class-engine-property-physics-ticks-per-second"><inline classes="std std-ref">Engine.physics_ticks_per_second</inline></reference>. As a result, accumulated <literal>delta</literal> may not represent real world time.</paragraph>
            <paragraph><strong>Note:</strong> When <literal>--fixed-fps</literal> is enabled or the engine is running in Movie Maker mode (see <reference internal="True" refuri="class_moviewriter#class-moviewriter"><inline classes="std std-ref">MovieWriter</inline></reference>), process <literal>delta</literal> will always be the same for every frame, regardless of how much time the frame took to render.</paragraph>
            <paragraph><strong>Note:</strong> Frame delta may be post-processed by <reference internal="True" refuri="class_os#class-os-property-delta-smoothing"><inline classes="std std-ref">OS.delta_smoothing</inline></reference> if this is enabled for the project.</paragraph>
            <substitution_definition names="virtual"><abbreviation explanation="This method should typically be overridden by the user to have any effect.">virtual</abbreviation></substitution_definition>
            <substitution_definition names="required"><abbreviation explanation="This method is required to be overridden when extending its base class.">required</abbreviation></substitution_definition>
            <substitution_definition names="const"><abbreviation explanation="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbreviation></substitution_definition>
            <substitution_definition names="vararg"><abbreviation explanation="This method accepts any number of arguments after the ones described here.">vararg</abbreviation></substitution_definition>
            <substitution_definition names="constructor"><abbreviation explanation="This method is used to construct a type.">constructor</abbreviation></substitution_definition>
            <substitution_definition names="static"><abbreviation explanation="This method doesn't need an instance to be called, so it can be called directly using the class name.">static</abbreviation></substitution_definition>
            <substitution_definition names="operator"><abbreviation explanation="This method describes a valid operator to use with this type as left-hand operand.">operator</abbreviation></substitution_definition>
            <substitution_definition names="bitfield"><abbreviation explanation="This value is an integer composed as a bitmask of the following flags.">BitField</abbreviation></substitution_definition>
            <substitution_definition names="void"><abbreviation explanation="No return value.">void</abbreviation></substitution_definition>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
