<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/classes/class_heightmapshape3d.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <comment xml:space="preserve">DO NOT EDIT THIS FILE!!!</comment>
    <comment xml:space="preserve">Generated automatically from Godot engine sources.</comment>
    <comment xml:space="preserve">Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.</comment>
    <comment xml:space="preserve">XML source: https://github.com/godotengine/godot/tree/master/doc/classes/HeightMapShape3D.xml.</comment>
    <target refid="class-heightmapshape3d"></target>
    <section ids="heightmapshape3d class-heightmapshape3d" names="heightmapshape3d class_heightmapshape3d">
        <title>HeightMapShape3D</title>
        <paragraph><strong>Inherits:</strong> <reference internal="True" refuri="class_shape3d#class-shape3d"><inline classes="std std-ref">Shape3D</inline></reference> <strong>&lt;</strong> <reference internal="True" refuri="class_resource#class-resource"><inline classes="std std-ref">Resource</inline></reference> <strong>&lt;</strong> <reference internal="True" refuri="class_refcounted#class-refcounted"><inline classes="std std-ref">RefCounted</inline></reference> <strong>&lt;</strong> <reference internal="True" refuri="class_object#class-object"><inline classes="std std-ref">Object</inline></reference></paragraph>
        <paragraph>A 3D heightmap shape used for physics collision.</paragraph>
        <section classes="classref-introduction-group" ids="description" names="description">
            <title>Description</title>
            <paragraph>A 3D heightmap shape, intended for use in physics to provide a shape for a <reference internal="True" refuri="class_collisionshape3d#class-collisionshape3d"><inline classes="std std-ref">CollisionShape3D</inline></reference>. This type is most commonly used for terrain with vertices placed in a fixed-width grid.</paragraph>
            <paragraph>The heightmap is represented as a 2D grid of height values, which represent the position of grid points on the Y axis. Grid points are spaced 1 unit apart on the X and Z axes, and the grid is centered on the origin of the <reference internal="True" refuri="class_collisionshape3d#class-collisionshape3d"><inline classes="std std-ref">CollisionShape3D</inline></reference> node. Internally, each grid square is divided into two triangles.</paragraph>
            <paragraph>Due to the nature of the heightmap, it cannot be used to model overhangs or caves, which would require multiple vertices at the same vertical location. Holes can be punched through the collision by assigning <reference internal="True" refuri="class_@gdscript#class-gdscript-constant-nan"><inline classes="std std-ref">@GDScript.NAN</inline></reference> to the height of the desired vertices (this is supported in both GodotPhysics3D and Jolt Physics). You could then insert meshes with their own separate collision to provide overhangs, caves, and so on.</paragraph>
            <paragraph><strong>Performance:</strong> <strong>HeightMapShape3D</strong> is faster to check collisions against than <reference internal="True" refuri="class_concavepolygonshape3d#class-concavepolygonshape3d"><inline classes="std std-ref">ConcavePolygonShape3D</inline></reference>, but it is significantly slower than primitive shapes like <reference internal="True" refuri="class_boxshape3d#class-boxshape3d"><inline classes="std std-ref">BoxShape3D</inline></reference>.</paragraph>
            <paragraph>A heightmap collision shape can also be built by using an <reference internal="True" refuri="class_image#class-image"><inline classes="std std-ref">Image</inline></reference> reference:</paragraph>
            <container classes="sphinx-tabs" type="tab-element">
                <div aria-label="Tabbed content" role="tablist">
                    <button aria-controls="panel-0-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                </div>
                <div aria-labelledby="tab-0-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">var heightmap_texture = ResourceLoader.load("res://heightmap_image.exr")
var heightmap_image = heightmap_texture.get_image()
heightmap_image.convert(Image.FORMAT_RF)

var height_min = 0.0
var height_max = 10.0

update_map_data_from_image(heightmap_image, height_min, height_max)</literal_block>
                </div>
            </container>
            <paragraph><strong>Note:</strong> If you need to use a spacing different than 1 unit, you can adjust the <reference internal="True" refuri="class_node3d#class-node3d-property-scale"><inline classes="std std-ref">Node3D.scale</inline></reference> of the shape. However, keep in mind that GodotPhysics3D does not support non-uniform scaling: you'll need to scale the Y axis by the same amount as the X and Z axes, which means the values in <reference internal="True" refid="class-heightmapshape3d-property-map-data"><inline classes="std std-ref">map_data</inline></reference> will need to be pre-scaled by the inverse of that scale. Also note that GodotPhysics3D does not support scaling at all for dynamic bodies (that is, non-frozen <reference internal="True" refuri="class_rigidbody3d#class-rigidbody3d"><inline classes="std std-ref">RigidBody3D</inline></reference> nodes); to use a scaled <strong>HeightMapShape3D</strong> with those, you will need to use Jolt Physics.</paragraph>
        </section>
        <section classes="classref-reftable-group" ids="properties" names="properties">
            <title>Properties</title>
            <table classes="colwidths-auto">
                <tgroup cols="3">
                    <colspec colwidth="53"></colspec>
                    <colspec colwidth="61"></colspec>
                    <colspec colwidth="36"></colspec>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><reference internal="True" refuri="class_packedfloat32array#class-packedfloat32array"><inline classes="std std-ref">PackedFloat32Array</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-heightmapshape3d-property-map-data"><inline classes="std std-ref">map_data</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>PackedFloat32Array(0, 0, 0, 0)</literal></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-heightmapshape3d-property-map-depth"><inline classes="std std-ref">map_depth</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>2</literal></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-heightmapshape3d-property-map-width"><inline classes="std std-ref">map_width</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>2</literal></paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
        <section classes="classref-reftable-group" ids="methods" names="methods">
            <title>Methods</title>
            <table classes="colwidths-auto">
                <tgroup cols="2">
                    <colspec colwidth="27"></colspec>
                    <colspec colwidth="214"></colspec>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><reference internal="True" refuri="class_float#class-float"><inline classes="std std-ref">float</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-heightmapshape3d-method-get-max-height"><inline classes="std std-ref">get_max_height</inline></reference>() <abbreviation explanation="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbreviation></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><reference internal="True" refuri="class_float#class-float"><inline classes="std std-ref">float</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-heightmapshape3d-method-get-min-height"><inline classes="std std-ref">get_min_height</inline></reference>() <abbreviation explanation="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbreviation></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><abbreviation explanation="No return value.">void</abbreviation></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-heightmapshape3d-method-update-map-data-from-image"><inline classes="std std-ref">update_map_data_from_image</inline></reference>(image: <reference internal="True" refuri="class_image#class-image"><inline classes="std std-ref">Image</inline></reference>, height_min: <reference internal="True" refuri="class_float#class-float"><inline classes="std std-ref">float</inline></reference>, height_max: <reference internal="True" refuri="class_float#class-float"><inline classes="std std-ref">float</inline></reference>)</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
        <transition classes="classref-section-separator"></transition>
        <section classes="classref-descriptions-group" ids="property-descriptions" names="property\ descriptions">
            <title>Property Descriptions</title>
            <target refid="class-heightmapshape3d-property-map-data"></target>
            <paragraph classes="classref-property" ids="class-heightmapshape3d-property-map-data" names="class_heightmapshape3d_property_map_data"><reference internal="True" refuri="class_packedfloat32array#class-packedfloat32array"><inline classes="std std-ref">PackedFloat32Array</inline></reference> <strong>map_data</strong> = <literal>PackedFloat32Array(0, 0, 0, 0)</literal> <reference internal="True" refid="class-heightmapshape3d-property-map-data"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <bullet_list bullet="-" classes="classref-property-setget">
                <list_item>
                    <paragraph><abbreviation explanation="No return value.">void</abbreviation> <strong>set_map_data</strong>(value: <reference internal="True" refuri="class_packedfloat32array#class-packedfloat32array"><inline classes="std std-ref">PackedFloat32Array</inline></reference>)</paragraph>
                </list_item>
                <list_item>
                    <paragraph><reference internal="True" refuri="class_packedfloat32array#class-packedfloat32array"><inline classes="std std-ref">PackedFloat32Array</inline></reference> <strong>get_map_data</strong>()</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>Heightmap data. The array's size must be equal to <reference internal="True" refid="class-heightmapshape3d-property-map-width"><inline classes="std std-ref">map_width</inline></reference> multiplied by <reference internal="True" refid="class-heightmapshape3d-property-map-depth"><inline classes="std std-ref">map_depth</inline></reference>.</paragraph>
            <paragraph><strong>Note:</strong> The returned array is <emphasis>copied</emphasis> and any changes to it will not update the original property value. See <reference internal="True" refuri="class_packedfloat32array#class-packedfloat32array"><inline classes="std std-ref">PackedFloat32Array</inline></reference> for more details.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-heightmapshape3d-property-map-depth"></target>
            <paragraph classes="classref-property" ids="class-heightmapshape3d-property-map-depth" names="class_heightmapshape3d_property_map_depth"><reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference> <strong>map_depth</strong> = <literal>2</literal> <reference internal="True" refid="class-heightmapshape3d-property-map-depth"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <bullet_list bullet="-" classes="classref-property-setget">
                <list_item>
                    <paragraph><abbreviation explanation="No return value.">void</abbreviation> <strong>set_map_depth</strong>(value: <reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference>)</paragraph>
                </list_item>
                <list_item>
                    <paragraph><reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference> <strong>get_map_depth</strong>()</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>Number of vertices in the depth of the heightmap. Changing this will resize the <reference internal="True" refid="class-heightmapshape3d-property-map-data"><inline classes="std std-ref">map_data</inline></reference>.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-heightmapshape3d-property-map-width"></target>
            <paragraph classes="classref-property" ids="class-heightmapshape3d-property-map-width" names="class_heightmapshape3d_property_map_width"><reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference> <strong>map_width</strong> = <literal>2</literal> <reference internal="True" refid="class-heightmapshape3d-property-map-width"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <bullet_list bullet="-" classes="classref-property-setget">
                <list_item>
                    <paragraph><abbreviation explanation="No return value.">void</abbreviation> <strong>set_map_width</strong>(value: <reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference>)</paragraph>
                </list_item>
                <list_item>
                    <paragraph><reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference> <strong>get_map_width</strong>()</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>Number of vertices in the width of the heightmap. Changing this will resize the <reference internal="True" refid="class-heightmapshape3d-property-map-data"><inline classes="std std-ref">map_data</inline></reference>.</paragraph>
        </section>
        <transition classes="classref-section-separator"></transition>
        <section classes="classref-descriptions-group" ids="method-descriptions" names="method\ descriptions">
            <title>Method Descriptions</title>
            <target refid="class-heightmapshape3d-method-get-max-height"></target>
            <paragraph classes="classref-method" ids="class-heightmapshape3d-method-get-max-height" names="class_heightmapshape3d_method_get_max_height"><reference internal="True" refuri="class_float#class-float"><inline classes="std std-ref">float</inline></reference> <strong>get_max_height</strong>() <abbreviation explanation="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbreviation> <reference internal="True" refid="class-heightmapshape3d-method-get-max-height"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Returns the largest height value found in <reference internal="True" refid="class-heightmapshape3d-property-map-data"><inline classes="std std-ref">map_data</inline></reference>. Recalculates only when <reference internal="True" refid="class-heightmapshape3d-property-map-data"><inline classes="std std-ref">map_data</inline></reference> changes.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-heightmapshape3d-method-get-min-height"></target>
            <paragraph classes="classref-method" ids="class-heightmapshape3d-method-get-min-height" names="class_heightmapshape3d_method_get_min_height"><reference internal="True" refuri="class_float#class-float"><inline classes="std std-ref">float</inline></reference> <strong>get_min_height</strong>() <abbreviation explanation="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbreviation> <reference internal="True" refid="class-heightmapshape3d-method-get-min-height"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Returns the smallest height value found in <reference internal="True" refid="class-heightmapshape3d-property-map-data"><inline classes="std std-ref">map_data</inline></reference>. Recalculates only when <reference internal="True" refid="class-heightmapshape3d-property-map-data"><inline classes="std std-ref">map_data</inline></reference> changes.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-heightmapshape3d-method-update-map-data-from-image"></target>
            <paragraph classes="classref-method" ids="class-heightmapshape3d-method-update-map-data-from-image" names="class_heightmapshape3d_method_update_map_data_from_image"><abbreviation explanation="No return value.">void</abbreviation> <strong>update_map_data_from_image</strong>(image: <reference internal="True" refuri="class_image#class-image"><inline classes="std std-ref">Image</inline></reference>, height_min: <reference internal="True" refuri="class_float#class-float"><inline classes="std std-ref">float</inline></reference>, height_max: <reference internal="True" refuri="class_float#class-float"><inline classes="std std-ref">float</inline></reference>) <reference internal="True" refid="class-heightmapshape3d-method-update-map-data-from-image"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Updates <reference internal="True" refid="class-heightmapshape3d-property-map-data"><inline classes="std std-ref">map_data</inline></reference> with data read from an <reference internal="True" refuri="class_image#class-image"><inline classes="std std-ref">Image</inline></reference> reference. Automatically resizes heightmap <reference internal="True" refid="class-heightmapshape3d-property-map-width"><inline classes="std std-ref">map_width</inline></reference> and <reference internal="True" refid="class-heightmapshape3d-property-map-depth"><inline classes="std std-ref">map_depth</inline></reference> to fit the full image width and height.</paragraph>
            <paragraph>The image needs to be in either <reference internal="True" refuri="class_image#class-image-constant-format-rf"><inline classes="std std-ref">Image.FORMAT_RF</inline></reference> (32 bit), <reference internal="True" refuri="class_image#class-image-constant-format-rh"><inline classes="std std-ref">Image.FORMAT_RH</inline></reference> (16 bit), or <reference internal="True" refuri="class_image#class-image-constant-format-r8"><inline classes="std std-ref">Image.FORMAT_R8</inline></reference> (8 bit).</paragraph>
            <paragraph>Each image pixel is read in as a float on the range from <literal>0.0</literal> (black pixel) to <literal>1.0</literal> (white pixel). This range value gets remapped to <literal>height_min</literal> and <literal>height_max</literal> to form the final height value.</paragraph>
            <paragraph><strong>Note:</strong> Using a heightmap with 16-bit or 32-bit data, stored in EXR or HDR format is recommended. Using 8-bit height data, or a format like PNG that Godot imports as 8-bit, will result in a terraced terrain.</paragraph>
            <substitution_definition names="virtual"><abbreviation explanation="This method should typically be overridden by the user to have any effect.">virtual</abbreviation></substitution_definition>
            <substitution_definition names="required"><abbreviation explanation="This method is required to be overridden when extending its base class.">required</abbreviation></substitution_definition>
            <substitution_definition names="const"><abbreviation explanation="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbreviation></substitution_definition>
            <substitution_definition names="vararg"><abbreviation explanation="This method accepts any number of arguments after the ones described here.">vararg</abbreviation></substitution_definition>
            <substitution_definition names="constructor"><abbreviation explanation="This method is used to construct a type.">constructor</abbreviation></substitution_definition>
            <substitution_definition names="static"><abbreviation explanation="This method doesn't need an instance to be called, so it can be called directly using the class name.">static</abbreviation></substitution_definition>
            <substitution_definition names="operator"><abbreviation explanation="This method describes a valid operator to use with this type as left-hand operand.">operator</abbreviation></substitution_definition>
            <substitution_definition names="bitfield"><abbreviation explanation="This value is an integer composed as a bitmask of the following flags.">BitField</abbreviation></substitution_definition>
            <substitution_definition names="void"><abbreviation explanation="No return value.">void</abbreviation></substitution_definition>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
