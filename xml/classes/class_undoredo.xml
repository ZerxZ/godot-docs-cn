<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/classes/class_undoredo.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <comment xml:space="preserve">DO NOT EDIT THIS FILE!!!</comment>
    <comment xml:space="preserve">Generated automatically from Godot engine sources.</comment>
    <comment xml:space="preserve">Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.</comment>
    <comment xml:space="preserve">XML source: https://github.com/godotengine/godot/tree/master/doc/classes/UndoRedo.xml.</comment>
    <target refid="class-undoredo"></target>
    <section ids="undoredo class-undoredo" names="undoredo class_undoredo">
        <title>UndoRedo</title>
        <paragraph><strong>Inherits:</strong> <reference internal="True" refuri="class_object#class-object"><inline classes="std std-ref">Object</inline></reference></paragraph>
        <paragraph>Provides a high-level interface for implementing undo and redo operations.</paragraph>
        <section classes="classref-introduction-group" ids="description" names="description">
            <title>Description</title>
            <paragraph>UndoRedo works by registering methods and property changes inside "actions". You can create an action, then provide ways to do and undo this action using function calls and property changes, then commit the action.</paragraph>
            <paragraph>When an action is committed, all of the <literal>do_*</literal> methods will run. If the <reference internal="True" refid="class-undoredo-method-undo"><inline classes="std std-ref">undo()</inline></reference> method is used, the <literal>undo_*</literal> methods will run. If the <reference internal="True" refid="class-undoredo-method-redo"><inline classes="std std-ref">redo()</inline></reference> method is used, once again, all of the <literal>do_*</literal> methods will run.</paragraph>
            <paragraph>Here's an example on how to add an action:</paragraph>
            <container classes="sphinx-tabs" type="tab-element">
                <div aria-label="Tabbed content" role="tablist">
                    <button aria-controls="panel-0-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                    <button aria-controls="panel-0-QyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button>
                </div>
                <div aria-labelledby="tab-0-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">var undo_redo = UndoRedo.new()

func do_something():
    pass # Put your code here.

func undo_something():
    pass # Put here the code that reverts what's done by "do_something()".

func _on_my_button_pressed():
    var node = get_node("MyNode2D")
    undo_redo.create_action("Move the node")
    undo_redo.add_do_method(do_something)
    undo_redo.add_undo_method(undo_something)
    undo_redo.add_do_property(node, "position", Vector2(100, 100))
    undo_redo.add_undo_property(node, "position", node.position)
    undo_redo.commit_action()</literal_block>
                </div>
                <div aria-labelledby="tab-0-QyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-QyM=" name="QyM=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">private UndoRedo _undoRedo;

public override void _Ready()
{
    _undoRedo = new UndoRedo();
}

public void DoSomething()
{
    // Put your code here.
}

public void UndoSomething()
{
    // Put here the code that reverts what's done by "DoSomething()".
}

private void OnMyButtonPressed()
{
    var node = GetNode&lt;Node2D&gt;("MyNode2D");
    _undoRedo.CreateAction("Move the node");
    _undoRedo.AddDoMethod(new Callable(this, MethodName.DoSomething));
    _undoRedo.AddUndoMethod(new Callable(this, MethodName.UndoSomething));
    _undoRedo.AddDoProperty(node, "position", new Vector2(100, 100));
    _undoRedo.AddUndoProperty(node, "position", node.Position);
    _undoRedo.CommitAction();
}</literal_block>
                </div>
            </container>
            <paragraph>Before calling any of the <literal>add_(un)do_*</literal> methods, you need to first call <reference internal="True" refid="class-undoredo-method-create-action"><inline classes="std std-ref">create_action()</inline></reference>. Afterwards you need to call <reference internal="True" refid="class-undoredo-method-commit-action"><inline classes="std std-ref">commit_action()</inline></reference>.</paragraph>
            <paragraph>If you don't need to register a method, you can leave <reference internal="True" refid="class-undoredo-method-add-do-method"><inline classes="std std-ref">add_do_method()</inline></reference> and <reference internal="True" refid="class-undoredo-method-add-undo-method"><inline classes="std std-ref">add_undo_method()</inline></reference> out; the same goes for properties. You can also register more than one method/property.</paragraph>
            <paragraph>If you are making an <reference internal="True" refuri="class_editorplugin#class-editorplugin"><inline classes="std std-ref">EditorPlugin</inline></reference> and want to integrate into the editor's undo history, use <reference internal="True" refuri="class_editorundoredomanager#class-editorundoredomanager"><inline classes="std std-ref">EditorUndoRedoManager</inline></reference> instead.</paragraph>
            <paragraph>If you are registering multiple properties/method which depend on one another, be aware that by default undo operation are called in the same order they have been added. Therefore instead of grouping do operation with their undo operations it is better to group do on one side and undo on the other as shown below.</paragraph>
            <container classes="sphinx-tabs" type="tab-element">
                <div aria-label="Tabbed content" role="tablist">
                    <button aria-controls="panel-1-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-1-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                    <button aria-controls="panel-1-QyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-1-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button>
                </div>
                <div aria-labelledby="tab-1-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-1-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">undo_redo.create_action("Add object")

# DO
undo_redo.add_do_method(_create_object)
undo_redo.add_do_method(_add_object_to_singleton)

# UNDO
undo_redo.add_undo_method(_remove_object_from_singleton)
undo_redo.add_undo_method(_destroy_that_object)

undo_redo.commit_action()</literal_block>
                </div>
                <div aria-labelledby="tab-1-QyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-1-QyM=" name="QyM=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">_undo_redo.CreateAction("Add object");

// DO
_undo_redo.AddDoMethod(new Callable(this, MethodName.CreateObject));
_undo_redo.AddDoMethod(new Callable(this, MethodName.AddObjectToSingleton));

// UNDO
_undo_redo.AddUndoMethod(new Callable(this, MethodName.RemoveObjectFromSingleton));
_undo_redo.AddUndoMethod(new Callable(this, MethodName.DestroyThatObject));

_undo_redo.CommitAction();</literal_block>
                </div>
            </container>
        </section>
        <section classes="classref-reftable-group" ids="properties" names="properties">
            <title>Properties</title>
            <table classes="colwidths-auto">
                <tgroup cols="3">
                    <colspec colwidth="23"></colspec>
                    <colspec colwidth="53"></colspec>
                    <colspec colwidth="7"></colspec>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-property-max-steps"><inline classes="std std-ref">max_steps</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>0</literal></paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
        <section classes="classref-reftable-group" ids="methods" names="methods">
            <title>Methods</title>
            <table classes="colwidths-auto">
                <tgroup cols="2">
                    <colspec colwidth="29"></colspec>
                    <colspec colwidth="214"></colspec>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><abbreviation explanation="No return value.">void</abbreviation></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-add-do-method"><inline classes="std std-ref">add_do_method</inline></reference>(callable: <reference internal="True" refuri="class_callable#class-callable"><inline classes="std std-ref">Callable</inline></reference>)</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><abbreviation explanation="No return value.">void</abbreviation></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-add-do-property"><inline classes="std std-ref">add_do_property</inline></reference>(object: <reference internal="True" refuri="class_object#class-object"><inline classes="std std-ref">Object</inline></reference>, property: <reference internal="True" refuri="class_stringname#class-stringname"><inline classes="std std-ref">StringName</inline></reference>, value: <reference internal="True" refuri="class_variant#class-variant"><inline classes="std std-ref">Variant</inline></reference>)</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><abbreviation explanation="No return value.">void</abbreviation></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-add-do-reference"><inline classes="std std-ref">add_do_reference</inline></reference>(object: <reference internal="True" refuri="class_object#class-object"><inline classes="std std-ref">Object</inline></reference>)</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><abbreviation explanation="No return value.">void</abbreviation></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-add-undo-method"><inline classes="std std-ref">add_undo_method</inline></reference>(callable: <reference internal="True" refuri="class_callable#class-callable"><inline classes="std std-ref">Callable</inline></reference>)</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><abbreviation explanation="No return value.">void</abbreviation></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-add-undo-property"><inline classes="std std-ref">add_undo_property</inline></reference>(object: <reference internal="True" refuri="class_object#class-object"><inline classes="std std-ref">Object</inline></reference>, property: <reference internal="True" refuri="class_stringname#class-stringname"><inline classes="std std-ref">StringName</inline></reference>, value: <reference internal="True" refuri="class_variant#class-variant"><inline classes="std std-ref">Variant</inline></reference>)</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><abbreviation explanation="No return value.">void</abbreviation></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-add-undo-reference"><inline classes="std std-ref">add_undo_reference</inline></reference>(object: <reference internal="True" refuri="class_object#class-object"><inline classes="std std-ref">Object</inline></reference>)</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><abbreviation explanation="No return value.">void</abbreviation></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-clear-history"><inline classes="std std-ref">clear_history</inline></reference>(increase_version: <reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference> = true)</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><abbreviation explanation="No return value.">void</abbreviation></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-commit-action"><inline classes="std std-ref">commit_action</inline></reference>(execute: <reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference> = true)</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><abbreviation explanation="No return value.">void</abbreviation></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-create-action"><inline classes="std std-ref">create_action</inline></reference>(name: <reference internal="True" refuri="class_string#class-string"><inline classes="std std-ref">String</inline></reference>, merge_mode: <reference internal="True" refid="enum-undoredo-mergemode"><inline classes="std std-ref">MergeMode</inline></reference> = 0, backward_undo_ops: <reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference> = false)</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><abbreviation explanation="No return value.">void</abbreviation></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-end-force-keep-in-merge-ends"><inline classes="std std-ref">end_force_keep_in_merge_ends</inline></reference>()</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><reference internal="True" refuri="class_string#class-string"><inline classes="std std-ref">String</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-get-action-name"><inline classes="std std-ref">get_action_name</inline></reference>(id: <reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference>)</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-get-current-action"><inline classes="std std-ref">get_current_action</inline></reference>()</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><reference internal="True" refuri="class_string#class-string"><inline classes="std std-ref">String</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-get-current-action-name"><inline classes="std std-ref">get_current_action_name</inline></reference>() <abbreviation explanation="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbreviation></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-get-history-count"><inline classes="std std-ref">get_history_count</inline></reference>()</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-get-version"><inline classes="std std-ref">get_version</inline></reference>() <abbreviation explanation="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbreviation></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-has-redo"><inline classes="std std-ref">has_redo</inline></reference>() <abbreviation explanation="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbreviation></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-has-undo"><inline classes="std std-ref">has_undo</inline></reference>() <abbreviation explanation="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbreviation></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-is-committing-action"><inline classes="std std-ref">is_committing_action</inline></reference>() <abbreviation explanation="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbreviation></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-redo"><inline classes="std std-ref">redo</inline></reference>()</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><abbreviation explanation="No return value.">void</abbreviation></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-start-force-keep-in-merge-ends"><inline classes="std std-ref">start_force_keep_in_merge_ends</inline></reference>()</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refid="class-undoredo-method-undo"><inline classes="std std-ref">undo</inline></reference>()</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
        <transition classes="classref-section-separator"></transition>
        <section classes="classref-descriptions-group" ids="signals" names="signals">
            <title>Signals</title>
            <target refid="class-undoredo-signal-version-changed"></target>
            <paragraph classes="classref-signal" ids="class-undoredo-signal-version-changed" names="class_undoredo_signal_version_changed"><strong>version_changed</strong>() <reference internal="True" refid="class-undoredo-signal-version-changed"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Called when <reference internal="True" refid="class-undoredo-method-undo"><inline classes="std std-ref">undo()</inline></reference> or <reference internal="True" refid="class-undoredo-method-redo"><inline classes="std std-ref">redo()</inline></reference> was called.</paragraph>
        </section>
        <transition classes="classref-section-separator"></transition>
        <section classes="classref-descriptions-group" ids="enumerations" names="enumerations">
            <title>Enumerations</title>
            <target refid="enum-undoredo-mergemode"></target>
            <paragraph classes="classref-enumeration" ids="enum-undoredo-mergemode" names="enum_undoredo_mergemode">enum <strong>MergeMode</strong>: <reference internal="True" refid="enum-undoredo-mergemode"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <target refid="class-undoredo-constant-merge-disable"></target>
            <paragraph classes="classref-enumeration-constant" ids="class-undoredo-constant-merge-disable" names="class_undoredo_constant_merge_disable"><reference internal="True" refid="enum-undoredo-mergemode"><inline classes="std std-ref">MergeMode</inline></reference> <strong>MERGE_DISABLE</strong> = <literal>0</literal></paragraph>
            <paragraph>Makes "do"/"undo" operations stay in separate actions.</paragraph>
            <target refid="class-undoredo-constant-merge-ends"></target>
            <paragraph classes="classref-enumeration-constant" ids="class-undoredo-constant-merge-ends" names="class_undoredo_constant_merge_ends"><reference internal="True" refid="enum-undoredo-mergemode"><inline classes="std std-ref">MergeMode</inline></reference> <strong>MERGE_ENDS</strong> = <literal>1</literal></paragraph>
            <paragraph>Merges this action with the previous one if they have the same name. Keeps only the first action's "undo" operations and the last action's "do" operations. Useful for sequential changes to a single value.</paragraph>
            <target refid="class-undoredo-constant-merge-all"></target>
            <paragraph classes="classref-enumeration-constant" ids="class-undoredo-constant-merge-all" names="class_undoredo_constant_merge_all"><reference internal="True" refid="enum-undoredo-mergemode"><inline classes="std std-ref">MergeMode</inline></reference> <strong>MERGE_ALL</strong> = <literal>2</literal></paragraph>
            <paragraph>Merges this action with the previous one if they have the same name.</paragraph>
        </section>
        <transition classes="classref-section-separator"></transition>
        <section classes="classref-descriptions-group" ids="property-descriptions" names="property\ descriptions">
            <title>Property Descriptions</title>
            <target refid="class-undoredo-property-max-steps"></target>
            <paragraph classes="classref-property" ids="class-undoredo-property-max-steps" names="class_undoredo_property_max_steps"><reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference> <strong>max_steps</strong> = <literal>0</literal> <reference internal="True" refid="class-undoredo-property-max-steps"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <bullet_list bullet="-" classes="classref-property-setget">
                <list_item>
                    <paragraph><abbreviation explanation="No return value.">void</abbreviation> <strong>set_max_steps</strong>(value: <reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference>)</paragraph>
                </list_item>
                <list_item>
                    <paragraph><reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference> <strong>get_max_steps</strong>()</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>The maximum number of steps that can be stored in the undo/redo history. If the number of stored steps exceeds this limit, older steps are removed from history and can no longer be reached by calling <reference internal="True" refid="class-undoredo-method-undo"><inline classes="std std-ref">undo()</inline></reference>. A value of <literal>0</literal> or lower means no limit.</paragraph>
        </section>
        <transition classes="classref-section-separator"></transition>
        <section classes="classref-descriptions-group" ids="method-descriptions" names="method\ descriptions">
            <title>Method Descriptions</title>
            <target refid="class-undoredo-method-add-do-method"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-add-do-method" names="class_undoredo_method_add_do_method"><abbreviation explanation="No return value.">void</abbreviation> <strong>add_do_method</strong>(callable: <reference internal="True" refuri="class_callable#class-callable"><inline classes="std std-ref">Callable</inline></reference>) <reference internal="True" refid="class-undoredo-method-add-do-method"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Register a <reference internal="True" refuri="class_callable#class-callable"><inline classes="std std-ref">Callable</inline></reference> that will be called when the action is committed.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-add-do-property"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-add-do-property" names="class_undoredo_method_add_do_property"><abbreviation explanation="No return value.">void</abbreviation> <strong>add_do_property</strong>(object: <reference internal="True" refuri="class_object#class-object"><inline classes="std std-ref">Object</inline></reference>, property: <reference internal="True" refuri="class_stringname#class-stringname"><inline classes="std std-ref">StringName</inline></reference>, value: <reference internal="True" refuri="class_variant#class-variant"><inline classes="std std-ref">Variant</inline></reference>) <reference internal="True" refid="class-undoredo-method-add-do-property"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Register a <literal>property</literal> that would change its value to <literal>value</literal> when the action is committed.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-add-do-reference"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-add-do-reference" names="class_undoredo_method_add_do_reference"><abbreviation explanation="No return value.">void</abbreviation> <strong>add_do_reference</strong>(object: <reference internal="True" refuri="class_object#class-object"><inline classes="std std-ref">Object</inline></reference>) <reference internal="True" refid="class-undoredo-method-add-do-reference"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Register a reference to an object that will be erased if the "do" history is deleted. This is useful for objects added by the "do" action and removed by the "undo" action.</paragraph>
            <paragraph>When the "do" history is deleted, if the object is a <reference internal="True" refuri="class_refcounted#class-refcounted"><inline classes="std std-ref">RefCounted</inline></reference>, it will be unreferenced. Otherwise, it will be freed. Do not use for resources.</paragraph>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">var node = Node2D.new()
undo_redo.create_action("Add node")
undo_redo.add_do_method(add_child.bind(node))
undo_redo.add_do_reference(node)
undo_redo.add_undo_method(remove_child.bind(node))
undo_redo.commit_action()</literal_block>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-add-undo-method"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-add-undo-method" names="class_undoredo_method_add_undo_method"><abbreviation explanation="No return value.">void</abbreviation> <strong>add_undo_method</strong>(callable: <reference internal="True" refuri="class_callable#class-callable"><inline classes="std std-ref">Callable</inline></reference>) <reference internal="True" refid="class-undoredo-method-add-undo-method"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Register a <reference internal="True" refuri="class_callable#class-callable"><inline classes="std std-ref">Callable</inline></reference> that will be called when the action is undone.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-add-undo-property"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-add-undo-property" names="class_undoredo_method_add_undo_property"><abbreviation explanation="No return value.">void</abbreviation> <strong>add_undo_property</strong>(object: <reference internal="True" refuri="class_object#class-object"><inline classes="std std-ref">Object</inline></reference>, property: <reference internal="True" refuri="class_stringname#class-stringname"><inline classes="std std-ref">StringName</inline></reference>, value: <reference internal="True" refuri="class_variant#class-variant"><inline classes="std std-ref">Variant</inline></reference>) <reference internal="True" refid="class-undoredo-method-add-undo-property"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Register a <literal>property</literal> that would change its value to <literal>value</literal> when the action is undone.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-add-undo-reference"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-add-undo-reference" names="class_undoredo_method_add_undo_reference"><abbreviation explanation="No return value.">void</abbreviation> <strong>add_undo_reference</strong>(object: <reference internal="True" refuri="class_object#class-object"><inline classes="std std-ref">Object</inline></reference>) <reference internal="True" refid="class-undoredo-method-add-undo-reference"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Register a reference to an object that will be erased if the "undo" history is deleted. This is useful for objects added by the "undo" action and removed by the "do" action.</paragraph>
            <paragraph>When the "undo" history is deleted, if the object is a <reference internal="True" refuri="class_refcounted#class-refcounted"><inline classes="std std-ref">RefCounted</inline></reference>, it will be unreferenced. Otherwise, it will be freed. Do not use for resources.</paragraph>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">var node = $Node2D
undo_redo.create_action("Remove node")
undo_redo.add_do_method(remove_child.bind(node))
undo_redo.add_undo_method(add_child.bind(node))
undo_redo.add_undo_reference(node)
undo_redo.commit_action()</literal_block>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-clear-history"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-clear-history" names="class_undoredo_method_clear_history"><abbreviation explanation="No return value.">void</abbreviation> <strong>clear_history</strong>(increase_version: <reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference> = true) <reference internal="True" refid="class-undoredo-method-clear-history"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Clear the undo/redo history and associated references.</paragraph>
            <paragraph>Passing <literal>false</literal> to <literal>increase_version</literal> will prevent the version number from increasing when the history is cleared.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-commit-action"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-commit-action" names="class_undoredo_method_commit_action"><abbreviation explanation="No return value.">void</abbreviation> <strong>commit_action</strong>(execute: <reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference> = true) <reference internal="True" refid="class-undoredo-method-commit-action"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Commit the action. If <literal>execute</literal> is <literal>true</literal> (which it is by default), all "do" methods/properties are called/set when this function is called.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-create-action"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-create-action" names="class_undoredo_method_create_action"><abbreviation explanation="No return value.">void</abbreviation> <strong>create_action</strong>(name: <reference internal="True" refuri="class_string#class-string"><inline classes="std std-ref">String</inline></reference>, merge_mode: <reference internal="True" refid="enum-undoredo-mergemode"><inline classes="std std-ref">MergeMode</inline></reference> = 0, backward_undo_ops: <reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference> = false) <reference internal="True" refid="class-undoredo-method-create-action"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Create a new action. After this is called, do all your calls to <reference internal="True" refid="class-undoredo-method-add-do-method"><inline classes="std std-ref">add_do_method()</inline></reference>, <reference internal="True" refid="class-undoredo-method-add-undo-method"><inline classes="std std-ref">add_undo_method()</inline></reference>, <reference internal="True" refid="class-undoredo-method-add-do-property"><inline classes="std std-ref">add_do_property()</inline></reference>, and <reference internal="True" refid="class-undoredo-method-add-undo-property"><inline classes="std std-ref">add_undo_property()</inline></reference>, then commit the action with <reference internal="True" refid="class-undoredo-method-commit-action"><inline classes="std std-ref">commit_action()</inline></reference>.</paragraph>
            <paragraph>The way actions are merged is dictated by <literal>merge_mode</literal>.</paragraph>
            <paragraph>The way undo operation are ordered in actions is dictated by <literal>backward_undo_ops</literal>. When <literal>backward_undo_ops</literal> is <literal>false</literal> undo option are ordered in the same order they were added. Which means the first operation to be added will be the first to be undone.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-end-force-keep-in-merge-ends"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-end-force-keep-in-merge-ends" names="class_undoredo_method_end_force_keep_in_merge_ends"><abbreviation explanation="No return value.">void</abbreviation> <strong>end_force_keep_in_merge_ends</strong>() <reference internal="True" refid="class-undoredo-method-end-force-keep-in-merge-ends"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Stops marking operations as to be processed even if the action gets merged with another in the <reference internal="True" refid="class-undoredo-constant-merge-ends"><inline classes="std std-ref">MERGE_ENDS</inline></reference> mode. See <reference internal="True" refid="class-undoredo-method-start-force-keep-in-merge-ends"><inline classes="std std-ref">start_force_keep_in_merge_ends()</inline></reference>.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-get-action-name"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-get-action-name" names="class_undoredo_method_get_action_name"><reference internal="True" refuri="class_string#class-string"><inline classes="std std-ref">String</inline></reference> <strong>get_action_name</strong>(id: <reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference>) <reference internal="True" refid="class-undoredo-method-get-action-name"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Gets the action name from its index.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-get-current-action"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-get-current-action" names="class_undoredo_method_get_current_action"><reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference> <strong>get_current_action</strong>() <reference internal="True" refid="class-undoredo-method-get-current-action"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Gets the index of the current action.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-get-current-action-name"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-get-current-action-name" names="class_undoredo_method_get_current_action_name"><reference internal="True" refuri="class_string#class-string"><inline classes="std std-ref">String</inline></reference> <strong>get_current_action_name</strong>() <abbreviation explanation="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbreviation> <reference internal="True" refid="class-undoredo-method-get-current-action-name"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Gets the name of the current action, equivalent to <literal>get_action_name(get_current_action())</literal>.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-get-history-count"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-get-history-count" names="class_undoredo_method_get_history_count"><reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference> <strong>get_history_count</strong>() <reference internal="True" refid="class-undoredo-method-get-history-count"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Returns how many elements are in the history.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-get-version"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-get-version" names="class_undoredo_method_get_version"><reference internal="True" refuri="class_int#class-int"><inline classes="std std-ref">int</inline></reference> <strong>get_version</strong>() <abbreviation explanation="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbreviation> <reference internal="True" refid="class-undoredo-method-get-version"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Gets the version. Every time a new action is committed, the <strong>UndoRedo</strong>'s version number is increased automatically.</paragraph>
            <paragraph>This is useful mostly to check if something changed from a saved version.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-has-redo"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-has-redo" names="class_undoredo_method_has_redo"><reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference> <strong>has_redo</strong>() <abbreviation explanation="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbreviation> <reference internal="True" refid="class-undoredo-method-has-redo"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Returns <literal>true</literal> if a "redo" action is available.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-has-undo"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-has-undo" names="class_undoredo_method_has_undo"><reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference> <strong>has_undo</strong>() <abbreviation explanation="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbreviation> <reference internal="True" refid="class-undoredo-method-has-undo"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Returns <literal>true</literal> if an "undo" action is available.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-is-committing-action"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-is-committing-action" names="class_undoredo_method_is_committing_action"><reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference> <strong>is_committing_action</strong>() <abbreviation explanation="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbreviation> <reference internal="True" refid="class-undoredo-method-is-committing-action"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Returns <literal>true</literal> if the <strong>UndoRedo</strong> is currently committing the action, i.e. running its "do" method or property change (see <reference internal="True" refid="class-undoredo-method-commit-action"><inline classes="std std-ref">commit_action()</inline></reference>).</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-redo"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-redo" names="class_undoredo_method_redo"><reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference> <strong>redo</strong>() <reference internal="True" refid="class-undoredo-method-redo"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Redo the last action.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-start-force-keep-in-merge-ends"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-start-force-keep-in-merge-ends" names="class_undoredo_method_start_force_keep_in_merge_ends"><abbreviation explanation="No return value.">void</abbreviation> <strong>start_force_keep_in_merge_ends</strong>() <reference internal="True" refid="class-undoredo-method-start-force-keep-in-merge-ends"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Marks the next "do" and "undo" operations to be processed even if the action gets merged with another in the <reference internal="True" refid="class-undoredo-constant-merge-ends"><inline classes="std std-ref">MERGE_ENDS</inline></reference> mode. Return to normal operation using <reference internal="True" refid="class-undoredo-method-end-force-keep-in-merge-ends"><inline classes="std std-ref">end_force_keep_in_merge_ends()</inline></reference>.</paragraph>
            <transition classes="classref-item-separator"></transition>
            <target refid="class-undoredo-method-undo"></target>
            <paragraph classes="classref-method" ids="class-undoredo-method-undo" names="class_undoredo_method_undo"><reference internal="True" refuri="class_bool#class-bool"><inline classes="std std-ref">bool</inline></reference> <strong>undo</strong>() <reference internal="True" refid="class-undoredo-method-undo"><inline classes="std std-ref">ðŸ”—</inline></reference></paragraph>
            <paragraph>Undo the last action.</paragraph>
            <substitution_definition names="virtual"><abbreviation explanation="This method should typically be overridden by the user to have any effect.">virtual</abbreviation></substitution_definition>
            <substitution_definition names="required"><abbreviation explanation="This method is required to be overridden when extending its base class.">required</abbreviation></substitution_definition>
            <substitution_definition names="const"><abbreviation explanation="This method has no side effects. It doesn't modify any of the instance's member variables.">const</abbreviation></substitution_definition>
            <substitution_definition names="vararg"><abbreviation explanation="This method accepts any number of arguments after the ones described here.">vararg</abbreviation></substitution_definition>
            <substitution_definition names="constructor"><abbreviation explanation="This method is used to construct a type.">constructor</abbreviation></substitution_definition>
            <substitution_definition names="static"><abbreviation explanation="This method doesn't need an instance to be called, so it can be called directly using the class name.">static</abbreviation></substitution_definition>
            <substitution_definition names="operator"><abbreviation explanation="This method describes a valid operator to use with this type as left-hand operand.">operator</abbreviation></substitution_definition>
            <substitution_definition names="bitfield"><abbreviation explanation="This value is an integer composed as a bitmask of the following flags.">BitField</abbreviation></substitution_definition>
            <substitution_definition names="void"><abbreviation explanation="No return value.">void</abbreviation></substitution_definition>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
