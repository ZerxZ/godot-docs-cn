<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.17.1 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/contributing/development/configuring_an_ide/visual_studio_code.rst" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-configuring-an-ide-vscode"></target>
    <section dupnames="visual\ studio\ code" ids="visual-studio-code doc-configuring-an-ide-vscode" names="doc_configuring_an_ide_vscode">
        <title>Visual Studio Code</title>
        <paragraph><reference name="Visual Studio Code" refuri="https://code.visualstudio.com">Visual Studio Code</reference><target ids="visual-studio-code" names="visual\ studio\ code" refuri="https://code.visualstudio.com"></target> 是<reference name="微软" refuri="https://microsoft.com">微软</reference><target ids="id1" names="微软" refuri="https://microsoft.com"></target>推出的免费跨平台代码编辑器（请勿与 <reference internal="True" refuri="visual_studio#doc-configuring-an-ide-vs"><inline classes="std std-ref">Visual Studio</inline></reference> 混淆）。</paragraph>
        <section ids="importing-the-project" names="importing\ the\ project 导入项目">
            <title>导入项目</title>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>确保已安装 C/C++ 扩展。你可以在<reference name="官方文档" refuri="https://code.visualstudio.com/docs/languages/cpp">官方文档</reference><target ids="id1" names="官方文档" refuri="https://code.visualstudio.com/docs/languages/cpp"></target>中找到说明。或者也可以用 <reference name="clangd" refuri="https://open-vsx.org/extension/llvm-vs-code-extensions/vscode-clangd">clangd</reference><target ids="clangd" names="clangd" refuri="https://open-vsx.org/extension/llvm-vs-code-extensions/vscode-clangd"></target> 代替。</paragraph>
                </list_item>
                <list_item>
                    <paragraph>使用 clangd 扩展时，请执行 <literal>scons compiledb=yes</literal>。</paragraph>
                </list_item>
                <list_item>
                    <paragraph>现在在VS Code中打开克隆的godot文件夹 <strong>文件 &gt; 打开文件夹...</strong> .</paragraph>
                </list_item>
                <list_item>
                    <paragraph>按 <literal classes="kbd">Ctrl + Shift + P</literal> 打开命令提示符窗口，然后输入 <emphasis>Configure Task</emphasis>。</paragraph>
                </list_item>
            </bullet_list>
            <figure align="center">
                <image candidates="{'*': 'contributing/development/configuring_an_ide/img/vscode_configure_task.png'}" uri="contributing/development/configuring_an_ide/img/vscode_configure_task.png"></image>
            </figure>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>选择从模板中创建tasks.json文件选项.</paragraph>
                </list_item>
            </bullet_list>
            <figure align="center">
                <image candidates="{'*': 'contributing/development/configuring_an_ide/img/vscode_create_tasksjson.png'}" uri="contributing/development/configuring_an_ide/img/vscode_create_tasksjson.png"></image>
            </figure>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>然后选择<strong>其他</strong>。</paragraph>
                </list_item>
            </bullet_list>
            <figure align="center">
                <image candidates="{'*': 'contributing/development/configuring_an_ide/img/vscode_create_tasksjson_others.png'}" uri="contributing/development/configuring_an_ide/img/vscode_create_tasksjson_others.png"></image>
            </figure>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>If there is no such option as <strong>Create tasks.json file from template</strong> available, either delete the file if it already exists in your folder or create a <literal>.vscode/tasks.json</literal> file manually. See <reference name="Tasks in Visual Studio Code" refuri="https://code.visualstudio.com/docs/editor/tasks#_custom-tasks">Tasks in Visual Studio Code</reference><target ids="tasks-in-visual-studio-code" names="tasks\ in\ visual\ studio\ code" refuri="https://code.visualstudio.com/docs/editor/tasks#_custom-tasks"></target> for more details on tasks.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>在 <literal>tasks.json</literal> 文件中找到 <literal>"tasks"</literal> 数组, 并在其中添加一个新部分:</paragraph>
                    <literal_block force="False" highlight_args="{}" language="js" linenos="False" xml:space="preserve">{
  "label": "build",
  "group": "build",
  "type": "shell",
  "command": "scons",
  "args": [
    // enable for debugging with breakpoints
    "dev_build=yes",
  ],
  "problemMatcher": "$msCompile"
}</literal_block>
                </list_item>
            </bullet_list>
            <figure align="center" classes="figure-w480" ids="id2">
                <image candidates="{'*': 'contributing/development/configuring_an_ide/img/vscode_3_tasks.json.png'}" uri="contributing/development/configuring_an_ide/img/vscode_3_tasks.json.png"></image>
                <caption>填好了 <literal>tasks.json</literal> 的一个例子.</caption>
            </figure>
            <paragraph>参数可以根据你自己的设置和需要而不同. 参见 <reference internal="True" refuri="../compiling/introduction_to_the_buildsystem#doc-introduction-to-the-buildsystem"><inline classes="std std-ref">构建系统介绍</inline></reference> 以获取完整的参数列表.</paragraph>
        </section>
        <section ids="debugging-the-project" names="debugging\ the\ project 调试项目">
            <title>调试项目</title>
            <paragraph>为了构建项目, 我们需要配置文件 <literal>launch.json</literal>.</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>按 <literal classes="kbd">Ctrl + Shift + D</literal> 打开“运行”面板。</paragraph>
                </list_item>
                <list_item>
                    <paragraph>如果缺少 <literal>launch.json</literal> 文件, 系统会提示你创建一个新的文件.</paragraph>
                </list_item>
            </bullet_list>
            <figure align="center">
                <image candidates="{'*': 'contributing/development/configuring_an_ide/img/vscode_1_create_launch.json.png'}" uri="contributing/development/configuring_an_ide/img/vscode_1_create_launch.json.png"></image>
            </figure>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>选择 <strong>C++ (GDB/LLDB)</strong> . 这里可能还有其他特定平台的选项. 如果选择了, 请相应调整所提供的配置示例.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>在 <literal>launch.json</literal> 文件中找到 <literal>"configurations"</literal> 数组, 并添加一个新部分:</paragraph>
                </list_item>
            </bullet_list>
            <container classes="sphinx-tabs" type="tab-element">
                <div aria-label="Tabbed content" role="tablist">
                    <button aria-controls="panel-0-TGludXhCU0Q=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-TGludXhCU0Q=" name="TGludXhCU0Q=" role="tab" tabindex="0">LinuxBSD</button>
                    <button aria-controls="panel-0-TGludXhCU0RfZ2Ri" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-TGludXhCU0RfZ2Ri" name="TGludXhCU0RfZ2Ri" role="tab" tabindex="-1">LinuxBSD_gdb</button>
                    <button aria-controls="panel-0-V2luZG93cw==" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="-1">Windows</button>
                </div>
                <div aria-labelledby="tab-0-TGludXhCU0Q=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-0-TGludXhCU0Q=" name="TGludXhCU0Q=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="js" linenos="False" xml:space="preserve">{
  "name": "Launch Project",
  "type": "lldb",
  "request": "launch",
  // Change to godot.linuxbsd.editor.dev.x86_64.llvm for llvm-based builds.
  "program": "${workspaceFolder}/bin/godot.linuxbsd.editor.dev.x86_64",
  // Change the arguments below for the project you want to test with.
  // To run the project instead of editing it, remove the "--editor" argument.
  "args": [ "--editor", "--path", "path-to-your-godot-project-folder" ],
  "stopAtEntry": false,
  "cwd": "${workspaceFolder}",
  "environment": [],
  "externalConsole": false,
  "preLaunchTask": "build"
}</literal_block>
                </div>
                <div aria-labelledby="tab-0-TGludXhCU0RfZ2Ri" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-TGludXhCU0RfZ2Ri" name="TGludXhCU0RfZ2Ri" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="js" linenos="False" xml:space="preserve">{
  "name": "Launch Project",
  "type": "cppdbg",
  "request": "launch",
  // Change to godot.linuxbsd.editor.dev.x86_64.llvm for llvm-based builds.
  "program": "${workspaceFolder}/bin/godot.linuxbsd.editor.dev.x86_64",
  // Change the arguments below for the project you want to test with.
  // To run the project instead of editing it, remove the "--editor" argument.
  "args": [ "--editor", "--path", "path-to-your-godot-project-folder" ],
  "stopAtEntry": false,
  "cwd": "${workspaceFolder}",
  "environment": [],
  "externalConsole": false,
  "setupCommands":
  [
    {
      "description": "Enable pretty-printing for gdb",
      "text": "-enable-pretty-printing",
      "ignoreFailures": true
    },
    {
        "description": "Load custom pretty-printers for Godot types.",
        "text": "source ${workspaceRoot}/misc/scripts/godot_gdb_pretty_print.py"
    }
  ],
  "preLaunchTask": "build"
}</literal_block>
                </div>
                <div aria-labelledby="tab-0-V2luZG93cw==" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="js" linenos="False" xml:space="preserve">{
  "name": "Launch Project",
  "type": "cppvsdbg",
  "request": "launch",
  "program": "${workspaceFolder}/bin/godot.windows.editor.dev.x86_64.exe",
  // Change the arguments below for the project you want to test with.
  // To run the project instead of editing it, remove the "--editor" argument.
  "args": [ "--editor", "--path", "path-to-your-godot-project-folder" ],
  "stopAtEntry": false,
  "cwd": "${workspaceFolder}",
  "environment": [],
  "console": "internalConsole",
  "visualizerFile": "${workspaceFolder}/platform/windows/godot.natvis",
  "preLaunchTask": "build"
}</literal_block>
                </div>
            </container>
            <figure align="center" classes="figure-w480" ids="id3">
                <image candidates="{'*': 'contributing/development/configuring_an_ide/img/vscode_2_launch.json.png'}" uri="contributing/development/configuring_an_ide/img/vscode_2_launch.json.png"></image>
                <caption>填写好的 <literal>launch.json</literal> 的例子.</caption>
            </figure>
            <note>
                <paragraph>由于偶然的性能问题，建议在基于Unix的系统上使用LLDB而不是GDB。确保 <reference name="CodeLLDB extension" refuri="https://marketplace.visualstudio.com/items?itemName=vadimcn.vscode-lldb">CodeLLDB extension</reference><target ids="codelldb-extension" names="codelldb\ extension" refuri="https://marketplace.visualstudio.com/items?itemName=vadimcn.vscode-lldb"></target> 已经安装。</paragraph>
                <paragraph>If you encounter issues with lldb, you may consider using gdb (see the LinuxBSD_gdb configuration).</paragraph>
                <paragraph>Do note that lldb may work better with LLVM-based builds. See <reference internal="True" refuri="../compiling/compiling_for_linuxbsd#doc-compiling-for-linuxbsd"><inline classes="std std-ref">为 Linux、*BSD 平台编译</inline></reference> for further information.</paragraph>
            </note>
            <paragraph>The name under <literal>program</literal> depends on your build configuration,
                e.g. <literal>godot.linuxbsd.editor.dev.x86_64</literal> for 64-bit LinuxBSD platform with
                <literal>target=editor</literal> and <literal>dev_build=yes</literal>.</paragraph>
        </section>
        <section ids="configuring-intellisense" names="configuring\ intellisense">
            <title>Configuring Intellisense</title>
            <paragraph>For the C/C++ extension:</paragraph>
            <paragraph>To fix include errors you may be having, you need to configure some settings in the <literal>c_cpp_properties.json</literal> file.</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>First, make sure to build the project since some files need to be generated.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Edit the C/C++ Configuration file either with the UI or with text:</paragraph>
                </list_item>
            </bullet_list>
            <figure align="center">
                <image candidates="{'*': 'contributing/development/configuring_an_ide/img/vscode_edit_configurations.webp'}" uri="contributing/development/configuring_an_ide/img/vscode_edit_configurations.webp"></image>
            </figure>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Add an include path for your platform, for example, <literal>${workspaceFolder}/platform/windows</literal>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Add defines for the editor <literal>TOOLS_ENABLED</literal>, debug builds <literal>DEBUG_ENABLED</literal>, and tests <literal>TESTS_ENABLED</literal>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Make sure the compiler path is configured correctly to the compiler you are using. See <reference internal="True" refuri="../compiling/introduction_to_the_buildsystem#doc-introduction-to-the-buildsystem"><inline classes="std std-ref">构建系统介绍</inline></reference> for further information on your platform.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>The <literal>c_cpp_properties.json</literal> file should look similar to this for Windows:</paragraph>
                    <literal_block force="False" highlight_args="{}" language="js" linenos="False" xml:space="preserve">{
  "configurations": [
    {
      "name": "Win32",
      "includePath": [
        "${workspaceFolder}/**",
        "${workspaceFolder}/platform/windows"
      ],
      "defines": [
        "_DEBUG",
        "UNICODE",
        "_UNICODE",
        "TOOLS_ENABLED",
        "DEBUG_ENABLED",
        "TESTS_ENABLED"
      ],
      "windowsSdkVersion": "10.0.22621.0",
      "compilerPath": "C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/MSVC/14.39.33519/bin/Hostx64/x64/cl.exe",
      "cStandard": "c17",
      "cppStandard": "c++17",
      "intelliSenseMode": "windows-msvc-x64"
    }
  ],
  "version": 4
}</literal_block>
                </list_item>
                <list_item>
                    <paragraph>Alternatively, you can use the scons argument <literal>compiledb=yes</literal> and set the compile commands setting <literal>compileCommands</literal> to <literal>compile_commands.json</literal>, found in the advanced section of the C/C++ Configuration UI.</paragraph>
                    <bullet_list bullet="-">
                        <list_item>
                            <paragraph>This argument can be added to your build task in <literal>tasks.json</literal> since it will need to be run whenever files are added or moved.</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
            </bullet_list>
            <paragraph>如果遇到问题, 也可在 <reference name="Godot 社区论坛" refuri="https://godotengine.org/community">Godot 社区论坛</reference> 中寻求帮助.</paragraph>
            <tip>
                <paragraph>To get linting on class reference XML files, install the
                    <reference name="vscode-xml extension" refuri="https://marketplace.visualstudio.com/items?itemName=redhat.vscode-xml">vscode-xml extension</reference>.</paragraph>
            </tip>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/zh_CN/?utm_source=widget"><image alt="翻译状态" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
