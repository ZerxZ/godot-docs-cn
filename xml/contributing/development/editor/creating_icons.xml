<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.17.1 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/contributing/development/editor/creating_icons.rst" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-editor-icons"></target>
    <section ids="editor-icons doc-editor-icons" names="editor\ icons 编辑器图标 doc_editor_icons">
        <title>编辑器图标</title>
        <paragraph>当一个新类被创建并暴露于脚本时, 编辑器的界面将显示一个默认图标, 表示它从中继承的基类. 在大多数情况下, 仍然建议为新类创建图标以改善用户体验.</paragraph>
        <section ids="creating-icons" names="creating\ icons 创建图标">
            <title>创建图标</title>
            <paragraph>要创建新图标，你首先需要安装一个向量图形编辑器。例如，你可以使用开源的 <reference name="Inkscape" refuri="https://inkscape.org/">Inkscape</reference><target ids="inkscape" names="inkscape" refuri="https://inkscape.org/"></target> 编辑器。</paragraph>
            <paragraph>克隆包含所有编辑器图标的 <literal>godot</literal> 资源库:</paragraph>
            <literal_block force="False" highlight_args="{}" language="bash" linenos="False" xml:space="preserve">git clone https://github.com/godotengine/godot.git</literal_block>
            <paragraph>图标必须在向量图形编辑器中以 SVG 格式创建. 要遵循两个主要要求:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>图标必须是16×16. 在Inkscape中, 你可以在 <strong>文件&gt;文档属性</strong> 中配置文档大小.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>线条应该尽可能地被捕捉到像素, 以便在较低的DPI下保持清晰, 你可以在Inkscape中创建一个16×16的网格来简化这个过程.</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>一旦你对图标的设计感到满意, 就把图标保存在拷贝版本库的 <literal>editor/icons</literal> 文件夹中. 图标的名称应该与预期的名称相匹配, 并区分大小写. 例如, 要为CPUParticles2D创建一个图标, 将文件命名为 <literal>CPUParticles2D.svg</literal> .</paragraph>
        </section>
        <section ids="color-conversion-for-light-editor-themes" names="color\ conversion\ for\ light\ editor\ themes 为浅色编辑器主题转换颜色">
            <title>为浅色编辑器主题转换颜色</title>
            <paragraph>If the user has configured their editor to use a light theme, Godot will
                convert the icon's colors based on a
                <reference name="set of predefined color mappings" refuri="https://github.com/godotengine/godot/blob/4.0.2-stable/editor/editor_themes.cpp#L60-L160">set of predefined color mappings</reference>.
                This is to ensure the icon always displays with a sufficient contrast rate.
                Try to restrict your icon's color palette to colors found in the list above.
                Otherwise, your icon may become difficult to read on a light background.</paragraph>
        </section>
        <section ids="icon-optimization" names="icon\ optimization 图标优化">
            <title>图标优化</title>
            <paragraph>因为编辑器在加载时只呈现一次SVG, 所以SVG的大小必须很小, 这样才能有效地解析SVG. 在添加到引擎之前, 必须首先优化编辑器图标, 为此:</paragraph>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>从 <reference name="发布选项卡" refuri="https://github.com/RazrFalcon/svgcleaner/releases/latest">发布选项卡</reference> 下载二进制文件, 并将其放置在环境变量 <literal>PATH</literal> 中的一个位置, <reference name="svgcleaner" refuri="https://github.com/RazrFalcon/svgcleaner">svgcleaner</reference> .</paragraph>
                </list_item>
                <list_item>
                    <paragraph>运行下面的命令, 将 <literal>svg_source.svg</literal> 替换为SVG文件的路径(可以是相对或绝对路径):</paragraph>
                    <literal_block force="False" highlight_args="{}" language="bash" linenos="False" xml:space="preserve">svgcleaner --multipass svg_source.svg svg_optimized.svg</literal_block>
                </list_item>
            </enumerated_list>
            <paragraph><literal>--multipass</literal> 开关可以提高压缩率, 所以一定要包含它. 优化后的图标将被保存为 <literal>svg_optimized.svg</literal> . 你也可以将目标参数改为相对或绝对路径.</paragraph>
            <note>
                <paragraph>虽然这个优化步骤不会对图标的质量产生明显影响, 但还是会删除指南等只属于编辑器的信息. 因此, 如果你需要做进一步的修改, 建议将源SVG保留下来.</paragraph>
            </note>
        </section>
        <section ids="integrating-and-sharing-the-icons" names="integrating\ and\ sharing\ the\ icons 集成和分享图标">
            <title>集成和分享图标</title>
            <paragraph>如果你对引擎本身有贡献, 你应该pull request, 在主仓库的 <literal>editor/icons</literal> 中添加优化的图标. 重新编译引擎, 使其获取新的类图标.</paragraph>
            <paragraph>也可以在模块内创建自定义图标. 如果你要创建自己的模块, 并且不打算将其与Godot集成, 则不需要单独的拉取请求即可在编辑器中使用图标, 因为它们可以独立存在.</paragraph>
            <paragraph>有关如何创建模块图标的特定说明, 请参考 <reference internal="True" refuri="../core_and_modules/custom_modules_in_cpp#doc-custom-module-icons"><inline classes="std std-ref">创建自定义模块图标</inline></reference>.</paragraph>
        </section>
        <section ids="troubleshooting" names="troubleshooting 故障排除">
            <title>故障排除</title>
            <paragraph>如果图标没有出现在编辑器中, 请确保:</paragraph>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>每个图标的文件名都符合前面所述的命名要求.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>启用 <literal>modules/svg</literal> (默认情况下应该是启用的). 没有它, 图标针不会出现在编辑器中.</paragraph>
                </list_item>
            </enumerated_list>
        </section>
        <section ids="references" names="references 参考">
            <title>参考</title>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><reference name="editor/icons" refuri="https://github.com/godotengine/godot/tree/master/editor/icons">editor/icons</reference></paragraph>
                </list_item>
            </bullet_list>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/zh_CN/?utm_source=widget"><image alt="翻译状态" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
