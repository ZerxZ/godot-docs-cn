<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.17.1 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/contributing/development/debugging/macos_debug.rst" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <section ids="debugging-on-macos" names="debugging\ on\ macos 在\ macos\ 上调试">
        <title>在 macOS 上调试</title>
        <section ids="debugging-godot-editor" names="debugging\ godot\ editor 调试\ godot\ 编辑器">
            <title>调试 Godot 编辑器</title>
            <paragraph>将调试器附加到具有签名的 macOS 进程上需要“com.apple.security.get-task-allow”授权，默认未启用，因为启用时 App 无法进行公证。如果你想要调试官方构建的编辑器，就需要使用正确的授权重新进行签名。</paragraph>
            <paragraph>创建包含如下内容的 <literal>editor.entitlements</literal> 文本文件：</paragraph>
            <literal_block force="False" highlight_args="{}" language="xml" linenos="False" xml:space="preserve">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;
&lt;plist version="1.0"&gt;
    &lt;dict&gt;
        &lt;key&gt;com.apple.security.cs.allow-dyld-environment-variables&lt;/key&gt;
        &lt;true/&gt;
        &lt;key&gt;com.apple.security.cs.allow-jit&lt;/key&gt;
        &lt;true/&gt;
        &lt;key&gt;com.apple.security.cs.allow-unsigned-executable-memory&lt;/key&gt;
        &lt;true/&gt;
        &lt;key&gt;com.apple.security.cs.disable-executable-page-protection&lt;/key&gt;
        &lt;true/&gt;
        &lt;key&gt;com.apple.security.cs.disable-library-validation&lt;/key&gt;
        &lt;true/&gt;
        &lt;key&gt;com.apple.security.device.audio-input&lt;/key&gt;
        &lt;true/&gt;
        &lt;key&gt;com.apple.security.device.camera&lt;/key&gt;
        &lt;true/&gt;
        &lt;key&gt;com.apple.security.get-task-allow&lt;/key&gt;
        &lt;true/&gt;
    &lt;/dict&gt;
&lt;/plist&gt;</literal_block>
            <paragraph>然后使用以下命令对编辑器进行重新签名：</paragraph>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">codesign -s - --deep --force --options=runtime --entitlements ./editor.entitlements ./path/to/Godot.app</literal_block>
        </section>
        <section ids="debugging-exported-project" names="debugging\ exported\ project 调试导出的项目">
            <title>调试导出的项目</title>
            <paragraph>要允许调试，请在导出时选择 <literal>codesign\debugging</literal>（<literal>com.apple.security.get-task-allow</literal>）授权。选中后不支持公证，所以应该将其禁用。</paragraph>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/zh_CN/?utm_source=widget"><image alt="翻译状态" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
