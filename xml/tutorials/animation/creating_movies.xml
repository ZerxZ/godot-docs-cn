<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/animation/creating_movies.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-creating-movies"></target>
    <section ids="creating-movies doc-creating-movies" names="creating\ movies doc_creating_movies">
        <title>Creating movies</title>
        <paragraph>Godot can record <strong>non-real-time</strong> video and audio from any 2D or 3D project.
            This kind of recording is also called <emphasis>offline rendering</emphasis>.
            There are many scenarios where this is useful:</paragraph>
        <bullet_list bullet="-">
            <list_item>
                <paragraph>Recording game trailers for promotional use.</paragraph>
            </list_item>
            <list_item>
                <paragraph>Recording cutscenes that will be <reference internal="True" refuri="playing_videos#doc-playing-videos"><inline classes="std std-ref">displayed as pre-recorded videos</inline></reference>
                    in the final game. This allows for using higher quality settings
                    (at the cost of file size), regardless of the player's hardware.</paragraph>
            </list_item>
            <list_item>
                <paragraph>Recording procedurally generated animations or motion design. User interaction
                    remains possible during video recording, and audio can be included as well
                    (although you won't be able to hear it while the video is recording).</paragraph>
            </list_item>
            <list_item>
                <paragraph>Comparing the visual output of graphics settings, shaders, or rendering techniques
                    in an animated scene.</paragraph>
            </list_item>
        </bullet_list>
        <paragraph>With Godot's animation features such as the AnimationPlayer node, Tweeners,
            particles and shaders, it can effectively be used to create any kind of 2D and
            3D animations (and still images).</paragraph>
        <paragraph>If you are already used to Godot's workflow, you may find yourself more
            productive by using Godot for video rendering compared to Blender. That said,
            renderers designed for non-real-time usage such as Cycles and Eevee can result
            in better visuals (at the cost of longer rendering times).</paragraph>
        <paragraph>Compared to real-time video recording, some advantages of non-real-time recording include:</paragraph>
        <bullet_list bullet="-">
            <list_item>
                <paragraph>Use any graphics settings (including extremely demanding settings) regardless
                    of your hardware's capabilities. The output video will <emphasis>always</emphasis> have perfect
                    frame pacing; it will never exhibit dropped frames or stuttering.
                    Faster hardware will allow you to render a given animation in less time, but
                    the visual output remains identical.</paragraph>
            </list_item>
            <list_item>
                <paragraph>Render at a higher resolution than the screen resolution, without having to
                    rely on driver-specific tools such as NVIDIA's Dynamic Super Resolution or
                    AMD's Virtual Super Resolution.</paragraph>
            </list_item>
            <list_item>
                <paragraph>Render at a higher framerate than the video's target framerate, then
                    <reference internal="True" refid="doc-creating-movies-motion-blur"><inline classes="std std-ref">post-process to generate high-quality motion blur</inline></reference>.
                    This also makes effects that converge over several frames (such as temporal antialiasing,
                    SDFGI and volumetric fog) look better.</paragraph>
            </list_item>
        </bullet_list>
        <warning>
            <paragraph><strong>This feature is not designed for capturing real-time footage during gameplay.</strong></paragraph>
            <paragraph>Players should use something like <reference name="OBS Studio" refuri="https://obsproject.com/">OBS Studio</reference> or
                <reference name="SimpleScreenRecorder" refuri="https://www.maartenbaert.be/simplescreenrecorder/">SimpleScreenRecorder</reference>
                to record gameplay videos, as they do a much better job at intercepting the
                compositor than Godot can do using Vulkan or OpenGL natively.</paragraph>
            <paragraph>That said, if your game runs at near-real-time speeds when capturing,
                you can still use this feature (but it will lack audible sound playback,
                as sound is saved directly to the video file).</paragraph>
        </warning>
        <section ids="enabling-movie-maker-mode" names="enabling\ movie\ maker\ mode">
            <title>Enabling Movie Maker mode</title>
            <paragraph>To enable Movie Maker mode, click the "movie reel" button in the top-right
                corner of the editor <emphasis>before</emphasis> running the project:</paragraph>
            <figure align="center" ids="id1">
                <image alt='Movie Maker mode is disabled, click the "movie reel" icon to enable' candidates="{'*': 'tutorials/animation/img/creating_movies_enable_movie_maker_mode.webp'}" original_uri="img/creating_movies_enable_movie_maker_mode.webp" uri="tutorials/animation/img/creating_movies_enable_movie_maker_mode.webp"></image>
                <caption>Movie Maker mode is disabled, click the "movie reel" icon to enable</caption>
            </figure>
            <paragraph>A menu will be displayed with options to enable Movie Maker mode and to go to
                the settings. The icon gets a background matching the accent color when Movie
                Maker mode is enabled:</paragraph>
            <figure align="center" ids="id2">
                <image alt='Movie Maker mode is enabled, click the "movie reel" icon again to disable' candidates="{'*': 'tutorials/animation/img/creating_movies_disable_movie_maker_mode.webp'}" original_uri="img/creating_movies_disable_movie_maker_mode.webp" uri="tutorials/animation/img/creating_movies_disable_movie_maker_mode.webp"></image>
                <caption>Movie Maker mode is enabled, click the "movie reel" icon again to disable</caption>
            </figure>
            <paragraph>Movie Maker status is <strong>not</strong> persisted when the editor quits, so you must
                re-enable Movie Maker mode again after restarting the editor if needed.</paragraph>
            <note>
                <paragraph>Toggling Movie Maker mode while running the project will not have any
                    effect until the project is restarted.</paragraph>
            </note>
            <paragraph>Before you can record video by running the project, you still need to configure
                the output file path. This path can be set for all scenes in the Project Settings:</paragraph>
            <figure align="center" ids="id3">
                <image alt="Movie Maker project settings (with Advanced toggle enabled)" candidates="{'*': 'tutorials/animation/img/creating_movies_project_settings.webp'}" original_uri="img/creating_movies_project_settings.webp" uri="tutorials/animation/img/creating_movies_project_settings.webp"></image>
                <caption>Movie Maker project settings (with Advanced toggle enabled)</caption>
            </figure>
            <paragraph>Alternatively, you can set the output file path on a per-scene basis by adding a
                String metadata with the name <literal>movie_file</literal> to the scene's <strong>root node</strong>. This
                is only used when the main scene is set to the scene in question, or when
                running the scene directly by pressing <literal classes="kbd">F6</literal> (<literal classes="kbd">Cmd + R</literal> on macOS).</paragraph>
            <figure align="center" ids="id4">
                <image alt="Inspector view after creating a ``movie_file`` metadata of type String" candidates="{'*': 'tutorials/animation/img/creating_movies_set_per_scene_metadata.webp'}" original_uri="img/creating_movies_set_per_scene_metadata.webp" uri="tutorials/animation/img/creating_movies_set_per_scene_metadata.webp"></image>
                <caption>Inspector view after creating a <literal>movie_file</literal> metadata of type String</caption>
            </figure>
            <paragraph>The path specified in the project settings or metadata can be either absolute,
                or relative to the project root.</paragraph>
            <paragraph>Once you've configured and enabled Movie Maker mode, it will be automatically used
                when running the project from the editor.</paragraph>
            <section ids="command-line-usage" names="command\ line\ usage">
                <title>Command line usage</title>
                <paragraph>Movie Maker can also be enabled from the <reference internal="True" refuri="../editor/command_line_tutorial#doc-command-line-tutorial"><inline classes="std std-ref">command line</inline></reference>:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">godot --path /path/to/your_project --write-movie output.avi</literal_block>
                <paragraph>If the output path is relative, then it is <strong>relative to the project folder</strong>,
                    not the current working directory. In the above example, the file will be
                    written to <literal>/path/to/your_project/output.avi</literal>. This behavior is similar to the
                    <literal>--export-release</literal> command line argument.</paragraph>
                <paragraph>Since Movie Maker's output resolution is set by the viewport size, you can
                    adjust the window size on startup to override it if the project uses the
                    <literal>disabled</literal> or <literal>canvas_items</literal> <reference internal="True" refuri="../rendering/multiple_resolutions#doc-multiple-resolutions"><inline classes="std std-ref">stretch mode</inline></reference>:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">godot --path /path/to/your_project --write-movie output.avi --resolution 1280x720</literal_block>
                <paragraph>Note that the window size is clamped by your display's resolution. See
                    <reference internal="True" refid="doc-creating-movies-recording-at-higher-resolution"><inline classes="std std-ref">Rendering at a higher resolution than the screen resolution</inline></reference> if you need to record
                    a video at a higher resolution than the screen resolution.</paragraph>
                <paragraph>The recording FPS can also be overridden on the command line,
                    without having to edit the Project Settings:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">godot --path /path/to/your_project --write-movie output.avi --fixed-fps 30</literal_block>
                <note>
                    <paragraph>The <literal>--write-movie</literal> and <literal>--fixed-fps</literal> command line arguments are both available
                        in exported projects. Movie Maker mode cannot be toggled while the project is running,
                        but you can use the <reference internal="True" refuri="../../classes/class_os#class-os-method-execute"><inline classes="std std-ref">OS.execute()</inline></reference> method to
                        run a second instance of the exported project that will record a video file.</paragraph>
                </note>
            </section>
        </section>
        <section ids="choosing-an-output-format" names="choosing\ an\ output\ format">
            <title>Choosing an output format</title>
            <paragraph>Output formats are provided by the <reference internal="True" refuri="../../classes/class_moviewriter#class-moviewriter"><inline classes="std std-ref">MovieWriter</inline></reference> class.
                Godot has 3 built-in <reference internal="True" refuri="../../classes/class_moviewriter#class-moviewriter"><inline classes="std std-ref">MovieWriters</inline></reference>, and more can be
                implemented by extensions:</paragraph>
            <section ids="ogv-recommended" names="ogv\ (recommended)">
                <title>OGV (recommended)</title>
                <paragraph>OGV container with Theora for video and Vorbis for audio. Features lossy video
                    and audio compression with a good balance of file size and encoding speed, with
                    a better image quality than MJPEG. It has 4 speed levels that can be adjusted
                    by changing <strong>Editor &gt; Movie Writer &gt; Encoding Speed</strong> with the fastest one
                    being around as fast as AVI with better compression. At slower speed levels, it
                    can compress even better while keeping the same image quality. The lossy
                    compression quality can be adjusted by changing <strong>Editor &gt; Movie Writer &gt; Video
                        Quality</strong> for video and <strong>Editor &gt; Movie Writer &gt; Audio Quality</strong> for audio.</paragraph>
                <paragraph>The Keyframe Interval can be adjusted by changing <strong>Editor &gt; Movie Writer &gt;
                        Keyframe Interval</strong>. In some cases, increasing this setting can improve
                    compression efficiency without downsides.</paragraph>
                <paragraph>The resulting file can be viewed in Godot with <reference internal="True" refuri="../../classes/class_videostreamplayer#class-videostreamplayer"><inline classes="std std-ref">VideoStreamPlayer</inline></reference> and most video players but not web browsers. OGV
                    does not support transparency.</paragraph>
                <paragraph>To use OGV, specify a path to a <literal>.ogv</literal> file to be created in the <strong>Editor &gt;
                        Movie Writer &gt; Movie File</strong> project setting.</paragraph>
                <note>
                    <paragraph>OGV can only be recorded in editor builds.
                        On the other hand, <reference internal="True" refuri="playing_videos#doc-playing-videos"><inline classes="std std-ref">OGV playback</inline></reference>
                        is possible in both editor and export template builds.</paragraph>
                </note>
            </section>
            <section ids="avi" names="avi">
                <title>AVI</title>
                <paragraph>AVI container with MJPEG for video and uncompressed audio. Features lossy video
                    compression, resulting in medium file sizes and fast encoding. The lossy
                    compression quality can be adjusted by changing
                    <strong>Editor &gt; Movie Writer &gt; Video Quality</strong>.</paragraph>
                <paragraph>The resulting file can be viewed in most video players, but it must be converted
                    to another format for viewing on the web or by Godot with the VideoStreamPlayer
                    node. MJPEG does not support transparency. AVI output is currently limited to a
                    file of 4 GB in size at most.</paragraph>
                <paragraph>To use AVI, specify a path to a <literal>.avi</literal> file to be created in the
                    <strong>Editor &gt; Movie Writer &gt; Movie File</strong> project setting.</paragraph>
            </section>
            <section ids="png" names="png">
                <title>PNG</title>
                <paragraph>PNG image sequence for video and WAV for audio. Features lossless video
                    compression, at the cost of large file sizes and slow encoding. This is designed
                    to be
                    <reference internal="True" refid="doc-creating-movies-converting-avi"><inline classes="std std-ref">encoded to a video file with an external tool after recording</inline></reference>.</paragraph>
                <paragraph>Transparency is supported, but the root viewport <strong>must</strong> have its
                    <literal>transparent_bg</literal> property set to <literal>true</literal> for transparency to be visible on
                    the output image. This can be achieved by enabling the <strong>Rendering &gt; Transparent
                        Background</strong> advanced project setting. <strong>Display &gt; Window &gt; Size &gt; Transparent</strong>
                    and <strong>Display &gt; Window &gt; Per Pixel Transparency &gt; Enabled</strong> can optionally be
                    enabled to allow transparency to be previewed while recording the video, but
                    they do not have to be enabled for the output image to contain transparency.</paragraph>
                <paragraph>To use PNG, specify a <literal>.png</literal> file to be created in the
                    <strong>Editor &gt; Movie Writer &gt; Movie File</strong> project setting. The generated <literal>.wav</literal>
                    file will have the same name as the <literal>.png</literal> file (minus the extension).</paragraph>
            </section>
            <section ids="custom" names="custom">
                <title>Custom</title>
                <paragraph>If you need to encode directly to a different format or pipe a stream through
                    third-party software, you can extend the MovieWriter class to create your own
                    movie writers. This should typically be done using GDExtension for performance
                    reasons.</paragraph>
            </section>
        </section>
        <section ids="configuration" names="configuration">
            <title>Configuration</title>
            <paragraph>In the <strong>Editor &gt; Movie Writer</strong> section of the Project Settings, there are
                several options you can configure. Some of them are only visible after enabling
                the <strong>Advanced</strong> toggle in the top-right corner of the Project Settings dialog.</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><strong>Mix Rate Hz:</strong> The audio mix rate to use in the recorded audio when writing
                        a movie. This can be different from the project's mix rate, but this
                        value must be divisible by the recorded FPS to prevent audio from
                        desynchronizing over time.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Speaker Mode:</strong> The speaker mode to use in the recorded audio when writing
                        a movie (stereo, 5.1 surround or 7.1 surround).</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Video Quality:</strong> The image quality to use when writing a video to an OGV or
                        AVI file, between <literal>0.01</literal> and <literal>1.0</literal> (inclusive). Higher quality values result
                        in better-looking output at the cost of larger file sizes. Recommended quality
                        values are between <literal>0.75</literal> and <literal>0.9</literal>. Even at quality <literal>1.0</literal>, compression
                        remains lossy. This setting does not affect audio quality and is ignored when
                        writing to a PNG image sequence.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Movie File:</strong> The output path for the movie. This can be absolute or
                        relative to the project root.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Disable V-Sync:</strong> If enabled, requests V-Sync to be disabled when writing a
                        movie. This can speed up video writing if the hardware is fast enough to
                        render, encode and save the video at a framerate higher than the monitor's
                        refresh rate. This setting has no effect if the operating system or graphics
                        driver forces V-Sync with no way for applications to disable it.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>FPS:</strong> The rendered frames per second in the output movie. Higher values
                        result in smoother animation, at the cost of longer rendering times and larger
                        output file sizes. Most video hosting platforms do not support FPS values
                        higher than 60, but you can use a higher value and use that to generate motion
                        blur.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Audio Quality:</strong> The audio quality to use when writing a video to an OGV
                        file, between <literal>-0.1</literal> and <literal>1.0</literal> (inclusive). Higher quality values result
                        in better audio quality at the cost of very slightly larger file sizes.
                        Recommended quality values are between <literal>0.3</literal> and <literal>0.5</literal>. Even at quality
                        <literal>1.0</literal>, compression remains lossy.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Encoding Speed:</strong> The speed level to use when writing a video to an OGV
                        file. Faster speed levels have less compression efficiency. The image quality
                        stays barely the same.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Keyframe Interval:</strong> Also known as GOP (Group Of Pictures), the maximum
                        number of inter-frames to use when writing to an OGV file. Higher values can
                        improve compression efficiency without quality loss but at the cost of slower
                        video seeks.</paragraph>
                </list_item>
            </bullet_list>
            <note>
                <paragraph>When using the <literal>disabled</literal> or <literal>2d</literal> <reference internal="True" refuri="../rendering/multiple_resolutions#doc-multiple-resolutions"><inline classes="std std-ref">stretch modes</inline></reference>,
                    the output file's resolution is set by the window size. Make sure to resize
                    the window <emphasis>before</emphasis> the splash screen has ended. For this purpose, it's
                    recommended to adjust the
                    <strong>Display &gt; Window &gt; Size &gt; Window Width Override</strong> and
                    <strong>Window Height Override</strong> advanced project settings.</paragraph>
                <paragraph>See also <reference internal="True" refid="doc-creating-movies-recording-at-higher-resolution"><inline classes="std std-ref">Rendering at a higher resolution than the screen resolution</inline></reference>.</paragraph>
            </note>
        </section>
        <section ids="quitting-movie-maker-mode" names="quitting\ movie\ maker\ mode">
            <title>Quitting Movie Maker mode</title>
            <paragraph>To safely quit a project that is using Movie Maker mode, use the X button at the
                top of the window, or call <literal>get_tree().quit()</literal> in a script. You can also use
                the <literal>--quit-after N</literal> command line argument where <literal>N</literal> is the number of frames
                to render before quitting.</paragraph>
            <paragraph>Pressing <literal classes="kbd">F8</literal> (<literal classes="kbd">Cmd + .</literal> on macOS) or pressing <literal classes="kbd">Ctrl + C</literal> on the
                terminal running Godot is <strong>not recommended</strong>, as it will result in an
                improperly formatted AVI file with no duration information. For PNG image
                sequences, PNG images will not be negatively altered, but the associated WAV
                file will still lack duration information. OGV files might end up with slightly
                different duration video and audio tracks but still valid.</paragraph>
            <paragraph>Some video players may still be able to play the AVI or WAV file with working
                video and audio. However, software that makes use of the AVI or WAV file such as
                video editors may not be able to open the file.
                <reference internal="True" refid="doc-creating-movies-converting-avi"><inline classes="std std-ref">Using a video converter program</inline></reference>
                can help in those cases.</paragraph>
            <paragraph>If you're using an AnimationPlayer to control a "main action" in the scene (such
                as camera movement), you can enable the <strong>Movie Quit On Finish</strong> property on the
                AnimationPlayer node in question. When enabled, this property will make Godot
                quit on its own when an animation is done playing <emphasis>and</emphasis> the engine is running in
                Movie Maker mode. Note that <emphasis>this property has no effect on looping animations</emphasis>.
                Therefore, you need to make sure that the animation is set as non-looping.</paragraph>
        </section>
        <section ids="using-high-quality-graphics-settings" names="using\ high-quality\ graphics\ settings">
            <title>Using high-quality graphics settings</title>
            <paragraph>The <literal>movie</literal> <reference internal="True" refuri="../export/feature_tags#doc-feature-tags"><inline classes="std std-ref">feature tag</inline></reference> can be used to override
                specific project settings. This is useful to enable high-quality graphics settings
                that wouldn't be fast enough to run in real-time speeds on your hardware.
                Remember that putting every setting to its maximum value can still slow down
                movie saving speed, especially when recording at higher resolutions. Therefore,
                it's still recommended to only increase graphics settings if they make a meaningful
                difference in the output image.</paragraph>
            <paragraph>This feature tag can also be queried in a script to increase quality settings
                that are set in the Environment resource. For example, to further improve SDFGI
                detail and reduce light leaking:</paragraph>
            <container classes="sphinx-tabs" type="tab-element">
                <div aria-label="Tabbed content" role="tablist">
                    <button aria-controls="panel-0-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                    <button aria-controls="panel-0-QyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button>
                </div>
                <div aria-labelledby="tab-0-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">extends Node3D

func _ready():
    if OS.has_feature("movie"):
        # When recording a movie, improve SDFGI cell density
        # without decreasing its maximum distance.
        get_viewport().world_3d.environment.sdfgi_min_cell_size *= 0.25
        get_viewport().world_3d.environment.sdfgi_cascades = 8</literal_block>
                </div>
                <div aria-labelledby="tab-0-QyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-QyM=" name="QyM=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">using Godot;

public partial class MyNode3D : Node3D
{
    public override void _Ready()
    {
        if (OS.HasFeature("movie"))
        {
            // When recording a movie, improve SDFGI cell density
            // without decreasing its maximum distance.
            GetViewport().World3D.Environment.SdfgiMinCellSize *= 0.25f;
            GetViewport().World3D.Environment.SdfgiCascades = 8;
        }
    }
}</literal_block>
                </div>
            </container>
            <target refid="doc-creating-movies-recording-at-higher-resolution"></target>
        </section>
        <section ids="rendering-at-a-higher-resolution-than-the-screen-resolution doc-creating-movies-recording-at-higher-resolution" names="rendering\ at\ a\ higher\ resolution\ than\ the\ screen\ resolution doc_creating_movies_recording_at_higher_resolution">
            <title>Rendering at a higher resolution than the screen resolution</title>
            <paragraph>The overall rendering quality can be improved significantly by rendering at high
                resolutions such as 4K or 8K.</paragraph>
            <note>
                <paragraph>For 3D rendering, Godot provides a <strong>Rendering &gt; Scaling 3D &gt; Scale</strong>
                    advanced project setting, which can be set above <literal>1.0</literal> to obtain
                    <emphasis>supersample antialiasing</emphasis>. The 3D rendering is then <emphasis>downsampled</emphasis> when it's
                    drawn on the viewport. This provides an expensive but high-quality form of
                    antialiasing, without increasing the final output resolution.</paragraph>
                <paragraph>Consider using this project setting first, as it avoids slowing down movie
                    writing speeds and increasing output file size compared to actually
                    increasing the output resolution.</paragraph>
            </note>
            <paragraph>If you wish to render 2D at a higher resolution, or if you actually need the
                higher raw pixel output for 3D rendering, you can increase the resolution above
                what the screen allows.</paragraph>
            <paragraph>By default, Godot uses the <literal>disabled</literal> <reference internal="True" refuri="../rendering/multiple_resolutions#doc-multiple-resolutions"><inline classes="std std-ref">stretch modes</inline></reference>
                in projects. If using <literal>disabled</literal> or <literal>canvas_items</literal> stretch mode,
                the window size dictates the output video resolution.</paragraph>
            <paragraph>On the other hand, if the project is configured to use the <literal>viewport</literal> stretch
                mode, the viewport resolution dictates the output video resolution. The viewport
                resolution is set using the <strong>Display &gt; Window &gt; Size &gt; Viewport Width</strong> and
                <strong>Viewport Height</strong> project settings. This can be used to render a video at a
                higher resolution than the screen resolution.</paragraph>
            <paragraph>To make the window smaller during recording without affecting the output video
                resolution, you can set the <strong>Display &gt; Window &gt; Size &gt; Window Width Override</strong>
                and <strong>Window Height Override</strong> advanced project settings to values greater than
                <literal>0</literal>.</paragraph>
            <paragraph>To apply a resolution override only when recording a movie, you can override
                those settings with the <literal>movie</literal> <reference internal="True" refuri="../export/feature_tags#doc-feature-tags"><inline classes="std std-ref">feature tag</inline></reference>.</paragraph>
        </section>
        <section ids="post-processing-steps" names="post-processing\ steps">
            <title>Post-processing steps</title>
            <paragraph>Some common post-processing steps are listed below.</paragraph>
            <note>
                <paragraph>When using several post-processing steps, try to perform all of them in a
                    single FFmpeg command. This will save encoding time and improve quality by
                    avoiding multiple lossy encoding steps.</paragraph>
            </note>
            <target refid="doc-creating-movies-converting-avi"></target>
            <section ids="converting-ogv-avi-video-to-mp4 doc-creating-movies-converting-avi" names="converting\ ogv/avi\ video\ to\ mp4 doc_creating_movies_converting_avi">
                <title>Converting OGV/AVI video to MP4</title>
                <paragraph>While some platforms such as YouTube support uploading the AVI file directly, many
                    others will require a conversion step beforehand. <reference name="HandBrake" refuri="https://handbrake.fr/">HandBrake</reference>
                    (GUI) and <reference name="FFmpeg" refuri="https://ffmpeg.org/">FFmpeg</reference> (CLI) are popular open source tools
                    for this purpose. FFmpeg has a steeper learning curve, but it's more powerful.</paragraph>
                <paragraph>The command below converts an OGV/AVI video to an MP4 (H.264) video with a
                    Constant Rate Factor (CRF) of 15. This results in a relatively large file, but
                    is well-suited for platforms that will re-encode your videos to reduce their
                    size (such as most video sharing websites):</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">ffmpeg -i input.avi -crf 15 output.mp4</literal_block>
                <paragraph>To get a smaller file at the cost of quality, <emphasis>increase</emphasis> the CRF value in the
                    above command.</paragraph>
                <paragraph>To get a file with a better size/quality ratio (at the cost of slower encoding
                    times), add <literal>-preset veryslow</literal> before <literal>-crf 15</literal> in the above command. On the
                    contrary, <literal>-preset veryfast</literal> can be used to achieve faster encoding at the
                    cost of a worse size/quality ratio.</paragraph>
                <target refid="doc-creating-movies-converting-image-sequence"></target>
            </section>
            <section ids="converting-png-image-sequence-wav-audio-to-a-video doc-creating-movies-converting-image-sequence" names="converting\ png\ image\ sequence\ +\ wav\ audio\ to\ a\ video doc_creating_movies_converting_image_sequence">
                <title>Converting PNG image sequence + WAV audio to a video</title>
                <paragraph>If you chose to record a PNG image sequence with a WAV file beside it,
                    you need to convert it to a video before you can use it elsewhere.</paragraph>
                <paragraph>The filename for the PNG image sequence generated by Godot always contains 8
                    digits, starting at 0 with zero-padded numbers. If you specify an output
                    path <literal>folder/example.png</literal>, Godot will write <literal>folder/example00000000.png</literal>,
                    <literal>folder/example00000001.png</literal>, and so on in that folder. The audio will be saved
                    at <literal>folder/example.wav</literal>.</paragraph>
                <paragraph>The FPS is specified using the <literal>-r</literal> argument. It should match the FPS
                    specified during recording. Otherwise, the video will appear to be slowed down
                    or sped up, and audio will be out of sync with the video.</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">ffmpeg -r 60 -i input%08d.png -i input.wav -crf 15 output.mp4</literal_block>
                <paragraph>If you recorded a PNG image sequence with transparency enabled, you need to use
                    a video format that supports storing transparency. MP4/H.264 doesn't support
                    storing transparency, so you can use WebM/VP9 as an alternative:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">ffmpeg -r 60 -i input%08d.png -i input.wav -c:v libvpx-vp9 -crf 15 -pix_fmt yuva420p output.webm</literal_block>
                <target refid="doc-creating-movies-motion-blur"></target>
            </section>
            <section ids="cutting-video doc-creating-movies-motion-blur" names="cutting\ video doc_creating_movies_motion_blur">
                <title>Cutting video</title>
                <paragraph>You can trim parts of the video you don't want to keep after the video is
                    recorded. For example, to discard everything before 12.1 seconds and keep
                    only 5.2 seconds of video after that point:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">ffmpeg -i input.avi -ss 00:00:12.10 -t 00:00:05.20 -crf 15 output.mp4</literal_block>
                <paragraph>Cutting videos can also be done with the GUI tool
                    <reference name="LosslessCut" refuri="https://mifi.github.io/lossless-cut/">LosslessCut</reference>.</paragraph>
            </section>
            <section ids="resizing-video" names="resizing\ video">
                <title>Resizing video</title>
                <paragraph>The following command resizes a video to be 1080 pixels tall (1080p),
                    while preserving its existing aspect ratio:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">ffmpeg -i input.avi -vf "scale=-1:1080" -crf 15 output.mp4</literal_block>
                <target refid="doc-creating-movies-reducing-framerate"></target>
            </section>
            <section ids="reducing-framerate doc-creating-movies-reducing-framerate" names="reducing\ framerate doc_creating_movies_reducing_framerate">
                <title>Reducing framerate</title>
                <paragraph>The following command changes a video's framerate to 30 FPS, dropping some of
                    the original frames if there are more in the input video:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">ffmpeg -i input.avi -r 30 -crf 15 output.mp4</literal_block>
            </section>
            <section ids="generating-accumulation-motion-blur-with-ffmpeg" names="generating\ accumulation\ motion\ blur\ with\ ffmpeg">
                <title>Generating accumulation motion blur with FFmpeg</title>
                <paragraph>Godot does not have built-in support for motion blur, but it can still be
                    created in recorded videos.</paragraph>
                <paragraph>If you record the video at a multiple of the original framerate, you can blend
                    the frames together then reduce the frameate to produce a video with
                    <emphasis>accumulation motion blur</emphasis>. This motion blur can look very good, but it can take
                    a long time to generate since you have to render many more frames per second (on
                    top of the time spent on post-processing).</paragraph>
                <paragraph>Example with a 240 FPS source video, generating 4Ã— motion blur and decreasing
                    its output framerate to 60 FPS:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">ffmpeg -i input.avi -vf "tmix=frames=4, fps=60" -crf 15 output.mp4</literal_block>
                <paragraph>This also makes effects that converge over several frames (such as temporal
                    antialiasing, SDFGI and volumetric fog) converge faster and therefore look
                    better, since they'll be able to work with more data at a given time.
                    See <reference internal="True" refid="doc-creating-movies-reducing-framerate"><inline classes="std std-ref">Reducing framerate</inline></reference> if you want to get this benefit
                    without adding motion blur.</paragraph>
                <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
            </section>
        </section>
    </section>
</document>
