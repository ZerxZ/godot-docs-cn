<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/animation/animation_track_types.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-animation-track-types"></target>
    <section ids="animation-track-types doc-animation-track-types" names="animation\ track\ types doc_animation_track_types">
        <title>Animation Track types</title>
        <paragraph>This page gives an overview of the track types available for Godot's animation
            player node on top of the default property tracks.</paragraph>
        <seealso>
            <paragraph>We assume you already read <reference internal="True" refuri="introduction#doc-introduction-animation"><inline classes="std std-ref">Introduction to the animation features</inline></reference>, which covers
                the basics, including property tracks.</paragraph>
        </seealso>
        <image candidates="{'*': 'tutorials/animation/img/track_types.webp'}" original_uri="img/track_types.webp" uri="tutorials/animation/img/track_types.webp"></image>
        <section ids="property-track" names="property\ track">
            <title>Property Track</title>
            <paragraph>The most basic track type. See <reference internal="True" refuri="introduction#doc-introduction-animation"><inline classes="std std-ref">Introduction to the animation features</inline></reference>.</paragraph>
        </section>
        <section ids="position-3d-rotation-3d-scale-3d-track" names="position\ 3d\ /\ rotation\ 3d\ /\ scale\ 3d\ track">
            <title>Position 3D / Rotation 3D / Scale 3D Track</title>
            <paragraph>These 3D transform tracks control the location, rotation, and scale of a 3D object.
                They make it easier to animate a 3D object's transform compared to using regular
                property tracks.</paragraph>
            <paragraph>It is designed for animations imported from external 3D models and can reduce resource capacity through compression.</paragraph>
        </section>
        <section ids="blend-shape-track" names="blend\ shape\ track">
            <title>Blend Shape Track</title>
            <paragraph>A blend shape track is optimized for animating blend shape in <reference internal="True" refuri="../../classes/class_meshinstance3d#class-meshinstance3d"><inline classes="std std-ref">MeshInstance3D</inline></reference>.</paragraph>
            <paragraph>It is designed for animations imported from external 3D models and can reduce resource capacity through compression.</paragraph>
        </section>
        <section ids="call-method-track" names="call\ method\ track">
            <title>Call Method Track</title>
            <paragraph>A call method track allow you to call a function at a precise time from within an
                animation. For example, you can call <literal>queue_free()</literal> to delete a node at the
                end of a death animation.</paragraph>
            <note>
                <paragraph>The events placed on the call method track are not executed when the animation is previewed in the editor for safety.</paragraph>
            </note>
            <paragraph>To create such a track in the editor, click "Add Track -&gt; Call Method Track." Then, a window
                opens and lets you select the node to associate with the track. To call one of
                the node's methods, right-click the timeline and select "Insert Key". A window
                opens with a list of available methods. Double-click one to finish creating the
                keyframe.</paragraph>
            <image candidates="{'*': 'tutorials/animation/img/node_methods.webp'}" original_uri="img/node_methods.webp" uri="tutorials/animation/img/node_methods.webp"></image>
            <paragraph>To change the method call or its arguments, click on the key and head to the
                inspector dock. There, you can change the method to call. If you expand the
                "Args" section, you will see a list of arguments you can edit.</paragraph>
            <image candidates="{'*': 'tutorials/animation/img/node_method_args.webp'}" original_uri="img/node_method_args.webp" uri="tutorials/animation/img/node_method_args.webp"></image>
            <paragraph>To create such a track through code, pass a dictionary that contains the target method's name
                and parameters as the Variant for <literal>key</literal> in <literal>Animation.track_insert_key()</literal>. The keys and
                their expected values are as follows:</paragraph>
            <table>
                <tgroup cols="2">
                    <colspec colwidth="39"></colspec>
                    <colspec colwidth="77"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph><strong>Key</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph><strong>Value</strong></paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><literal>"method"</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>The name of the method as a <literal>String</literal></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><literal>"args"</literal></paragraph>
                            </entry>
                            <entry>
                                <paragraph>The arguments to pass to the function as an <literal>Array</literal></paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
            <container classes="sphinx-tabs" type="tab-element">
                <div aria-label="Tabbed content" role="tablist">
                    <button aria-controls="panel-0-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                    <button aria-controls="panel-0-QyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button>
                </div>
                <div aria-labelledby="tab-0-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve"># Create a call method track.
func create_method_animation_track():
    # Get or create the animation the target method will be called from.
    var animation = $AnimationPlayer.get_animation("idle")
    # Get or create the target method's animation track.
    var track_index = animation.add_track(Animation.TYPE_METHOD)
    # Make the arguments for the target method jump().
    var jump_velocity = -400.0
    var multiplier = randf_range(.8, 1.2)
    # Get or create a dictionary with the target method's name and arguments.
    var method_dictionary = {
        "method": "jump",
        "args": [jump_velocity, multiplier],
    }

    # Set scene-tree path to node with target method.
    animation.track_set_path(track_index, ".")
    # Add the dictionary as the animation method track's key.
    animation.track_insert_key(track_index, 0.6, method_dictionary, 0)


# The target method that will be called from the animation.
func jump(jump_velocity, multiplier):
    velocity.y = jump_velocity * multiplier</literal_block>
                </div>
                <div aria-labelledby="tab-0-QyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-QyM=" name="QyM=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">// Create a call method track.
public void CreateAnimationTrack()
{
    // Get reference to the AnimationPlayer.
    var animationPlayer = GetNode&lt;AnimationPlayer&gt;("AnimationPlayer");
    // Get or create the animation the target method will be called from.
    var animation = animationPlayer.GetAnimation("idle");
    // Get or create the target method's animation track.
    var trackIndex = animation.AddTrack(Animation.TrackType.Method);
    // Make the arguments for the target method Jump().
    var jumpVelocity = -400.0;
    var multiplier = GD.RandRange(.8, 1.2);
    // Get or create a dictionary with the target method's name and arguments.
    var methodDictionary = new Godot.Collections.Dictionary
    {
        { "method", MethodName.Jump },
        { "args", new Godot.Collections.Array { jumpVelocity, multiplier } }
    };

    // Set scene-tree path to node with target method.
    animation.TrackSetPath(trackIndex, ".");
    // Add the dictionary as the animation method track's key.
    animation.TrackInsertKey(trackIndex, 0.6, methodDictionary, 0);
}


// The target method that will be called from the animation.
private void Jump(float jumpVelocity, float multiplier)
{
    Velocity = new Vector2(Velocity.X, jumpVelocity * multiplier);
}</literal_block>
                </div>
            </container>
        </section>
        <section ids="bezier-curve-track" names="bezier\ curve\ track">
            <title>Bezier Curve Track</title>
            <paragraph>A bezier curve track is similar to a property track, except it allows you to
                animate a property's value using a bezier curve.</paragraph>
            <note>
                <paragraph>Bezier curve track and property track cannot be blended in <reference internal="True" refuri="../../classes/class_animationplayer#class-animationplayer"><inline classes="std std-ref">AnimationPlayer</inline></reference> and <reference internal="True" refuri="../../classes/class_animationtree#class-animationtree"><inline classes="std std-ref">AnimationTree</inline></reference>.</paragraph>
            </note>
            <paragraph>To create one, click "Add Track -&gt; Bezier Curve Track". As with property tracks,
                you need to select a node and a property to animate. To open the bezier curve
                editor, click the curve icon to the right of the animation track.</paragraph>
            <image candidates="{'*': 'tutorials/animation/img/bezier_curve_icon.webp'}" original_uri="img/bezier_curve_icon.webp" uri="tutorials/animation/img/bezier_curve_icon.webp"></image>
            <paragraph>In the editor, keys are represented by filled diamonds and the outlined
                diamonds connected to them by a line control curve's shape.</paragraph>
            <tip>
                <paragraph>For better precision while manually working with curves, you might want to alter
                    the zoom levels of the editor. The slider on the bottom right of the editor can be used to
                    zoom in and out on the time axis, you can also do that with <literal classes="kbd">Ctrl + Shift + Mouse wheel</literal>.
                    Using <literal classes="kbd">Ctrl + Alt + Mouse wheel</literal> will zoom in and out on the Y axis</paragraph>
            </tip>
            <image candidates="{'*': 'tutorials/animation/img/bezier_curves.webp'}" original_uri="img/bezier_curves.webp" uri="tutorials/animation/img/bezier_curves.webp"></image>
            <paragraph>While a keyframe is selected (not the handle), in the right click panel of the
                editor, you can select the handle mode:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Free: Allows you to orient a manipulator in any direction without affecting the
                        other's position.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Linear: Does not allow rotation of the manipulator and draws a linear graph.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Balanced: Makes it so manipulators rotate together, but the distance between
                        the key and a manipulator is not mirrored.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Mirrored: Makes the position of one manipulator perfectly mirror the other,
                        including their distance to the key.</paragraph>
                </list_item>
            </bullet_list>
            <image candidates="{'*': 'tutorials/animation/img/manipulator_modes.webp'}" original_uri="img/manipulator_modes.webp" uri="tutorials/animation/img/manipulator_modes.webp"></image>
        </section>
        <section ids="audio-playback-track" names="audio\ playback\ track">
            <title>Audio Playback Track</title>
            <paragraph>If you want to create an animation with audio, you need to create an audio
                playback track. To create one, your scene must have either an AudioStreamPlayer,
                AudioStreamPlayer2D, or AudioStreamPlayer3D node. When creating the track, you
                must select one of those nodes.</paragraph>
            <paragraph>To play a sound in your animation, drag and drop an audio file from the file
                system dock onto the animation track. You should see the waveform of your audio
                file in the track.</paragraph>
            <image candidates="{'*': 'tutorials/animation/img/audio_track.webp'}" original_uri="img/audio_track.webp" uri="tutorials/animation/img/audio_track.webp"></image>
            <paragraph>To remove a sound from the animation, you can right-click it and select "Delete
                Key(s)" or click on it and press the <literal classes="kbd">Del</literal> key.</paragraph>
            <paragraph>The blend mode allows you to choose whether or not to adjust the audio volume when blending in the <reference internal="True" refuri="../../classes/class_animationtree#class-animationtree"><inline classes="std std-ref">AnimationTree</inline></reference>.</paragraph>
            <image candidates="{'*': 'tutorials/animation/img/blend_mode.webp'}" original_uri="img/blend_mode.webp" uri="tutorials/animation/img/blend_mode.webp"></image>
        </section>
        <section ids="animation-playback-track" names="animation\ playback\ track">
            <title>Animation Playback Track</title>
            <paragraph>Animation playback tracks allow you to sequence the animations of other
                animation player nodes in a scene. For example, you can use it to animate
                several characters in a cut-scene.</paragraph>
            <paragraph>To create an animation playback track, select "New Track -&gt; Animation Playback
                Track."</paragraph>
            <paragraph>Then, select the animation player you want to associate with the track.</paragraph>
            <paragraph>To add an animation to the track, right-click on it and insert a key. Select the
                key you just created to select an animation in the inspector dock.</paragraph>
            <image candidates="{'*': 'tutorials/animation/img/animation_player_animation.webp'}" original_uri="img/animation_player_animation.webp" uri="tutorials/animation/img/animation_player_animation.webp"></image>
            <paragraph>If an animation is already playing and you want to stop it early, you can create
                a key and have it set to <title_reference>[STOP]</title_reference> in the inspector.</paragraph>
            <note>
                <paragraph>If you instanced a scene that contains an animation player into your
                    scene, you need to enable "Editable Children" in the scene tree to
                    access its animation player. Also, an animation player cannot
                    reference itself.</paragraph>
            </note>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
