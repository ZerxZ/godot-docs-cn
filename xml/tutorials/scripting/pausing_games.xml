<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/scripting/pausing_games.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-pausing-games"></target>
    <section ids="pausing-games-and-process-mode doc-pausing-games" names="pausing\ games\ and\ process\ mode doc_pausing_games">
        <title>Pausing games and process mode</title>
        <section ids="introduction" names="introduction">
            <title>Introduction</title>
            <paragraph>In most games it is desirable to, at some point, interrupt the
                game to do something else, such as taking a break or changing options.
                Implementing a fine-grained control for what can be paused (and what cannot)
                is a lot of work, so a simple framework for pausing is provided in
                Godot.</paragraph>
        </section>
        <section ids="how-pausing-works" names="how\ pausing\ works">
            <title>How pausing works</title>
            <paragraph>To pause the game the pause state must be set. This is done by assigning
                <literal>true</literal> to the <reference internal="True" refuri="../../classes/class_scenetree#class-scenetree-property-paused"><inline classes="std std-ref">SceneTree.paused</inline></reference> property:</paragraph>
            <container classes="sphinx-tabs" type="tab-element">
                <div aria-label="Tabbed content" role="tablist">
                    <button aria-controls="panel-0-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                    <button aria-controls="panel-0-QyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button>
                </div>
                <div aria-labelledby="tab-0-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">get_tree().paused = true</literal_block>
                </div>
                <div aria-labelledby="tab-0-QyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-QyM=" name="QyM=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">GetTree().Paused = true;</literal_block>
                </div>
            </container>
            <paragraph>Doing this will cause two things. First, 2D and 3D physics will be stopped
                for all nodes. Second, the behavior of certain nodes will stop or start
                depending on their process mode.</paragraph>
            <note>
                <paragraph>The physics servers can be made active while the game is
                    paused by using their <literal>set_active</literal> methods.</paragraph>
            </note>
        </section>
        <section ids="process-modes" names="process\ modes">
            <title>Process Modes</title>
            <paragraph>Each node in Godot has a "Process Mode" that defines when it processes. It can
                be found and changed under a node's <reference internal="True" refuri="../../classes/class_node#class-node"><inline classes="std std-ref">Node</inline></reference> properties in the inspector.</paragraph>
            <image candidates="{'*': 'tutorials/scripting/img/pausemode.webp'}" original_uri="img/pausemode.webp" uri="tutorials/scripting/img/pausemode.webp"></image>
            <paragraph>You can also alter the property with code:</paragraph>
            <container classes="sphinx-tabs" type="tab-element">
                <div aria-label="Tabbed content" role="tablist">
                    <button aria-controls="panel-1-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-1-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                    <button aria-controls="panel-1-QyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-1-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button>
                </div>
                <div aria-labelledby="tab-1-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-1-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">func _ready():
    process_mode = Node.PROCESS_MODE_PAUSABLE</literal_block>
                </div>
                <div aria-labelledby="tab-1-QyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-1-QyM=" name="QyM=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">public override void _Ready()
{
    ProcessMode = Node.ProcessModeEnum.Pausable;
}</literal_block>
                </div>
            </container>
            <paragraph>This is what each mode tells a node to do:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><strong>Inherit</strong>: Process depending on the state of the parent,
                        grandparent, etc. The first parent that has a non-Inherit state.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Pausable</strong>: Process the node (and its children in Inherit
                        mode) only when the game is not paused.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>WhenPaused</strong>: Process the node (and its children in Inherit
                        mode) <emphasis>only</emphasis> when the game is paused.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Always</strong>: Process the node (and its children in Inherit
                        mode) no matter what. Paused or not, this node will process.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Disabled</strong>: The node (and its children in Inherit
                        mode) will not process at all.</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>By default, all nodes have this property in the "Inherit" state. If the
                parent is set to "Inherit", then the grandparent will be checked and so
                on. If a state can't be found in any of the grandparents, the pause state
                in SceneTree is used. This means that, by default, when the game is paused
                every node will be paused. Several things happen when a node stops processing.</paragraph>
            <paragraph>The <literal>_process</literal>, <literal>_physics_process</literal>, <literal>_input</literal>, and <literal>_input_event</literal> functions
                will not be called. However signals still work and cause their connected function to
                run, even if that function's script is attached to a node that is not currently being processed.</paragraph>
            <paragraph>Animation nodes will pause their current animation, audio nodes
                will pause their current audio stream, and particles will pause. These resume
                automatically when the game is no longer paused.</paragraph>
            <paragraph>It is important to note that even if a node is processing while the game is
                paused physics will <strong>NOT</strong> work for it by default. As stated earlier this is
                because the physics servers are turned off. The physics servers can be made
                active while the game is paused by using their <literal>set_active</literal> methods.</paragraph>
        </section>
        <section ids="pause-menu-example" names="pause\ menu\ example">
            <title>Pause menu example</title>
            <paragraph>Start by creating a button that will be used to pause the game.</paragraph>
            <paragraph>Create a menu containing a close button, set the <strong>Process Mode</strong> of the menu's root node
                to <strong>When Paused</strong>, then hide the menu. Since the process mode is set to <strong>When Paused</strong>
                on the root node, all its children and grandchildren will inherit that process mode.
                This way, all the nodes in the menu will start processing when the game is paused.</paragraph>
            <paragraph>Attach a script to the menu's root node, connect the pause button created earlier to a new method in
                the script, and inside that method pause the game and show the pause menu.</paragraph>
            <container classes="sphinx-tabs" type="tab-element">
                <div aria-label="Tabbed content" role="tablist">
                    <button aria-controls="panel-2-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-2-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                    <button aria-controls="panel-2-QyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-2-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button>
                </div>
                <div aria-labelledby="tab-2-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-2-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">func _on_pause_button_pressed():
    get_tree().paused = true
    show()</literal_block>
                </div>
                <div aria-labelledby="tab-2-QyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-2-QyM=" name="QyM=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">private void OnPauseButtonPressed()
{
    GetTree().Paused = true;
    Show();
}</literal_block>
                </div>
            </container>
            <paragraph>Finally, connect the menu's close button to a new method in the script. Inside that method,
                unpause the game and hide the pause menu.</paragraph>
            <container classes="sphinx-tabs" type="tab-element">
                <div aria-label="Tabbed content" role="tablist">
                    <button aria-controls="panel-3-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-3-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                    <button aria-controls="panel-3-QyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-3-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button>
                </div>
                <div aria-labelledby="tab-3-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-3-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">func _on_close_button_pressed():
    hide()
    get_tree().paused = false</literal_block>
                </div>
                <div aria-labelledby="tab-3-QyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-3-QyM=" name="QyM=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">private void OnCloseButtonPressed()
{
    Hide();
    GetTree().Paused = false;
}</literal_block>
                </div>
            </container>
            <paragraph>You should now have a working pause menu.</paragraph>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
