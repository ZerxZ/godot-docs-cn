<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/scripting/groups.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-groups"></target>
    <section ids="groups doc-groups" names="groups doc_groups">
        <title>Groups</title>
        <paragraph>Groups in Godot work like tags in other software. You can add a node to as many
            groups as you want. Then, in code, you can use the SceneTree to:</paragraph>
        <bullet_list bullet="-">
            <list_item>
                <paragraph>Get a list of nodes in a group.</paragraph>
            </list_item>
            <list_item>
                <paragraph>Call a method on all nodes in a group.</paragraph>
            </list_item>
            <list_item>
                <paragraph>Send a notification to all nodes in a group.</paragraph>
            </list_item>
        </bullet_list>
        <paragraph>This is a useful feature to organize large scenes and decouple code.</paragraph>
        <section ids="managing-groups" names="managing\ groups">
            <title>Managing groups</title>
            <paragraph>Groups are created by adding a node to a new group name, and likewise they are
                removed by removing all nodes from a given group.</paragraph>
            <paragraph>There are two ways to add/remove nodes to groups:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>During design, by using the Node dock in the editor, or the Global Groups in project settings.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>During execution, by calling <reference internal="True" refuri="../../classes/class_node#class-node-method-add-to-group"><inline classes="std std-ref">Node.add_to_group()</inline></reference>
                        or <reference internal="True" refuri="../../classes/class_node#class-node-method-remove-from-group"><inline classes="std std-ref">Node.remove_from_group()</inline></reference>.</paragraph>
                </list_item>
            </bullet_list>
            <section ids="using-the-node-dock" names="using\ the\ node\ dock">
                <title>Using the Node dock</title>
                <paragraph>You can create new groups using the Groups tab in the Node dock.</paragraph>
                <image candidates="{'*': 'tutorials/scripting/img/groups_node_tab.webp'}" original_uri="img/groups_node_tab.webp" uri="tutorials/scripting/img/groups_node_tab.webp"></image>
                <paragraph>Select a node in the Scene dock then click the add button with the + symbol.</paragraph>
                <image candidates="{'*': 'tutorials/scripting/img/groups_add_new_group_button.webp'}" original_uri="img/groups_add_new_group_button.webp" uri="tutorials/scripting/img/groups_add_new_group_button.webp"></image>
                <paragraph>You should now see the Create New Group modal appear. Write the group name in the field.</paragraph>
                <paragraph>You can optionally mark the option "Global", which will make the group visible project-wide,
                    and able to be reused in any project scene. This will also allow you to give it a description.</paragraph>
                <paragraph>When done, press Ok to create it.</paragraph>
                <image candidates="{'*': 'tutorials/scripting/img/groups_add_new_group_modal.webp'}" original_uri="img/groups_add_new_group_modal.webp" uri="tutorials/scripting/img/groups_add_new_group_modal.webp"></image>
                <paragraph>You should see the new groups appear in the Groups tab under Scene Groups if the Global option was
                    unmarked, or under Global Groups if that option was marked.</paragraph>
                <paragraph>A selected Node from the Scene dock can be added into groups by marking the checkbox on the left side
                    of the groups in the Groups dock. The node you had selected when creating a new group will be automatically checked.</paragraph>
                <image candidates="{'*': 'tutorials/scripting/img/groups_node_tab_with_created_groups.webp'}" original_uri="img/groups_node_tab_with_created_groups.webp" uri="tutorials/scripting/img/groups_node_tab_with_created_groups.webp"></image>
                <paragraph>All groups present in the project that were marked as Global, created from any scene, will be visible under Global Groups.</paragraph>
                <paragraph>Any other group derived from nodes in the current scene will appear under Scene Groups.</paragraph>
                <warning>
                    <paragraph>The same underlying logic is used for both Global and Scene groups.
                        Groups with the same name are considered one and the same. This feature is purely organizational.</paragraph>
                </warning>
                <image candidates="{'*': 'tutorials/scripting/img/groups_node_tab_with_multiple_types_of_groups.webp'}" original_uri="img/groups_node_tab_with_multiple_types_of_groups.webp" uri="tutorials/scripting/img/groups_node_tab_with_multiple_types_of_groups.webp"></image>
                <paragraph>You can manage Global Groups in the Global Groups dock, inside Project Settings. There, you will be able to add new
                    global groups, or change existing groups' names and descriptions.</paragraph>
                <image candidates="{'*': 'tutorials/scripting/img/groups_global_groups_settings.webp'}" original_uri="img/groups_global_groups_settings.webp" uri="tutorials/scripting/img/groups_global_groups_settings.webp"></image>
            </section>
            <section ids="using-code" names="using\ code">
                <title>Using code</title>
                <paragraph>You can also manage groups from scripts. The following code adds the node to
                    which you attach the script to the <literal>guards</literal> group as soon as it enters the
                    scene tree.</paragraph>
                <container classes="sphinx-tabs" type="tab-element">
                    <div aria-label="Tabbed content" role="tablist">
                        <button aria-controls="panel-0-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                        <button aria-controls="panel-0-QyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button>
                    </div>
                    <div aria-labelledby="tab-0-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                        <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">func _ready():
    add_to_group("guards")</literal_block>
                    </div>
                    <div aria-labelledby="tab-0-QyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-QyM=" name="QyM=" role="tabpanel" tabindex="0">
                        <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">public override void _Ready()
{
    base._Ready();

    AddToGroup("guards");
}</literal_block>
                    </div>
                </container>
                <paragraph>Imagine you're creating an infiltration game. When an
                    enemy spots the player, you want all guards and robots to be on alert.</paragraph>
                <paragraph>In the fictional example below, we use <literal>SceneTree.call_group()</literal> to alert all
                    enemies that the player was spotted.</paragraph>
                <container classes="sphinx-tabs" type="tab-element">
                    <div aria-label="Tabbed content" role="tablist">
                        <button aria-controls="panel-1-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-1-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                        <button aria-controls="panel-1-QyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-1-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button>
                    </div>
                    <div aria-labelledby="tab-1-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-1-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                        <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">func _on_player_spotted():
    get_tree().call_group("guards", "enter_alert_mode")</literal_block>
                    </div>
                    <div aria-labelledby="tab-1-QyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-1-QyM=" name="QyM=" role="tabpanel" tabindex="0">
                        <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">public void _OnPlayerDiscovered()
{
    GetTree().CallGroup("guards", "enter_alert_mode");
}</literal_block>
                    </div>
                </container>
                <paragraph>The above code calls the function <literal>enter_alert_mode</literal> on every member of the
                    group <literal>guards</literal>.</paragraph>
                <paragraph>To get the full list of nodes in the <literal>guards</literal> group as an array, you can call
                    <reference internal="True" refuri="../../classes/class_scenetree#class-scenetree-method-get-nodes-in-group"><inline classes="std std-ref">SceneTree.get_nodes_in_group()</inline></reference>:</paragraph>
                <container classes="sphinx-tabs" type="tab-element">
                    <div aria-label="Tabbed content" role="tablist">
                        <button aria-controls="panel-2-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-2-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                        <button aria-controls="panel-2-QyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-2-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button>
                    </div>
                    <div aria-labelledby="tab-2-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-2-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                        <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">var guards = get_tree().get_nodes_in_group("guards")</literal_block>
                    </div>
                    <div aria-labelledby="tab-2-QyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-2-QyM=" name="QyM=" role="tabpanel" tabindex="0">
                        <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">var guards = GetTree().GetNodesInGroup("guards");</literal_block>
                    </div>
                </container>
                <paragraph>The <reference internal="True" refuri="../../classes/class_scenetree#class-scenetree"><inline classes="std std-ref">SceneTree</inline></reference> class provides many more useful methods
                    to interact with scenes, their node hierarchy, and groups. It allows you to
                    switch scenes easily or reload them, quit the game or pause and unpause it. It
                    also provides useful signals.</paragraph>
                <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
            </section>
        </section>
    </section>
</document>
