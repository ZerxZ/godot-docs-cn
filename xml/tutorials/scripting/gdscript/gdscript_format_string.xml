<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/scripting/gdscript/gdscript_format_string.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-gdscript-printf"></target>
    <section ids="gdscript-format-strings doc-gdscript-printf" names="gdscript\ format\ strings doc_gdscript_printf">
        <title>GDScript format strings</title>
        <paragraph>Godot offers multiple ways to dynamically change the contents of strings:</paragraph>
        <bullet_list bullet="-">
            <list_item>
                <paragraph>Format strings: <literal>var string = "I have %s cats." % "3"</literal></paragraph>
            </list_item>
            <list_item>
                <paragraph>The <literal>String.format()</literal> method: <literal>var string = "I have {0} cats.".format([3])</literal></paragraph>
            </list_item>
            <list_item>
                <paragraph>String concatenation: <literal>var string = "I have " + str(3) + " cats."</literal></paragraph>
            </list_item>
        </bullet_list>
        <paragraph>This page explains how to use format strings, and briefly explains the <literal>format()</literal>
            method and string concatenation.</paragraph>
        <section ids="format-strings" names="format\ strings">
            <title>Format strings</title>
            <paragraph><emphasis>Format strings</emphasis> are a way to reuse text templates to succinctly create different
                but similar strings.</paragraph>
            <paragraph>Format strings are just like normal strings, except they contain certain
                placeholder character sequences such as <literal>%s</literal>. These placeholders can then
                be replaced by parameters handed to the format string.</paragraph>
            <paragraph>Examine this concrete GDScript example:</paragraph>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve"># Define a format string with placeholder '%s'
var format_string = "We're waiting for %s."

# Using the '%' operator, the placeholder is replaced with the desired value
var actual_string = format_string % "Godot"

print(actual_string)
# Output: "We're waiting for Godot."</literal_block>
            <paragraph>Placeholders always start with a <literal>%</literal>, but the next character or characters,
                the <emphasis>format specifier</emphasis>, determines how the given value is converted to a
                string.</paragraph>
            <paragraph>The <literal>%s</literal> seen in the example above is the simplest placeholder and works for
                most use cases: it converts the value by the same method by which an implicit
                String conversion or <reference internal="True" refuri="../../../classes/class_@globalscope#class-globalscope-method-str"><inline classes="std std-ref">str()</inline></reference> would convert
                it. Strings remain unchanged, booleans turn into either <literal>"True"</literal> or <literal>"False"</literal>,
                an <literal>int</literal> or <literal>float</literal> becomes a decimal, and other types usually return their data
                in a human-readable string.</paragraph>
            <paragraph>There are other <reference name="format specifiers" refid="format-specifiers">format specifiers</reference>.</paragraph>
        </section>
        <section ids="multiple-placeholders" names="multiple\ placeholders">
            <title>Multiple placeholders</title>
            <paragraph>Format strings may contain multiple placeholders. In such a case, the values
                are handed in the form of an array, one value per placeholder (unless using a
                format specifier with <literal>*</literal>, see <reference name="dynamic padding" refid="dynamic-padding">dynamic padding</reference>):</paragraph>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">var format_string = "%s was reluctant to learn %s, but now he enjoys it."
var actual_string = format_string % ["Estragon", "GDScript"]

print(actual_string)
# Output: "Estragon was reluctant to learn GDScript, but now he enjoys it."</literal_block>
            <paragraph>Note the values are inserted in order. Remember all placeholders must be
                replaced at once, so there must be an appropriate number of values.</paragraph>
        </section>
        <section ids="format-specifiers" names="format\ specifiers">
            <title>Format specifiers</title>
            <paragraph>There are format specifiers other than <literal>s</literal> that can be used in placeholders.
                They consist of one or more characters. Some of them work by themselves like
                <literal>s</literal>, some appear before other characters, some only work with certain
                values or characters.</paragraph>
            <section ids="placeholder-types" names="placeholder\ types">
                <title>Placeholder types</title>
                <paragraph>One and only one of these must always appear as the last character in a format
                    specifier. Apart from <literal>s</literal>, these require certain types of parameters.</paragraph>
                <table>
                    <tgroup cols="2">
                        <colspec colwidth="7"></colspec>
                        <colspec colwidth="69"></colspec>
                        <tbody>
                            <row>
                                <entry>
                                    <paragraph><literal>s</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph><strong>Simple</strong> conversion to String by the same method as implicit
                                        String conversion.</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph><literal>c</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>A single <strong>Unicode character</strong>. Accepts a Unicode code point
                                        (integer) or a single-character string. Supports values beyond 255.</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph><literal>d</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>A <strong>decimal integer</strong>. Expects an integer or a real number
                                        (will be floored).</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph><literal>o</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>An <strong>octal integer</strong>. Expects an integer or a real number
                                        (will be floored).</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph><literal>x</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>A <strong>hexadecimal integer</strong> with <strong>lower-case</strong> letters.
                                        Expects an integer or a real number (will be floored).</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph><literal>X</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>A <strong>hexadecimal integer</strong> with <strong>upper-case</strong> letters.
                                        Expects an integer or a real number (will be floored).</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph><literal>f</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>A <strong>decimal real</strong> number. Expects an integer or a real number.</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph><literal>v</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>A <strong>vector</strong>. Expects any float or int-based vector object (
                                        <literal>Vector2</literal>, <literal>Vector3</literal>, <literal>Vector4</literal>, <literal>Vector2i</literal>, <literal>Vector3i</literal> or
                                        <literal>Vector4i</literal>). Will display the vector coordinates in parentheses,
                                        formatting each coordinate as if it was an <literal>%f</literal>, and using the
                                        same modifiers.</paragraph>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </section>
            <section ids="placeholder-modifiers" names="placeholder\ modifiers">
                <title>Placeholder modifiers</title>
                <paragraph>These characters appear before the above. Some of them work only under certain
                    conditions.</paragraph>
                <table>
                    <tgroup cols="2">
                        <colspec colwidth="9"></colspec>
                        <colspec colwidth="67"></colspec>
                        <tbody>
                            <row>
                                <entry>
                                    <paragraph><literal>+</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>In number specifiers, <strong>show + sign</strong> if positive.</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph>Integer</paragraph>
                                </entry>
                                <entry>
                                    <paragraph>Set <strong>padding</strong>. Padded with spaces or with zeroes if integer
                                        starts with <literal>0</literal> in an integer or real number placeholder.
                                        The leading <literal>0</literal> is ignored if <literal>-</literal> is present.
                                        When used after <literal>.</literal>, see <literal>.</literal>.</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph><literal>.</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>Before <literal>f</literal> or <literal>v</literal>, set <strong>precision</strong> to 0 decimal places. Can
                                        be followed up with numbers to change. Padded with zeroes.</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph><literal>-</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph><strong>Pad to the right</strong> rather than the left.</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph><literal>*</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph><strong>Dynamic padding</strong>, expects additional integer parameter to set
                                        padding or precision after <literal>.</literal>, see <reference name="dynamic padding" refid="dynamic-padding">dynamic padding</reference>.</paragraph>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </section>
        </section>
        <section ids="padding" names="padding">
            <title>Padding</title>
            <paragraph>The <literal>.</literal> (<emphasis>dot</emphasis>), <literal>*</literal> (<emphasis>asterisk</emphasis>), <literal>-</literal> (<emphasis>minus sign</emphasis>) and digit
                (<literal>0</literal>-<literal>9</literal>) characters are used for padding. This allows printing several
                values aligned vertically as if in a column, provided a fixed-width font is
                used.</paragraph>
            <paragraph>To pad a string to a minimum length, add an integer to the specifier:</paragraph>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">print("%10d" % 12345)
# output: "     12345"
# 5 leading spaces for a total length of 10</literal_block>
            <paragraph>If the integer starts with <literal>0</literal>, integer values are padded with zeroes
                instead of white space:</paragraph>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">print("%010d" % 12345)
# output: "0000012345"</literal_block>
            <paragraph>Precision can be specified for real numbers by adding a <literal>.</literal> (<emphasis>dot</emphasis>) with an
                integer following it. With no integer after <literal>.</literal>, a precision of 0 is used,
                rounding to integer values. The integer to use for padding must appear before
                the dot.</paragraph>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve"># Pad to minimum length of 10, round to 3 decimal places
print("%10.3f" % 10000.5555)
# Output: " 10000.556"
# 1 leading space</literal_block>
            <paragraph>The <literal>-</literal> character will cause padding to the right rather than the left,
                useful for right text alignment:</paragraph>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">print("%-10d" % 12345678)
# Output: "12345678  "
# 2 trailing spaces</literal_block>
            <section ids="dynamic-padding" names="dynamic\ padding">
                <title>Dynamic padding</title>
                <paragraph>By using the <literal>*</literal> (<emphasis>asterisk</emphasis>) character, the padding or precision can be set
                    without modifying the format string. It is used in place of an integer in the
                    format specifier. The values for padding and precision are then passed when
                    formatting:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">var format_string = "%*.*f"
# Pad to length of 7, round to 3 decimal places:
print(format_string % [7, 3, 8.8888])
# Output: "  8.889"
# 2 leading spaces</literal_block>
                <paragraph>It is still possible to pad with zeroes in integer placeholders by adding <literal>0</literal>
                    before <literal>*</literal>:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">print("%0*d" % [2, 3])
# Output: "03"</literal_block>
            </section>
        </section>
        <section ids="escape-sequence" names="escape\ sequence">
            <title>Escape sequence</title>
            <paragraph>To insert a literal <literal>%</literal> character into a format string, it must be escaped to
                avoid reading it as a placeholder. This is done by doubling the character:</paragraph>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">var health = 56
print("Remaining health: %d%%" % health)
# Output: "Remaining health: 56%"</literal_block>
        </section>
        <section ids="string-format-method" names="string\ format\ method">
            <title>String format method</title>
            <paragraph>There is also another way to format text in GDScript, namely the
                <reference internal="True" refuri="../../../classes/class_string#class-string-method-format"><inline classes="std std-ref">String.format()</inline></reference>
                method. It replaces all occurrences of a key in the string with the corresponding
                value. The method can handle arrays or dictionaries for the key/value pairs.</paragraph>
            <paragraph>Arrays can be used as key, index, or mixed style (see below examples). Order only
                matters when the index or mixed style of Array is used.</paragraph>
            <paragraph>A quick example in GDScript:</paragraph>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve"># Define a format string
var format_string = "We're waiting for {str}"

# Using the 'format' method, replace the 'str' placeholder
var actual_string = format_string.format({"str": "Godot"})

print(actual_string)
# Output: "We're waiting for Godot"</literal_block>
            <section ids="format-method-examples" names="format\ method\ examples">
                <title>Format method examples</title>
                <paragraph>The following are some examples of how to use the various invocations of the
                    <literal>String.format()</literal>  method.</paragraph>
                <table>
                    <tgroup cols="4">
                        <colspec colwidth="12"></colspec>
                        <colspec colwidth="11"></colspec>
                        <colspec colwidth="78"></colspec>
                        <colspec colwidth="19"></colspec>
                        <tbody>
                            <row>
                                <entry>
                                    <paragraph><strong>Type</strong></paragraph>
                                </entry>
                                <entry>
                                    <paragraph><strong>Style</strong></paragraph>
                                </entry>
                                <entry>
                                    <paragraph><strong>Example</strong></paragraph>
                                </entry>
                                <entry>
                                    <paragraph><strong>Result</strong></paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph>Dictionary</paragraph>
                                </entry>
                                <entry>
                                    <paragraph>key</paragraph>
                                </entry>
                                <entry>
                                    <paragraph><literal>"Hi, {name} v{version}!".format({"name":"Godette", "version":"3.0"})</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>Hi, Godette v3.0!</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph>Dictionary</paragraph>
                                </entry>
                                <entry>
                                    <paragraph>index</paragraph>
                                </entry>
                                <entry>
                                    <paragraph><literal>"Hi, {0} v{1}!".format({"0":"Godette", "1":"3.0"})</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>Hi, Godette v3.0!</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph>Dictionary</paragraph>
                                </entry>
                                <entry>
                                    <paragraph>mix</paragraph>
                                </entry>
                                <entry>
                                    <paragraph><literal>"Hi, {0} v{version}!".format({"0":"Godette", "version":"3.0"})</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>Hi, Godette v3.0!</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph>Array</paragraph>
                                </entry>
                                <entry>
                                    <paragraph>key</paragraph>
                                </entry>
                                <entry>
                                    <paragraph><literal>"Hi, {name} v{version}!".format([["version","3.0"], ["name","Godette"]])</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>Hi, Godette v3.0!</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph>Array</paragraph>
                                </entry>
                                <entry>
                                    <paragraph>index</paragraph>
                                </entry>
                                <entry>
                                    <paragraph><literal>"Hi, {0} v{1}!".format(["Godette","3.0"])</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>Hi, Godette v3.0!</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph>Array</paragraph>
                                </entry>
                                <entry>
                                    <paragraph>mix</paragraph>
                                </entry>
                                <entry>
                                    <paragraph><literal>"Hi, {name} v{0}!".format(["3.0", ["name","Godette"]])</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>Hi, Godette v3.0!</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph>Array</paragraph>
                                </entry>
                                <entry>
                                    <paragraph>no index</paragraph>
                                </entry>
                                <entry>
                                    <paragraph><literal>"Hi, {} v{}!".format(["Godette", "3.0"], "{}")</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>Hi, Godette v3.0!</paragraph>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
                <paragraph>Placeholders can also be customized when using <literal>String.format</literal>, here's some
                    examples of that functionality.</paragraph>
                <table>
                    <tgroup cols="3">
                        <colspec colwidth="17"></colspec>
                        <colspec colwidth="54"></colspec>
                        <colspec colwidth="18"></colspec>
                        <tbody>
                            <row>
                                <entry>
                                    <paragraph><strong>Type</strong></paragraph>
                                </entry>
                                <entry>
                                    <paragraph><strong>Example</strong></paragraph>
                                </entry>
                                <entry>
                                    <paragraph><strong>Result</strong></paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph>Infix (default)</paragraph>
                                </entry>
                                <entry>
                                    <paragraph><literal>"Hi, {0} v{1}".format(["Godette", "3.0"], "{_}")</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>Hi, Godette v3.0</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph>Postfix</paragraph>
                                </entry>
                                <entry>
                                    <paragraph><literal>"Hi, 0% v1%".format(["Godette", "3.0"], "_%")</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>Hi, Godette v3.0</paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph>Prefix</paragraph>
                                </entry>
                                <entry>
                                    <paragraph><literal>"Hi, %0 v%1".format(["Godette", "3.0"], "%_")</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>Hi, Godette v3.0</paragraph>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
                <paragraph>Combining both the <literal>String.format</literal> method and the <literal>%</literal> operator could be useful, as
                    <literal>String.format</literal> does not have a way to manipulate the representation of numbers.</paragraph>
                <table>
                    <tgroup cols="2">
                        <colspec colwidth="75"></colspec>
                        <colspec colwidth="19"></colspec>
                        <tbody>
                            <row>
                                <entry>
                                    <paragraph><strong>Example</strong></paragraph>
                                </entry>
                                <entry>
                                    <paragraph><strong>Result</strong></paragraph>
                                </entry>
                            </row>
                            <row>
                                <entry>
                                    <paragraph><literal>"Hi, {0} v{version}".format({0:"Godette", "version":"%0.2f" % 3.114})</literal></paragraph>
                                </entry>
                                <entry>
                                    <paragraph>Hi, Godette v3.11</paragraph>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </section>
        </section>
        <section ids="string-concatenation" names="string\ concatenation">
            <title>String concatenation</title>
            <paragraph>You can also combine strings by <emphasis>concatenating</emphasis> them together, using the <literal>+</literal>
                operator.</paragraph>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve"># Define a base string
var base_string = "We're waiting for "

# Concatenate the string
var actual_string = base_string + "Godot"

print(actual_string)
# Output: "We're waiting for Godot"</literal_block>
            <paragraph>When using string concatenation, values that are not strings must be converted using
                the <literal>str()</literal> function. There is no way to specify the string format of converted
                values.</paragraph>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">var name_string = "Godette"
var version = 3.0
var actual_string = "Hi, " + name_string + " v" + str(version) + "!"

print(actual_string)
# Output: "Hi, Godette v3!"</literal_block>
            <paragraph>Because of these limitations, format strings or the <literal>format()</literal> method are often
                a better choice. In many cases, string concatenation is also less readable.</paragraph>
            <note>
                <paragraph>In Godot's C++ code, GDScript format strings can be accessed using the
                    <literal>vformat()</literal> helper function in the <reference internal="True" refuri="../../../classes/class_variant#class-variant"><inline classes="std std-ref">Variant</inline></reference> header.</paragraph>
            </note>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
