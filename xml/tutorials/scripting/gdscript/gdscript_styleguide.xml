<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/scripting/gdscript/gdscript_styleguide.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-gdscript-styleguide"></target>
    <section ids="gdscript-style-guide doc-gdscript-styleguide" names="gdscript\ style\ guide doc_gdscript_styleguide">
        <title>GDScript style guide</title>
        <paragraph>This style guide lists conventions to write elegant GDScript. The goal is to
            encourage writing clean, readable code and promote consistency across projects,
            discussions, and tutorials. Hopefully, this will also support the development of
            auto-formatting tools.</paragraph>
        <paragraph>Since GDScript is close to Python, this guide is inspired by Python's
            <reference name="PEP 8" refuri="https://www.python.org/dev/peps/pep-0008/">PEP 8</reference> programming
            style guide.</paragraph>
        <paragraph>Style guides aren't meant as hard rulebooks. At times, you may not be able to
            apply some of the guidelines below. When that happens, use your best judgment,
            and ask fellow developers for insights.</paragraph>
        <paragraph>In general, keeping your code consistent in your projects and within your team is
            more important than following this guide to a tee.</paragraph>
        <note>
            <paragraph>Godot's built-in script editor uses a lot of these conventions
                by default. Let it help you.</paragraph>
        </note>
        <paragraph>Here is a complete class example based on these guidelines:</paragraph>
        <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">class_name StateMachine
extends Node
## Hierarchical State machine for the player.
##
## Initializes states and delegates engine callbacks ([method Node._physics_process],
## [method Node._unhandled_input]) to the state.

signal state_changed(previous, new)

@export var initial_state: Node
var is_active = true:
    set = set_is_active

@onready var _state = initial_state:
    set = set_state
@onready var _state_name = _state.name


func _init():
    add_to_group("state_machine")


func _enter_tree():
    print("this happens before the ready method!")


func _ready():
    state_changed.connect(_on_state_changed)
    _state.enter()


func _unhandled_input(event):
    _state.unhandled_input(event)


func _physics_process(delta):
    _state.physics_process(delta)


func transition_to(target_state_path, msg={}):
    if not has_node(target_state_path):
        return

    var target_state = get_node(target_state_path)
    assert(target_state.is_composite == false)

    _state.exit()
    self._state = target_state
    _state.enter(msg)
    Events.player_state_changed.emit(_state.name)


func set_is_active(value):
    is_active = value
    set_physics_process(value)
    set_process_unhandled_input(value)
    set_block_signals(not value)


func set_state(value):
    _state = value
    _state_name = _state.name


func _on_state_changed(previous, new):
    print("state changed")
    state_changed.emit()


class State:
    var foo = 0

    func _init():
        print("Hello!")</literal_block>
        <target refid="formatting"></target>
        <section dupnames="formatting" ids="formatting id1" names="formatting">
            <title>Formatting</title>
            <section ids="encoding-and-special-characters" names="encoding\ and\ special\ characters">
                <title>Encoding and special characters</title>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph>Use line feed (<strong>LF</strong>) characters to break lines, not CRLF or CR. <emphasis>(editor default)</emphasis></paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Use one line feed character at the end of each file. <emphasis>(editor default)</emphasis></paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Use <strong>UTF-8</strong> encoding without a <reference name="byte order mark" refuri="https://en.wikipedia.org/wiki/Byte_order_mark">byte order mark</reference><target ids="byte-order-mark" names="byte\ order\ mark" refuri="https://en.wikipedia.org/wiki/Byte_order_mark"></target>. <emphasis>(editor default)</emphasis></paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Use <strong>Tabs</strong> instead of spaces for indentation. <emphasis>(editor default)</emphasis></paragraph>
                    </list_item>
                </bullet_list>
            </section>
            <section ids="indentation" names="indentation">
                <title>Indentation</title>
                <paragraph>Each indent level should be one greater than the block containing it.</paragraph>
                <paragraph><strong>Good</strong>:</paragraph>
                <literal_block classes="code-example-good" force="False" language="gdscript" linenos="False" xml:space="preserve">for i in range(10):
    print("hello")</literal_block>
                <paragraph><strong>Bad</strong>:</paragraph>
                <literal_block classes="code-example-bad" force="False" language="gdscript" linenos="False" xml:space="preserve">for i in range(10):
  print("hello")

for i in range(10):
        print("hello")</literal_block>
                <paragraph>Use 2 indent levels to distinguish continuation lines from
                    regular code blocks.</paragraph>
                <paragraph><strong>Good</strong>:</paragraph>
                <literal_block classes="code-example-good" force="False" language="gdscript" linenos="False" xml:space="preserve">effect.interpolate_property(sprite, "transform/scale",
        sprite.get_scale(), Vector2(2.0, 2.0), 0.3,
        Tween.TRANS_QUAD, Tween.EASE_OUT)</literal_block>
                <paragraph><strong>Bad</strong>:</paragraph>
                <literal_block classes="code-example-bad" force="False" language="gdscript" linenos="False" xml:space="preserve">effect.interpolate_property(sprite, "transform/scale",
    sprite.get_scale(), Vector2(2.0, 2.0), 0.3,
    Tween.TRANS_QUAD, Tween.EASE_OUT)</literal_block>
                <paragraph>Exceptions to this rule are arrays, dictionaries, and enums. Use a single
                    indentation level to distinguish continuation lines:</paragraph>
                <paragraph><strong>Good</strong>:</paragraph>
                <literal_block classes="code-example-good" force="False" language="gdscript" linenos="False" xml:space="preserve">var party = [
    "Godot",
    "Godette",
    "Steve",
]

var character_dict = {
    "Name": "Bob",
    "Age": 27,
    "Job": "Mechanic",
}

enum Tile {
    BRICK,
    FLOOR,
    SPIKE,
    TELEPORT,
}</literal_block>
                <paragraph><strong>Bad</strong>:</paragraph>
                <literal_block classes="code-example-bad" force="False" language="gdscript" linenos="False" xml:space="preserve">var party = [
        "Godot",
        "Godette",
        "Steve",
]

var character_dict = {
        "Name": "Bob",
        "Age": 27,
        "Job": "Mechanic",
}

enum Tile {
        BRICK,
        FLOOR,
        SPIKE,
        TELEPORT,
}</literal_block>
            </section>
            <section ids="trailing-comma" names="trailing\ comma">
                <title>Trailing comma</title>
                <paragraph>Use a trailing comma on the last line in arrays, dictionaries, and enums. This
                    results in easier refactoring and better diffs in version control as the last
                    line doesn't need to be modified when adding new elements.</paragraph>
                <paragraph><strong>Good</strong>:</paragraph>
                <literal_block classes="code-example-good" force="False" language="gdscript" linenos="False" xml:space="preserve">var array = [
    1,
    2,
    3,
]</literal_block>
                <paragraph><strong>Bad</strong>:</paragraph>
                <literal_block classes="code-example-bad" force="False" language="gdscript" linenos="False" xml:space="preserve">var array = [
    1,
    2,
    3
]</literal_block>
                <paragraph>Trailing commas are unnecessary in single-line lists, so don't add them in this case.</paragraph>
                <paragraph><strong>Good</strong>:</paragraph>
                <literal_block classes="code-example-good" force="False" language="gdscript" linenos="False" xml:space="preserve">var array = [1, 2, 3]</literal_block>
                <paragraph><strong>Bad</strong>:</paragraph>
                <literal_block classes="code-example-bad" force="False" language="gdscript" linenos="False" xml:space="preserve">var array = [1, 2, 3,]</literal_block>
            </section>
            <section ids="blank-lines" names="blank\ lines">
                <title>Blank lines</title>
                <paragraph>Surround functions and class definitions with two blank lines:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">func heal(amount):
    health += amount
    health = min(health, max_health)
    health_changed.emit(health)


func take_damage(amount, effect=null):
    health -= amount
    health = max(0, health)
    health_changed.emit(health)</literal_block>
                <paragraph>Use one blank line inside functions to separate logical sections.</paragraph>
                <note>
                    <paragraph>We use a single line between classes and function definitions in the class reference and
                        in short code snippets in this documentation.</paragraph>
                </note>
            </section>
            <section ids="line-length" names="line\ length">
                <title>Line length</title>
                <paragraph>Keep individual lines of code under 100 characters.</paragraph>
                <paragraph>If you can, try to keep lines under 80 characters. This helps to read the code
                    on small displays and with two scripts opened side-by-side in an external text
                    editor. For example, when looking at a differential revision.</paragraph>
            </section>
            <section ids="one-statement-per-line" names="one\ statement\ per\ line">
                <title>One statement per line</title>
                <paragraph>Avoid combining multiple statements on a single line, including conditional
                    statements, to adhere to the GDScript style guidelines for readability.</paragraph>
                <paragraph><strong>Good</strong>:</paragraph>
                <literal_block classes="code-example-good" force="False" language="gdscript" linenos="False" xml:space="preserve">if position.x &gt; width:
    position.x = 0

if flag:
    print("flagged")</literal_block>
                <paragraph><strong>Bad</strong>:</paragraph>
                <literal_block classes="code-example-bad" force="False" language="gdscript" linenos="False" xml:space="preserve">if position.x &gt; width: position.x = 0

if flag: print("flagged")</literal_block>
                <paragraph>The only exception to that rule is the ternary operator:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">next_state = "idle" if is_on_floor() else "fall"</literal_block>
            </section>
            <section ids="format-multiline-statements-for-readability" names="format\ multiline\ statements\ for\ readability">
                <title>Format multiline statements for readability</title>
                <paragraph>When you have particularly long <literal>if</literal> statements or nested ternary expressions,
                    wrapping them over multiple lines improves readability. Since continuation lines
                    are still part of the same expression, 2 indent levels should be used instead of one.</paragraph>
                <paragraph>GDScript allows wrapping statements using multiple lines using parentheses or
                    backslashes. Parentheses are favored in this style guide since they make for
                    easier refactoring. With backslashes, you have to ensure that the last line
                    never contains a backslash at the end. With parentheses, you don't have to
                    worry about the last line having a backslash at the end.</paragraph>
                <paragraph>When wrapping a conditional expression over multiple lines, the <literal>and</literal>/<literal>or</literal>
                    keywords should be placed at the beginning of the line continuation, not at the
                    end of the previous line.</paragraph>
                <paragraph><strong>Good</strong>:</paragraph>
                <literal_block classes="code-example-good" force="False" language="gdscript" linenos="False" xml:space="preserve">var angle_degrees = 135
var quadrant = (
        "northeast" if angle_degrees &lt;= 90
        else "southeast" if angle_degrees &lt;= 180
        else "southwest" if angle_degrees &lt;= 270
        else "northwest"
)

var position = Vector2(250, 350)
if (
        position.x &gt; 200 and position.x &lt; 400
        and position.y &gt; 300 and position.y &lt; 400
):
    pass</literal_block>
                <paragraph><strong>Bad</strong>:</paragraph>
                <literal_block classes="code-example-bad" force="False" language="gdscript" linenos="False" xml:space="preserve">var angle_degrees = 135
var quadrant = "northeast" if angle_degrees &lt;= 90 else "southeast" if angle_degrees &lt;= 180 else "southwest" if angle_degrees &lt;= 270 else "northwest"

var position = Vector2(250, 350)
if position.x &gt; 200 and position.x &lt; 400 and position.y &gt; 300 and position.y &lt; 400:
    pass</literal_block>
            </section>
            <section ids="avoid-unnecessary-parentheses" names="avoid\ unnecessary\ parentheses">
                <title>Avoid unnecessary parentheses</title>
                <paragraph>Avoid parentheses in expressions and conditional statements. Unless
                    necessary for order of operations or wrapping over multiple lines,
                    they only reduce readability.</paragraph>
                <paragraph><strong>Good</strong>:</paragraph>
                <literal_block classes="code-example-good" force="False" language="gdscript" linenos="False" xml:space="preserve">if is_colliding():
    queue_free()</literal_block>
                <paragraph><strong>Bad</strong>:</paragraph>
                <literal_block classes="code-example-bad" force="False" language="gdscript" linenos="False" xml:space="preserve">if (is_colliding()):
    queue_free()</literal_block>
                <target refid="boolean-operators"></target>
            </section>
            <section ids="boolean-operators id2" names="boolean\ operators boolean_operators">
                <title>Boolean operators</title>
                <paragraph>Prefer the plain English versions of boolean operators, as they are the most accessible:</paragraph>
                <bullet_list bullet="-">
                    <list_item>
                        <paragraph>Use <literal>and</literal> instead of <literal>&amp;&amp;</literal>.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Use <literal>or</literal> instead of <literal>||</literal>.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Use <literal>not</literal> instead of <literal>!</literal>.</paragraph>
                    </list_item>
                </bullet_list>
                <paragraph>You may also use parentheses around boolean operators to clear any ambiguity.
                    This can make long expressions easier to read.</paragraph>
                <paragraph><strong>Good</strong>:</paragraph>
                <literal_block classes="code-example-good" force="False" language="gdscript" linenos="False" xml:space="preserve">if (foo and bar) or not baz:
    print("condition is true")</literal_block>
                <paragraph><strong>Bad</strong>:</paragraph>
                <literal_block classes="code-example-bad" force="False" language="gdscript" linenos="False" xml:space="preserve">if foo &amp;&amp; bar || !baz:
    print("condition is true")</literal_block>
            </section>
            <section ids="comment-spacing" names="comment\ spacing">
                <title>Comment spacing</title>
                <paragraph>Regular comments (<literal>#</literal>) and documentation comments (<literal>##</literal>) should start with a
                    space, but not code that you comment out. Additionally, code region comments
                    (<literal>#region</literal>/<literal>#endregion</literal>) must follow that precise syntax, so they should not
                    start with a space.</paragraph>
                <paragraph>Using a space for regular and documentation comments helps differentiate text
                    comments from disabled code.</paragraph>
                <paragraph><strong>Good</strong>:</paragraph>
                <literal_block classes="code-example-good" force="False" language="gdscript" linenos="False" xml:space="preserve"># This is a comment.
#print("This is disabled code")</literal_block>
                <paragraph><strong>Bad</strong>:</paragraph>
                <literal_block classes="code-example-bad" force="False" language="gdscript" linenos="False" xml:space="preserve">#This is a comment.
# print("This is disabled code")</literal_block>
                <note>
                    <paragraph>In the script editor, to toggle commenting of the selected code, press
                        <literal classes="kbd">Ctrl + K</literal>. This feature adds/removes a single <literal>#</literal> sign before any
                        code on the selected lines.</paragraph>
                </note>
                <paragraph>Prefer writing comments on their own line as opposed to inline comments
                    (comments written on the same line as code). Inline comments are best used for
                    short comments, typically a few words at most:</paragraph>
                <paragraph><strong>Good</strong>:</paragraph>
                <literal_block classes="code-example-good" force="False" language="gdscript" linenos="False" xml:space="preserve"># This is a long comment that would make the line below too long if written inline.
print("Example") # Short comment.</literal_block>
                <paragraph><strong>Bad</strong>:</paragraph>
                <literal_block classes="code-example-bad" force="False" language="gdscript" linenos="False" xml:space="preserve">print("Example") # This is a long comment that would make this line too long if written inline.</literal_block>
            </section>
            <section ids="whitespace" names="whitespace">
                <title>Whitespace</title>
                <paragraph>Always use one space around operators and after commas. Also, avoid extra spaces
                    in dictionary references and function calls. One exception to this is for
                    single-line dictionary declarations, where a space should be added after the
                    opening brace and before the closing brace. This makes the dictionary easier to
                    visually distinguish from an array, as the <literal>[]</literal> characters look close to
                    <literal>{}</literal> with most fonts.</paragraph>
                <paragraph><strong>Good</strong>:</paragraph>
                <literal_block classes="code-example-good" force="False" language="gdscript" linenos="False" xml:space="preserve">position.x = 5
position.y = target_position.y + 10
dict["key"] = 5
my_array = [4, 5, 6]
my_dictionary = { key = "value" }
print("foo")</literal_block>
                <paragraph><strong>Bad</strong>:</paragraph>
                <literal_block classes="code-example-bad" force="False" language="gdscript" linenos="False" xml:space="preserve">position.x=5
position.y = mpos.y+10
dict ["key"] = 5
myarray = [4,5,6]
my_dictionary = {key = "value"}
print ("foo")</literal_block>
                <paragraph>Don't use spaces to align expressions vertically:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">x        = 100
y        = 100
velocity = 500</literal_block>
            </section>
            <section ids="quotes" names="quotes">
                <title>Quotes</title>
                <paragraph>Use double quotes unless single quotes make it possible to escape fewer
                    characters in a given string. See the examples below:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve"># Normal string.
print("hello world")

# Use double quotes as usual to avoid escapes.
print("hello 'world'")

# Use single quotes as an exception to the rule to avoid escapes.
print('hello "world"')

# Both quote styles would require 2 escapes; prefer double quotes if it's a tie.
print("'hello' \"world\"")</literal_block>
            </section>
            <section ids="numbers" names="numbers">
                <title>Numbers</title>
                <paragraph>Don't omit the leading or trailing zero in floating-point numbers. Otherwise,
                    this makes them less readable and harder to distinguish from integers at a
                    glance.</paragraph>
                <paragraph><strong>Good</strong>:</paragraph>
                <literal_block classes="code-example-good" force="False" language="gdscript" linenos="False" xml:space="preserve">var float_number = 0.234
var other_float_number = 13.0</literal_block>
                <paragraph><strong>Bad</strong>:</paragraph>
                <literal_block classes="code-example-bad" force="False" language="gdscript" linenos="False" xml:space="preserve">var float_number = .234
var other_float_number = 13.</literal_block>
                <paragraph>Use lowercase for letters in hexadecimal numbers, as their lower height makes
                    the number easier to read.</paragraph>
                <paragraph><strong>Good</strong>:</paragraph>
                <literal_block classes="code-example-good" force="False" language="gdscript" linenos="False" xml:space="preserve">var hex_number = 0xfb8c0b</literal_block>
                <paragraph><strong>Bad</strong>:</paragraph>
                <literal_block classes="code-example-bad" force="False" language="gdscript" linenos="False" xml:space="preserve">var hex_number = 0xFB8C0B</literal_block>
                <paragraph>Take advantage of GDScript's underscores in literals to make large numbers more
                    readable.</paragraph>
                <paragraph><strong>Good</strong>:</paragraph>
                <literal_block classes="code-example-good" force="False" language="gdscript" linenos="False" xml:space="preserve">var large_number = 1_234_567_890
var large_hex_number = 0xffff_f8f8_0000
var large_bin_number = 0b1101_0010_1010
# Numbers lower than 1000000 generally don't need separators.
var small_number = 12345</literal_block>
                <paragraph><strong>Bad</strong>:</paragraph>
                <literal_block classes="code-example-bad" force="False" language="gdscript" linenos="False" xml:space="preserve">var large_number = 1234567890
var large_hex_number = 0xfffff8f80000
var large_bin_number = 0b110100101010
# Numbers lower than 1000000 generally don't need separators.
var small_number = 12_345</literal_block>
                <target refid="naming-conventions"></target>
            </section>
        </section>
        <section ids="naming-conventions id3" names="naming\ conventions naming_conventions">
            <title>Naming conventions</title>
            <paragraph>These naming conventions follow the Godot Engine style. Breaking these will make
                your code clash with the built-in naming conventions, leading to inconsistent
                code. As a summary table:</paragraph>
            <table>
                <tgroup cols="3">
                    <colspec colwidth="15"></colspec>
                    <colspec colwidth="16"></colspec>
                    <colspec colwidth="52"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>Type</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Convention</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Example</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph>File names</paragraph>
                            </entry>
                            <entry>
                                <paragraph>snake_case</paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>yaml_parser.gd</literal></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Class names</paragraph>
                            </entry>
                            <entry>
                                <paragraph>PascalCase</paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>class_name YAMLParser</literal></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Node names</paragraph>
                            </entry>
                            <entry>
                                <paragraph>PascalCase</paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>Camera3D</literal>, <literal>Player</literal></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Functions</paragraph>
                            </entry>
                            <entry>
                                <paragraph>snake_case</paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>func load_level():</literal></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Variables</paragraph>
                            </entry>
                            <entry>
                                <paragraph>snake_case</paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>var particle_effect</literal></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Signals</paragraph>
                            </entry>
                            <entry>
                                <paragraph>snake_case</paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>signal door_opened</literal></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Constants</paragraph>
                            </entry>
                            <entry>
                                <paragraph>CONSTANT_CASE</paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>const MAX_SPEED = 200</literal></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Enum names</paragraph>
                            </entry>
                            <entry>
                                <paragraph>PascalCase</paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>enum Element</literal></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Enum members</paragraph>
                            </entry>
                            <entry>
                                <paragraph>CONSTANT_CASE</paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>{EARTH, WATER, AIR, FIRE}</literal></paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
            <section ids="file-names" names="file\ names">
                <title>File names</title>
                <paragraph>Use snake_case for file names. For named classes, convert the PascalCase class
                    name to snake_case:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve"># This file should be saved as `weapon.gd`.
class_name Weapon
extends Node</literal_block>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve"># This file should be saved as `yaml_parser.gd`.
class_name YAMLParser
extends Object</literal_block>
                <paragraph>This is consistent with how C++ files are named in Godot's source code. This
                    also avoids case sensitivity issues that can crop up when exporting a project
                    from Windows to other platforms.</paragraph>
            </section>
            <section ids="classes-and-nodes" names="classes\ and\ nodes">
                <title>Classes and nodes</title>
                <paragraph>Use PascalCase for class and node names:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">extends CharacterBody3D</literal_block>
                <paragraph>Also use PascalCase when loading a class into a constant or a variable:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">const Weapon = preload("res://weapon.gd")</literal_block>
            </section>
            <section ids="functions-and-variables" names="functions\ and\ variables">
                <title>Functions and variables</title>
                <paragraph>Use snake_case to name functions and variables:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">var particle_effect
func load_level():</literal_block>
                <paragraph>Prepend a single underscore (_) to virtual methods functions the user must
                    override, private functions, and private variables:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">var _counter = 0
func _recalculate_path():</literal_block>
            </section>
            <section ids="signals" names="signals">
                <title>Signals</title>
                <paragraph>Use the past tense to name signals:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">signal door_opened
signal score_changed</literal_block>
            </section>
            <section ids="constants-and-enums" names="constants\ and\ enums">
                <title>Constants and enums</title>
                <paragraph>Write constants with CONSTANT_CASE, that is to say in all caps with an
                    underscore (_) to separate words:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">const MAX_SPEED = 200</literal_block>
                <paragraph>Use PascalCase for enum <emphasis>names</emphasis> and keep them singular, as they represent a type. Use CONSTANT_CASE for their members, as they
                    are constants:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">enum Element {
    EARTH,
    WATER,
    AIR,
    FIRE,
}</literal_block>
                <paragraph>Write enums with each item on its own line. This allows adding documentation comments above each item
                    more easily, and also makes for cleaner diffs in version control when items are added or removed.</paragraph>
                <paragraph><strong>Good</strong>:</paragraph>
                <literal_block classes="code-example-good" force="False" language="gdscript" linenos="False" xml:space="preserve">enum Element {
    EARTH,
    WATER,
    AIR,
    FIRE,
}</literal_block>
                <paragraph><strong>Bad</strong>:</paragraph>
                <literal_block classes="code-example-bad" force="False" language="gdscript" linenos="False" xml:space="preserve">enum Element { EARTH, WATER, AIR, FIRE }</literal_block>
            </section>
        </section>
        <section ids="code-order" names="code\ order">
            <title>Code order</title>
            <paragraph>This section focuses on code order. For formatting, see
                <reference internal="True" refid="formatting"><inline classes="std std-ref">Formatting</inline></reference>. For naming conventions, see <reference internal="True" refid="naming-conventions"><inline classes="std std-ref">Naming conventions</inline></reference>.</paragraph>
            <paragraph>We suggest to organize GDScript code this way:</paragraph>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">01. @tool, @icon, @static_unload
02. class_name
03. extends
04. ## doc comment

05. signals
06. enums
07. constants
08. static variables
09. @export variables
10. remaining regular variables
11. @onready variables

12. _static_init()
13. remaining static methods
14. overridden built-in virtual methods:
    1. _init()
    2. _enter_tree()
    3. _ready()
    4. _process()
    5. _physics_process()
    6. remaining virtual methods
15. overridden custom methods
16. remaining methods
17. inner classes</literal_block>
            <paragraph>And put the class methods and variables in the following order depending on their access modifiers:</paragraph>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">1. public
2. private</literal_block>
            <paragraph>We optimized the order to make it easy to read the code from top to bottom, to
                help developers reading the code for the first time understand how it works, and
                to avoid errors linked to the order of variable declarations.</paragraph>
            <paragraph>This code order follows four rules of thumb:</paragraph>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Properties and signals come first, followed by methods.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Public comes before private.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Virtual callbacks come before the class's interface.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>The object's construction and initialization functions, <literal>_init</literal> and
                        <literal>_ready</literal>, come before functions that modify the object at runtime.</paragraph>
                </list_item>
            </enumerated_list>
            <section ids="class-declaration" names="class\ declaration">
                <title>Class declaration</title>
                <paragraph>If the code is meant to run in the editor, place the <literal>@tool</literal> annotation on the
                    first line of the script.</paragraph>
                <paragraph>Follow with the optional <literal>@icon</literal> then the <literal>class_name</literal> if necessary. You can turn a
                    GDScript file into a global type in your project using <literal>class_name</literal>. For more
                    information, see <reference internal="True" refuri="gdscript_basics#doc-gdscript-basics-class-name"><inline classes="std std-ref">Registering named classes</inline></reference>. If the class is meant
                    to be an <reference internal="True" refuri="gdscript_basics#doc-gdscript-basics-abstract-class"><inline classes="std std-ref">abstract class</inline></reference>,
                    add <literal>@abstract</literal> <emphasis>before</emphasis> the <literal>class_name</literal> keyword.</paragraph>
                <paragraph>Then, add the <literal>extends</literal> keyword if the class extends a built-in type.</paragraph>
                <paragraph>Following that, you should have the class's optional
                    <reference internal="True" refuri="gdscript_documentation_comments#doc-gdscript-documentation-comments"><inline classes="std std-ref">documentation comments</inline></reference>.
                    You can use that to explain the role of your class to your teammates, how it works,
                    and how other developers should use it, for example.</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">@abstract
class_name MyNode
extends Node
## A brief description of the class's role and functionality.
##
## The description of the script, what it can do,
## and any further detail.</literal_block>
                <paragraph>For inner classes, use single-line declarations:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">## A brief description of the class's role and functionality.
##
## The description of the script, what it can do,
## and any further detail.
@abstract class MyNode extends Node:
    pass</literal_block>
            </section>
            <section ids="signals-and-properties" names="signals\ and\ properties">
                <title>Signals and properties</title>
                <paragraph>Write signal declarations, followed by properties, that is to say, member
                    variables, after the docstring.</paragraph>
                <paragraph>Enums should come after signals, as you can use them as export hints for other
                    properties.</paragraph>
                <paragraph>Then, write constants, exported variables, public, private, and onready
                    variables, in that order.</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">signal player_spawned(position)

enum Job {
    KNIGHT,
    WIZARD,
    ROGUE,
    HEALER,
    SHAMAN,
}

const MAX_LIVES = 3

@export var job: Job = Job.KNIGHT
@export var max_health = 50
@export var attack = 5

var health = max_health:
    set(new_health):
        health = new_health

var _speed = 300.0

@onready var sword = get_node("Sword")
@onready var gun = get_node("Gun")</literal_block>
                <note>
                    <paragraph>GDScript evaluates <literal>@onready</literal> variables right before the <literal>_ready</literal>
                        callback. You can use that to cache node dependencies, that is to say, to get
                        child nodes in the scene that your class relies on. This is what the example
                        above shows.</paragraph>
                </note>
            </section>
            <section ids="member-variables" names="member\ variables">
                <title>Member variables</title>
                <paragraph>Don't declare member variables if they are only used locally in a method, as it
                    makes the code more difficult to follow. Instead, declare them as local
                    variables in the method's body.</paragraph>
            </section>
            <section ids="local-variables" names="local\ variables">
                <title>Local variables</title>
                <paragraph>Declare local variables as close as possible to their first use. This makes it
                    easier to follow the code, without having to scroll too much to find where the
                    variable was declared.</paragraph>
            </section>
            <section ids="methods-and-static-functions" names="methods\ and\ static\ functions">
                <title>Methods and static functions</title>
                <paragraph>After the class's properties come the methods.</paragraph>
                <paragraph>Start with the <literal>_init()</literal> callback method, that the engine will call upon
                    creating the object in memory. Follow with the <literal>_ready()</literal> callback, that Godot
                    calls when it adds a node to the scene tree.</paragraph>
                <paragraph>These functions should come first because they show how the object is
                    initialized.</paragraph>
                <paragraph>Other built-in virtual callbacks, like <literal>_unhandled_input()</literal> and
                    <literal>_physics_process</literal>, should come next. These control the object's main loop and
                    interactions with the game engine.</paragraph>
                <paragraph>The rest of the class's interface, public and private methods, come after that,
                    in that order.</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">func _init():
    add_to_group("state_machine")


func _ready():
    state_changed.connect(_on_state_changed)
    _state.enter()


func _unhandled_input(event):
    _state.unhandled_input(event)


func transition_to(target_state_path, msg={}):
    if not has_node(target_state_path):
        return

    var target_state = get_node(target_state_path)
    assert(target_state.is_composite == false)

    _state.exit()
    self._state = target_state
    _state.enter(msg)
    Events.player_state_changed.emit(_state.name)


func _on_state_changed(previous, new):
    print("state changed")
    state_changed.emit()</literal_block>
            </section>
        </section>
        <section ids="static-typing" names="static\ typing">
            <title>Static typing</title>
            <paragraph>GDScript supports <reference internal="True" refuri="static_typing#doc-gdscript-static-typing"><inline classes="std std-ref">optional static typing</inline></reference>.</paragraph>
            <section ids="declared-types" names="declared\ types">
                <title>Declared types</title>
                <paragraph>To declare a variable's type, use <literal>&lt;variable&gt;: &lt;type&gt;</literal>:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">var health: int = 0</literal_block>
                <paragraph>To declare the return type of a function, use <literal>-&gt; &lt;type&gt;</literal>:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">func heal(amount: int) -&gt; void:</literal_block>
            </section>
            <section ids="inferred-types" names="inferred\ types">
                <title>Inferred types</title>
                <paragraph>In most cases, you can let the compiler infer the type using <literal>:=</literal>.
                    Prefer <literal>:=</literal> when the type is written on the same line as the assignment,
                    otherwise prefer writing the type explicitly.</paragraph>
                <paragraph><strong>Good</strong>:</paragraph>
                <literal_block classes="code-example-good" force="False" language="gdscript" linenos="False" xml:space="preserve"># The type can be int or float, and thus should be stated explicitly.
var health: int = 0

# The type is clearly inferred as Vector3.
var direction := Vector3(1, 2, 3)</literal_block>
                <paragraph>Include the type hint when the type is ambiguous, and
                    omit the type hint when it's redundant.</paragraph>
                <paragraph><strong>Bad</strong>:</paragraph>
                <literal_block classes="code-example-bad" force="False" language="gdscript" linenos="False" xml:space="preserve"># Typed as int, but it could be that float was intended.
var health := 0

# The type hint has redundant information.
var direction: Vector3 = Vector3(1, 2, 3)

# What type is this? It's not immediately clear to the reader, so it's bad.
var value := complex_function()</literal_block>
                <paragraph>In some cases, the type must be stated explicitly, otherwise the behavior
                    will not be as expected because the compiler will only be able to use
                    the function's return type. For example, <literal>get_node()</literal> cannot infer a type
                    unless the scene or file of the node is loaded in memory. In this case, you
                    should set the type explicitly.</paragraph>
                <paragraph><strong>Good</strong>:</paragraph>
                <literal_block classes="code-example-good" force="False" language="gdscript" linenos="False" xml:space="preserve">@onready var health_bar: ProgressBar = get_node("UI/LifeBar")</literal_block>
                <paragraph><strong>Bad</strong>:</paragraph>
                <literal_block classes="code-example-bad" force="False" language="gdscript" linenos="False" xml:space="preserve"># The compiler can't infer the exact type and will use Node
# instead of ProgressBar.
@onready var health_bar := get_node("UI/LifeBar")</literal_block>
                <paragraph>Alternatively, you can use the <literal>as</literal> keyword to cast the return type, and
                    that type will be used to infer the type of the var.</paragraph>
                <literal_block classes="code-example-good" force="False" language="gdscript" linenos="False" xml:space="preserve">@onready var health_bar := get_node("UI/LifeBar") as ProgressBar
# health_bar will be typed as ProgressBar</literal_block>
                <note>
                    <paragraph>This option is considered more <reference internal="True" refuri="static_typing#doc-gdscript-static-typing-safe-lines"><inline classes="std std-ref">type-safe</inline></reference> than type hints,
                        but also less null-safe as it silently casts the variable to <literal>null</literal> in case of a type mismatch at runtime,
                        without an error/warning.</paragraph>
                </note>
                <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
            </section>
        </section>
    </section>
</document>
