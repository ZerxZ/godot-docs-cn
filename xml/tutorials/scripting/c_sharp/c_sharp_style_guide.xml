<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/scripting/c_sharp/c_sharp_style_guide.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-c-sharp-styleguide"></target>
    <section ids="c-style-guide doc-c-sharp-styleguide" names="c#\ style\ guide doc_c_sharp_styleguide">
        <title>C# style guide</title>
        <paragraph>Having well-defined and consistent coding conventions is important for every project, and Godot
            is no exception to this rule.</paragraph>
        <paragraph>This page contains a coding style guide, which is followed by developers of and contributors to Godot
            itself. As such, it is mainly intended for those who want to contribute to the project, but since
            the conventions and guidelines mentioned in this article are those most widely adopted by the users
            of the language, we encourage you to do the same, especially if you do not have such a guide yet.</paragraph>
        <note>
            <paragraph>This article is by no means an exhaustive guide on how to follow the standard coding
                conventions or best practices. If you feel unsure of an aspect which is not covered here,
                please refer to more comprehensive documentation, such as
                <reference name="C# Coding Conventions" refuri="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/inside-a-program/coding-conventions">C# Coding Conventions</reference><target ids="c-coding-conventions" names="c#\ coding\ conventions" refuri="https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/inside-a-program/coding-conventions"></target> or
                <reference name="Framework Design Guidelines" refuri="https://docs.microsoft.com/en-us/dotnet/standard/design-guidelines/naming-guidelines">Framework Design Guidelines</reference><target ids="framework-design-guidelines" names="framework\ design\ guidelines" refuri="https://docs.microsoft.com/en-us/dotnet/standard/design-guidelines/naming-guidelines"></target>.</paragraph>
        </note>
        <section ids="language-specification" names="language\ specification">
            <title>Language specification</title>
            <paragraph>Godot currently uses <strong>C# version 12.0</strong> in its engine and example source code,
                as this is the version supported by .NET 8.0 (the current baseline requirement).
                So, before we move to a newer version, care must be taken to avoid mixing
                language features only available in C# 13.0 or later.</paragraph>
            <paragraph>For detailed information on C# features in different versions, please see
                <reference name="What's New in C#" refuri="https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/">What's New in C#</reference><target ids="what-s-new-in-c" names="what's\ new\ in\ c#" refuri="https://docs.microsoft.com/en-us/dotnet/csharp/whats-new/"></target>.</paragraph>
        </section>
        <section ids="formatting" names="formatting">
            <title>Formatting</title>
            <section ids="general-guidelines" names="general\ guidelines">
                <title>General guidelines</title>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph>Use line feed (<strong>LF</strong>) characters to break lines, not CRLF or CR.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Use one line feed character at the end of each file, except for <title_reference>csproj</title_reference> files.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Use <strong>UTF-8</strong> encoding without a <reference name="byte order mark" refuri="https://en.wikipedia.org/wiki/Byte_order_mark">byte order mark</reference><target ids="byte-order-mark" names="byte\ order\ mark" refuri="https://en.wikipedia.org/wiki/Byte_order_mark"></target>.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Use <strong>4 spaces</strong> instead of tabs for indentation (which is referred to as "soft tabs").</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Consider breaking a line into several if it's longer than 100 characters.</paragraph>
                    </list_item>
                </bullet_list>
            </section>
            <section ids="line-breaks-and-blank-lines" names="line\ breaks\ and\ blank\ lines">
                <title>Line breaks and blank lines</title>
                <paragraph>For a general indentation rule, follow <reference name='the "Allman Style"' refuri="https://en.wikipedia.org/wiki/Indentation_style#Allman_style">the "Allman Style"</reference><target ids="the-allman-style" names='the\ "allman\ style"' refuri="https://en.wikipedia.org/wiki/Indentation_style#Allman_style"></target>
                    which recommends placing the brace associated with a control statement on the next line, indented to
                    the same level:</paragraph>
                <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">// Use this style:
if (x &gt; 0)
{
    DoSomething();
}

// NOT this:
if (x &gt; 0) {
    DoSomething();
}</literal_block>
                <paragraph>However, you may choose to omit line breaks inside brackets:</paragraph>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph>For simple property accessors.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>For simple object, array, or collection initializers.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>For abstract auto property, indexer, or event declarations.</paragraph>
                    </list_item>
                </bullet_list>
                <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">// You may put the brackets in a single line in following cases:
public interface MyInterface
{
    int MyProperty { get; set; }
}

public class MyClass : ParentClass
{
    public int Value
    {
        get { return 0; }
        set
        {
            ArrayValue = new [] {value};
        }
    }
}</literal_block>
                <paragraph>Insert a blank line:</paragraph>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph>After a list of <literal>using</literal> statements.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Between method, properties, and inner type declarations.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>At the end of each file.</paragraph>
                    </list_item>
                </bullet_list>
                <paragraph>Field and constant declarations can be grouped together according to relevance. In that case, consider
                    inserting a blank line between the groups for easier reading.</paragraph>
                <paragraph>Avoid inserting a blank line:</paragraph>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph>After <literal>{</literal>, the opening brace.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Before <literal>}</literal>, the closing brace.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>After a comment block or a single-line comment.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Adjacent to another blank line.</paragraph>
                    </list_item>
                </bullet_list>
                <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">using System;
using Godot;
                                          // Blank line after `using` list.
public class MyClass
{                                         // No blank line after `{`.
    public enum MyEnum
    {
        Value,
        AnotherValue                      // No blank line before `}`.
    }
                                          // Blank line around inner types.
    public const int SomeConstant = 1;
    public const int AnotherConstant = 2;

    private Vector3 _x;                  // Related constants or fields can be
    private Vector3 _y;                  // grouped together.

    private float _width;
    private float _height;

    public int MyProperty { get; set; }
                                          // Blank line around properties.
    public void MyMethod()
    {
        // Some comment.
        AnotherMethod();                  // No blank line after a comment.
    }
                                          // Blank line around methods.
    public void AnotherMethod()
    {
    }
}</literal_block>
            </section>
            <section ids="using-spaces" names="using\ spaces">
                <title>Using spaces</title>
                <paragraph>Insert a space:</paragraph>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph>Around a binary and ternary operator.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Between an opening parenthesis and <literal>if</literal>, <literal>for</literal>, <literal>foreach</literal>, <literal>catch</literal>, <literal>while</literal>, <literal>lock</literal> or <literal>using</literal> keywords.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Before and within a single line accessor block.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Between accessors in a single line accessor block.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>After a comma which is not at the end of a line.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>After a semicolon in a <literal>for</literal> statement.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>After a colon in a single line <literal>case</literal> statement.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Around a colon in a type declaration.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Around a lambda arrow.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>After a single-line comment symbol (<literal>//</literal>), and before it if used at the end of a line.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>After the opening brace, and before the closing brace in a single line initializer.</paragraph>
                    </list_item>
                </bullet_list>
                <paragraph>Do not use a space:</paragraph>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph>After type cast parentheses.</paragraph>
                    </list_item>
                </bullet_list>
                <paragraph>The following example shows a proper use of spaces, according to some of the above mentioned conventions:</paragraph>
                <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">public class MyClass&lt;A, B&gt; : Parent&lt;A, B&gt;
{
    public float MyProperty { get; set; }

    public float AnotherProperty
    {
        get { return MyProperty; }
    }

    public void MyMethod()
    {
        int[] values = { 1, 2, 3, 4 };
        int sum = 0;

        // Single line comment.
        for (int i = 0; i &lt; values.Length; i++)
        {
            switch (i)
            {
                case 3: return;
                default:
                    sum += i &gt; 2 ? 0 : 1;
                    break;
            }
        }

        i += (int)MyProperty; // No space after a type cast.
    }
}</literal_block>
            </section>
        </section>
        <section ids="naming-conventions" names="naming\ conventions">
            <title>Naming conventions</title>
            <paragraph>Use <strong>PascalCase</strong> for all namespaces, type names and member level identifiers (i.e. methods, properties,
                constants, events), except for private fields:</paragraph>
            <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">namespace ExampleProject
{
    public class PlayerCharacter
    {
        public const float DefaultSpeed = 10f;

        public float CurrentSpeed { get; set; }

        protected int HitPoints;

        private void CalculateWeaponDamage()
        {
        }
    }
}</literal_block>
            <paragraph>Use <strong>camelCase</strong> for all other identifiers (i.e. local variables, method arguments), and use
                an underscore (<literal>_</literal>) as a prefix for private fields (but not for methods or properties, as explained above):</paragraph>
            <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">private Vector3 _aimingAt; // Use an `_` prefix for private fields.

private void Attack(float attackStrength)
{
    Enemy targetFound = FindTarget(_aimingAt);

    targetFound?.Hit(attackStrength);
}</literal_block>
            <paragraph>There's an exception with acronyms which consist of two letters, like <literal>UI</literal>, which should be written in
                uppercase letters where PascalCase would be expected, and in lowercase letters otherwise.</paragraph>
            <paragraph>Note that <literal>id</literal> is <strong>not</strong> an acronym, so it should be treated as a normal identifier:</paragraph>
            <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">public string Id { get; }

public UIManager UI
{
    get { return uiManager; }
}</literal_block>
            <paragraph>It is generally discouraged to use a type name as a prefix of an identifier, like <literal>string strText</literal>
                or <literal>float fPower</literal>, for example. An exception is made, however, for interfaces, which
                <strong>should</strong>, in fact, have an uppercase letter <literal>I</literal> prefixed to their names, like <literal>IInventoryHolder</literal> or <literal>IDamageable</literal>.</paragraph>
            <paragraph>Lastly, consider choosing descriptive names and do not try to shorten them too much if it affects
                readability.</paragraph>
            <paragraph>For instance, if you want to write code to find a nearby enemy and hit it with a weapon, prefer:</paragraph>
            <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">FindNearbyEnemy()?.Damage(weaponDamage);</literal_block>
            <paragraph>Rather than:</paragraph>
            <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">FindNode()?.Change(wpnDmg);</literal_block>
        </section>
        <section ids="member-variables" names="member\ variables">
            <title>Member variables</title>
            <paragraph>Don't declare member variables if they are only used locally in a method, as it
                makes the code more difficult to follow. Instead, declare them as local
                variables in the method's body.</paragraph>
        </section>
        <section ids="local-variables" names="local\ variables">
            <title>Local variables</title>
            <paragraph>Declare local variables as close as possible to their first use. This makes it
                easier to follow the code, without having to scroll too much to find where the
                variable was declared.</paragraph>
        </section>
        <section ids="implicitly-typed-local-variables" names="implicitly\ typed\ local\ variables">
            <title>Implicitly typed local variables</title>
            <paragraph>Consider using implicitly typing (<literal>var</literal>) for declaration of a local variable, but do so
                <strong>only when the type is evident</strong> from the right side of the assignment:</paragraph>
            <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">// You can use `var` for these cases:

var direction = new Vector2(1, 0);

var value = (int)speed;

var text = "Some value";

for (var i = 0; i &lt; 10; i++)
{
}

// But not for these:

var value = GetValue();

var velocity = direction * 1.5;

// It's generally a better idea to use explicit typing for numeric values, especially with
// the existence of the `real_t` alias in Godot, which can either be double or float
// depending on the build configuration.

var value = 1.5;</literal_block>
        </section>
        <section ids="other-considerations" names="other\ considerations">
            <title>Other considerations</title>
            <block_quote>
                <bullet_list bullet="*">
                    <list_item>
                        <paragraph>Use explicit access modifiers.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Use properties instead of non-private fields.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Use modifiers in this order:
                            <literal>public</literal>/<literal>protected</literal>/<literal>private</literal>/<literal>internal</literal>/<literal>virtual</literal>/<literal>override</literal>/<literal>abstract</literal>/<literal>new</literal>/<literal>static</literal>/<literal>readonly</literal>.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Avoid using fully-qualified names or <literal>this.</literal> prefix for members when it's not necessary.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Remove unused <literal>using</literal> statements and unnecessary parentheses.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Consider omitting the default initial value for a type.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Consider using null-conditional operators or type initializers to make the code more compact.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Use safe cast when there is a possibility of the value being a different type, and use direct cast otherwise.</paragraph>
                    </list_item>
                </bullet_list>
            </block_quote>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
