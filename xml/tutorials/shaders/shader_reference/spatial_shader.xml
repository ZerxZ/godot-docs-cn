<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/shaders/shader_reference/spatial_shader.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-spatial-shader"></target>
    <section ids="spatial-shaders doc-spatial-shader" names="spatial\ shaders doc_spatial_shader">
        <title>Spatial shaders</title>
        <paragraph>Spatial shaders are used for shading 3D objects. They are the most complex type of shader Godot offers.
            Spatial shaders are highly configurable with different render modes and different rendering options
            (e.g. Subsurface Scattering, Transmission, Ambient Occlusion, Rim lighting, etc.). Users can optionally
            write vertex, fragment, and light processor functions to affect how objects are drawn.</paragraph>
        <section ids="render-modes" names="render\ modes">
            <title>Render modes</title>
            <paragraph>For visual examples of these render modes, see <reference internal="True" refuri="../../3d/standard_material_3d#doc-standard-material-3d"><inline classes="std std-ref">Standard Material 3D and ORM Material 3D</inline></reference>.</paragraph>
            <table>
                <tgroup cols="2">
                    <colspec colwidth="31"></colspec>
                    <colspec colwidth="102"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>Render mode</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Description</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><strong>blend_mix</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Mix blend mode (alpha is transparency), default.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>blend_add</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Additive blend mode.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>blend_sub</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Subtractive blend mode.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>blend_mul</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Multiplicative blend mode.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>blend_premul_alpha</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Premultiplied alpha blend mode (fully transparent = add, fully opaque = mix).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>depth_draw_opaque</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Only draw depth for opaque geometry (not transparent).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>depth_draw_always</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Always draw depth (opaque and transparent).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>depth_draw_never</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Never draw depth.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>depth_prepass_alpha</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Do opaque depth pre-pass for transparent geometry.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>depth_test_disabled</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Disable depth testing.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>depth_test_default</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Depth test will discard the pixel if it is behind other pixels.
                                    In Forward+ only, the pixel is also discarded if it's at the exact same depth as another pixel.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>depth_test_inverted</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Depth test will discard the pixel if it is in front of other pixels. Useful for stencil effects.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>sss_mode_skin</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Subsurface Scattering mode for skin (optimizes visuals for human skin, e.g. boosted red channel).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>cull_back</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Cull back-faces (default).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>cull_front</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Cull front-faces.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>cull_disabled</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Culling disabled (double sided).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>unshaded</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Result is just albedo. No lighting/shading happens in material, making it faster to render.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>wireframe</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Geometry draws using lines (useful for troubleshooting).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>debug_shadow_splits</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Directional shadows are drawn using different colors for each split (useful for troubleshooting).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>diffuse_burley</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Burley (Disney PBS) for diffuse (default).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>diffuse_lambert</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Lambert shading for diffuse.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>diffuse_lambert_wrap</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Lambert-wrap shading (roughness-dependent) for diffuse.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>diffuse_toon</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Toon shading for diffuse.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>specular_schlick_ggx</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Schlick-GGX for direct light specular lobes (default).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>specular_toon</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Toon for direct light specular lobes.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>specular_disabled</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Disable direct light specular lobes. Doesn't affect reflected light (use <literal>SPECULAR = 0.0</literal> instead).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>skip_vertex_transform</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>VERTEX</literal>, <literal>NORMAL</literal>, <literal>TANGENT</literal>, and <literal>BITANGENT</literal>
                                    need to be transformed manually in the <literal>vertex()</literal> function.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>world_vertex_coords</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>VERTEX</literal>, <literal>NORMAL</literal>, <literal>TANGENT</literal>, and <literal>BITANGENT</literal>
                                    are modified in world space instead of model space.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>ensure_correct_normals</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Use when non-uniform scale is applied to mesh <emphasis>(note: currently unimplemented)</emphasis>.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>shadows_disabled</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Disable computing shadows in shader. The shader will not receive shadows, but can still cast them.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>ambient_light_disabled</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Disable contribution from ambient light and radiance map.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>shadow_to_opacity</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Lighting modifies the alpha so shadowed areas are opaque and
                                    non-shadowed areas are transparent. Useful for overlaying shadows onto
                                    a camera feed in AR.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>vertex_lighting</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Use vertex-based lighting instead of per-pixel lighting.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>particle_trails</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Enables the trails when used on particle geometry.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>alpha_to_coverage</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Alpha antialiasing mode, see <reference name="here" refuri="https://github.com/godotengine/godot/pull/40364">here</reference><target ids="here" names="here" refuri="https://github.com/godotengine/godot/pull/40364"></target> for more.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>alpha_to_coverage_and_one</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Alpha antialiasing mode, see <reference name="here" refuri="https://github.com/godotengine/godot/pull/40364">here</reference><target dupnames="here" ids="id1" refuri="https://github.com/godotengine/godot/pull/40364"></target> for more.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>fog_disabled</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Disable receiving depth-based or volumetric fog. Useful for <literal>blend_add</literal> materials like particles.</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
        <section ids="stencil-modes" names="stencil\ modes">
            <title>Stencil modes</title>
            <note>
                <paragraph>Stencil support is experimental, use at your own risk.
                    We will try to not break compatibility as much as possible,
                    but if significant flaws are found in the API, it may change
                    in the next minor version.</paragraph>
            </note>
            <paragraph>Stencil operations are a set of operations that allow writing to
                an efficient buffer in an hardware-accelerated manner.
                This is generally used to mask in or out parts of the scene.</paragraph>
            <paragraph>Some of the most well-known uses are:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Outlines: Mask out the inner mesh that is being outlined to avoid inner outlines.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>X-Ray: Display a mesh behind other objects.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Portals: Draw geometry that is normally "impossible" (non-Euclidian) by masking objects.</paragraph>
                </list_item>
            </bullet_list>
            <note>
                <paragraph>You can only read from the stencil buffer in the transparent pass.
                    Any attempt to read in the opaque pass will fail, as it's currently not supported behavior.</paragraph>
                <paragraph>Note that for compositor effects, the main renderer's stencil buffer can't be copied
                    to a custom texture.</paragraph>
            </note>
            <table>
                <tgroup cols="2">
                    <colspec colwidth="31"></colspec>
                    <colspec colwidth="102"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>Stencil mode</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Description</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><strong>read</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Read from the stencil buffer.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>write</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Write reference value to the stencil buffer.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>write_if_depth_fail</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Write reference value to the stencil buffer if the depth test fails.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>compare_always</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Always pass stencil test.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>compare_equal</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Pass stencil test if the reference value is equal to the stencil buffer value.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>compare_not_equal</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Pass stencil test if the reference value is not equal to the stencil buffer value.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>compare_less</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Pass stencil test if the reference value is less than the stencil buffer value.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>compare_less_or_equal</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Pass stencil test if the reference value is less than or equal to the stencil buffer value.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>compare_greater</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Pass stencil test if the reference value is greater than the stencil buffer value.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>compare_greater_or_equal</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Pass stencil test if the reference value is greater than or equal to the stencil buffer value.</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
        <section ids="built-ins" names="built-ins">
            <title>Built-ins</title>
            <paragraph>Values marked as <literal>in</literal> are read-only. Values marked as <literal>out</literal> can optionally be written to and will
                not necessarily contain sensible values. Values marked as <literal>inout</literal> provide a sensible default
                value, and can optionally be written to. Samplers cannot be written to so they are not marked.</paragraph>
            <paragraph>Not all built-ins are available in all processing functions. To access a vertex
                built-in from the <literal>fragment()</literal> function, you can use a <reference internal="True" refuri="shading_language#doc-shading-language-varyings"><inline classes="std std-ref">varying</inline></reference>.
                The same applies for accessing fragment built-ins from the <literal>light()</literal> function.</paragraph>
        </section>
        <section ids="global-built-ins" names="global\ built-ins">
            <title>Global built-ins</title>
            <paragraph>Global built-ins are available everywhere, including custom functions.</paragraph>
            <table>
                <tgroup cols="2">
                    <colspec colwidth="29"></colspec>
                    <colspec colwidth="101"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>Built-in</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Description</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph>in float <strong>TIME</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Global time since the engine has started, in seconds. It repeats after every <literal>3,600</literal>
                                    seconds (which can be changed with the
                                    <reference internal="True" refuri="../../../classes/class_projectsettings#class-projectsettings-property-rendering-limits-time-time-rollover-secs"><inline classes="std std-ref">rollover</inline></reference>
                                    setting). It's affected by <reference internal="True" refuri="../../../classes/class_engine#class-engine-property-time-scale"><inline classes="std std-ref">time_scale</inline></reference> but not by pausing.
                                    If you need a <literal>TIME</literal> variable that is not affected by time scale, add your own
                                    <reference internal="True" refuri="shading_language#doc-shading-language-global-uniforms"><inline classes="std std-ref">global shader uniform</inline></reference> and update it each
                                    frame.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in float <strong>PI</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>A <literal>PI</literal> constant (<literal>3.141592</literal>).
                                    The ratio of a circle's circumference to its diameter and the number of radians in a half turn.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in float <strong>TAU</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>A <literal>TAU</literal> constant (<literal>6.283185</literal>).
                                    Equivalent to <literal>PI * 2</literal> and the number of radians in a full turn.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in float <strong>E</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>An <literal>E</literal> constant (<literal>2.718281</literal>). Euler's number, the base of the natural logarithm.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in bool <strong>OUTPUT_IS_SRGB</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>true</literal> when output is in sRGB color space (this is <literal>true</literal> in the Compatibility
                                    renderer, <literal>false</literal> in Forward+ and Mobile).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in float <strong>CLIP_SPACE_FAR</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Clip space far <literal>z</literal> value.
                                    In the Forward+ or Mobile renderers, it's <literal>0.0</literal>.
                                    In the Compatibility renderer, it's <literal>-1.0</literal>.</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
        <section ids="vertex-built-ins" names="vertex\ built-ins">
            <title>Vertex built-ins</title>
            <paragraph>Vertex data (<literal>VERTEX</literal>, <literal>NORMAL</literal>, <literal>TANGENT</literal>, and <literal>BITANGENT</literal>) are presented in model space
                (also called local space). If not written to, these values will not be modified and be
                passed through as they came, then transformed into view space to be used in <literal>fragment()</literal>.</paragraph>
            <paragraph>They can optionally be presented in world space by using the <literal>world_vertex_coords</literal> render mode.</paragraph>
            <paragraph>Users can disable the built-in modelview transform (projection will still happen later) and do
                it manually with the following code:</paragraph>
            <literal_block force="False" highlight_args="{}" language="glsl" linenos="False" xml:space="preserve">shader_type spatial;
render_mode skip_vertex_transform;

void vertex() {
    VERTEX = (MODELVIEW_MATRIX * vec4(VERTEX, 1.0)).xyz;
    NORMAL = normalize((MODELVIEW_MATRIX * vec4(NORMAL, 0.0)).xyz);
    BINORMAL = normalize((MODELVIEW_MATRIX * vec4(BINORMAL, 0.0)).xyz);
    TANGENT = normalize((MODELVIEW_MATRIX * vec4(TANGENT, 0.0)).xyz);
}</literal_block>
            <paragraph>Other built-ins, such as <literal>UV</literal>, <literal>UV2</literal>, and <literal>COLOR</literal>, are also passed through to the <literal>fragment()</literal> function if not modified.</paragraph>
            <paragraph>Users can override the modelview and projection transforms using the <literal>POSITION</literal> built-in. If <literal>POSITION</literal> is written
                to anywhere in the shader, it will always be used, so the user becomes responsible for ensuring that it always has
                an acceptable value. When <literal>POSITION</literal> is used, the value from <literal>VERTEX</literal> is ignored and projection does not happen.
                However, the value passed to the fragment shader still comes from <literal>VERTEX</literal>.</paragraph>
            <paragraph>For instancing, the <literal>INSTANCE_CUSTOM</literal> variable contains the instance custom data. When using particles, this information
                is usually:</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph><strong>x</strong>: Rotation angle in radians.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>y</strong>: Phase during lifetime (<literal>0.0</literal> to <literal>1.0</literal>).</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>z</strong>: Animation frame.</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>This allows you to easily adjust the shader to a particle system using default particle material. When writing a custom particle
                shader, this value can be used as desired.</paragraph>
            <table>
                <tgroup cols="2">
                    <colspec colwidth="40"></colspec>
                    <colspec colwidth="56"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>Built-in</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Description</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph>in vec2 <strong>VIEWPORT_SIZE</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Size of viewport (in pixels).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in mat4 <strong>VIEW_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>World space to view space transform.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in mat4 <strong>INV_VIEW_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>View space to world space transform.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in mat4 <strong>MAIN_CAM_INV_VIEW_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>View space to world space transform of the camera used
                                    to draw the current viewport.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in mat4 <strong>INV_PROJECTION_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Clip space to view space transform.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec3 <strong>NODE_POSITION_WORLD</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Node position, in world space.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec3 <strong>NODE_POSITION_VIEW</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Node position, in view space.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec3 <strong>CAMERA_POSITION_WORLD</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Camera position, in world space. Represents the
                                    midpoint of the two eyes when in multiview/stereo
                                    rendering.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec3 <strong>CAMERA_DIRECTION_WORLD</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Camera direction, in world space.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in uint <strong>CAMERA_VISIBLE_LAYERS</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Cull layers of the camera rendering the current pass.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in int <strong>INSTANCE_ID</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Instance ID for instancing.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec4 <strong>INSTANCE_CUSTOM</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Instance custom data (for particles, mostly).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in int <strong>VIEW_INDEX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>The view that we are rendering.
                                    <literal>VIEW_MONO_LEFT</literal> (<literal>0</literal>) for Mono (not multiview) or
                                    left eye, <literal>VIEW_RIGHT</literal> (<literal>1</literal>) for right eye.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in int <strong>VIEW_MONO_LEFT</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Constant for Mono or left eye, always <literal>0</literal>.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in int <strong>VIEW_RIGHT</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Constant for right eye, always <literal>1</literal>.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec3 <strong>EYE_OFFSET</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Position offset for the eye being rendered, in view
                                    space. Only applicable for multiview rendering.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>inout vec3 <strong>VERTEX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Position of the vertex, in model space.
                                    In world space if <literal>world_vertex_coords</literal> is used.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in int <strong>VERTEX_ID</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>The index of the current vertex in the vertex buffer.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>inout vec3 <strong>NORMAL</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Normal in model space.
                                    In world space if <literal>world_vertex_coords</literal> is used.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>inout vec3 <strong>TANGENT</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Tangent in model space.
                                    In world space if <literal>world_vertex_coords</literal> is used.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>inout vec3 <strong>BINORMAL</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Binormal in model space.
                                    In world space if <literal>world_vertex_coords</literal> is used.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out vec4 <strong>POSITION</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>If written to, overrides final vertex position in clip
                                    space.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>inout vec2 <strong>UV</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>UV main channel.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>inout vec2 <strong>UV2</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>UV secondary channel.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>inout vec4 <strong>COLOR</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Color from vertices. Limited to values between <literal>0.0</literal>
                                    and <literal>1.0</literal> for each channel and 8 bits per channel
                                    precision (256 possible levels). Alpha channel is
                                    supported. Values outside the allowed range are
                                    clamped, and values may be rounded due to precision
                                    limitations. Use <literal>CUSTOM0</literal>-<literal>CUSTOM3</literal> to pass data
                                    with more precision if needed.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>ROUGHNESS</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Roughness for vertex lighting.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>inout float <strong>POINT_SIZE</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Point size for point rendering.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>inout mat4 <strong>MODELVIEW_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Model/local space to view space transform
                                    (use if possible).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>inout mat3 <strong>MODELVIEW_NORMAL_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in mat4 <strong>MODEL_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Model/local space to world space transform.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in mat3 <strong>MODEL_NORMAL_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>inout mat4 <strong>PROJECTION_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>View space to clip space transform.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in uvec4 <strong>BONE_INDICES</strong></paragraph>
                            </entry>
                            <entry>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec4 <strong>BONE_WEIGHTS</strong></paragraph>
                            </entry>
                            <entry>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec4 <strong>CUSTOM0</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Custom value from vertex primitive. When using extra
                                    UVs, <literal>xy</literal> is UV3 and <literal>zw</literal> is UV4.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec4 <strong>CUSTOM1</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Custom value from vertex primitive. When using extra
                                    UVs, <literal>xy</literal> is UV5 and <literal>zw</literal> is UV6.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec4 <strong>CUSTOM2</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Custom value from vertex primitive. When using extra
                                    UVs, <literal>xy</literal> is UV7 and <literal>zw</literal> is UV8.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec4 <strong>CUSTOM3</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Custom value from vertex primitive.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>Z_CLIP_SCALE</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>If written to, scales the vertex towards the camera to
                                    avoid clipping into things like walls.
                                    Lighting and shadows will continue to work correctly
                                    when this is written to, but screen-space effects like
                                    SSAO and SSR may break with lower scales. Try to keep
                                    this value as close to <literal>1.0</literal> as possible.</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
            <note>
                <paragraph><literal>MODELVIEW_MATRIX</literal> combines both the <literal>MODEL_MATRIX</literal> and <literal>VIEW_MATRIX</literal> and is better suited when floating point issues may arise. For example, if the object is very far away from the world origin, you may run into floating point issues when using the separated <literal>MODEL_MATRIX</literal> and <literal>VIEW_MATRIX</literal>.</paragraph>
            </note>
            <note>
                <paragraph><literal>INV_VIEW_MATRIX</literal> is the matrix used for rendering the object in that pass, unlike <literal>MAIN_CAM_INV_VIEW_MATRIX</literal>, which is the matrix of the camera in the scene. In the shadow pass, <literal>INV_VIEW_MATRIX</literal>'s view is based on the camera that is located at the position of the light.</paragraph>
            </note>
        </section>
        <section ids="fragment-built-ins" names="fragment\ built-ins">
            <title>Fragment built-ins</title>
            <paragraph>The default use of a Godot fragment processor function is to set up the material properties of your object
                and to let the built-in renderer handle the final shading. However, you are not required to use all
                these properties, and if you don't write to them, Godot will optimize away the corresponding functionality.</paragraph>
            <table>
                <tgroup cols="2">
                    <colspec colwidth="40"></colspec>
                    <colspec colwidth="98"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>Built-in</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Description</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph>in vec2 <strong>VIEWPORT_SIZE</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Size of viewport (in pixels).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec4 <strong>FRAGCOORD</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Coordinate of pixel center in screen space. <literal>xy</literal> specifies position in window. Origin is lower
                                    left. <literal>z</literal> specifies fragment depth. It is also used as the output value for the fragment depth
                                    unless <literal>DEPTH</literal> is written to.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in bool <strong>FRONT_FACING</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>true</literal> if current face is front facing, <literal>false</literal> otherwise.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec3 <strong>VIEW</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Normalized vector from fragment position to camera (in view space). This is the same for both
                                    perspective and orthogonal cameras.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec2 <strong>UV</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>UV that comes from the <literal>vertex()</literal> function.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec2 <strong>UV2</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>UV2 that comes from the <literal>vertex()</literal> function.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec4 <strong>COLOR</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>COLOR that comes from the <literal>vertex()</literal> function.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec2 <strong>POINT_COORD</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Point coordinate for drawing points with <literal>POINT_SIZE</literal>.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in mat4 <strong>MODEL_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Model/local space to world space transform.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in mat3 <strong>MODEL_NORMAL_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Model/local space to world space transform for normals. This is the same as <literal>MODEL_MATRIX</literal>
                                    by default unless the object is scaled non-uniformly, in which case this is set to
                                    <literal>transpose(inverse(mat3(MODEL_MATRIX)))</literal>.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in mat4 <strong>VIEW_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>World space to view space transform.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in mat4 <strong>INV_VIEW_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>View space to world space transform.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in mat4 <strong>PROJECTION_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>View space to clip space transform.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in mat4 <strong>INV_PROJECTION_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Clip space to view space transform.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec3 <strong>NODE_POSITION_WORLD</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Node position, in world space.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec3 <strong>NODE_POSITION_VIEW</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Node position, in view space.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec3 <strong>CAMERA_POSITION_WORLD</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Camera position, in world space. Represents the midpoint of the two eyes when in
                                    multiview/stereo rendering.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec3 <strong>CAMERA_DIRECTION_WORLD</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Camera direction, in world space.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in uint <strong>CAMERA_VISIBLE_LAYERS</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Cull layers of the camera rendering the current pass.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec3 <strong>VERTEX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Position of the fragment (pixel), in view space. It is the <literal>VERTEX</literal> value from <literal>vertex()</literal>
                                    interpolated between the face's vertices and transformed into view space.
                                    If <literal>skip_vertex_transform</literal> is enabled, it may not be in view space.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>inout vec3 <strong>LIGHT_VERTEX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>A writable version of <literal>VERTEX</literal> that can be used to alter light and shadows. Writing to this
                                    will not change the position of the fragment.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in int <strong>VIEW_INDEX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>The view that we are rendering. Used to distinguish between views in multiview/stereo rendering.
                                    <literal>VIEW_MONO_LEFT</literal> (<literal>0</literal>) for Mono (not multiview) or
                                    left eye, <literal>VIEW_RIGHT</literal> (<literal>1</literal>) for right eye.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in int <strong>VIEW_MONO_LEFT</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Constant for Mono or left eye, always <literal>0</literal>.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in int <strong>VIEW_RIGHT</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Constant for right eye, always <literal>1</literal>.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec3 <strong>EYE_OFFSET</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Position offset for the eye being rendered, in view space. Only applicable for multiview
                                    rendering.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>sampler2D <strong>SCREEN_TEXTURE</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Removed in Godot 4. Use a <literal>sampler2D</literal> with <literal>hint_screen_texture</literal> instead.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec2 <strong>SCREEN_UV</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Screen UV coordinate for the current pixel.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>sampler2D <strong>DEPTH_TEXTURE</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Removed in Godot 4. Use a <literal>sampler2D</literal> with <literal>hint_depth_texture</literal> instead.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>DEPTH</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Custom depth value (range <literal>[0.0, 1.0]</literal>). If <literal>DEPTH</literal> is written to in any shader branch,
                                    then you are responsible for setting <literal>DEPTH</literal> for <strong>all</strong> other branches.
                                    Otherwise, the graphics API will leave them uninitialized.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>inout vec3 <strong>NORMAL</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Normal that comes from the <literal>vertex()</literal> function, in view space.
                                    If <literal>skip_vertex_transform</literal> is enabled, it may not be in view space.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>inout vec3 <strong>TANGENT</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Tangent that comes from the <literal>vertex()</literal> function, in view space.
                                    If <literal>skip_vertex_transform</literal> is enabled, it may not be in view space.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>inout vec3 <strong>BINORMAL</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Binormal that comes from the <literal>vertex()</literal> function, in view space.
                                    If <literal>skip_vertex_transform</literal> is enabled, it may not be in view space.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out vec3 <strong>NORMAL_MAP</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Set normal here if reading normal from a texture instead of <literal>NORMAL</literal>.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>NORMAL_MAP_DEPTH</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Depth from <literal>NORMAL_MAP</literal>. Defaults to <literal>1.0</literal>.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out vec3 <strong>ALBEDO</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Albedo (default white). Base color.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>ALPHA</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Alpha (range <literal>[0.0, 1.0]</literal>). If read from or written to, the material will go to the
                                    transparent pipeline.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>ALPHA_SCISSOR_THRESHOLD</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>If written to, values below a certain amount of alpha are discarded.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>ALPHA_HASH_SCALE</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Alpha hash scale when using the alpha hash transparency mode. Defaults to <literal>1.0</literal>.
                                    Higher values result in more visible pixels in the dithering pattern.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>ALPHA_ANTIALIASING_EDGE</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>The threshold below which alpha to coverage antialiasing should be used. Defaults to <literal>0.0</literal>.
                                    Requires the <literal>alpha_to_coverage</literal> render mode. Should be set to a value lower than
                                    <literal>ALPHA_SCISSOR_THRESHOLD</literal> to be effective.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out vec2 <strong>ALPHA_TEXTURE_COORDINATE</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>The texture coordinate to use for alpha-to-coverge antialiasing. Requires the
                                    <literal>alpha_to_coverage</literal> render mode. Typically set to <literal>UV * vec2(albedo_texture_size)</literal> where
                                    <literal>albedo_texture_size</literal> is the size of the albedo texture in pixels.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>PREMUL_ALPHA_FACTOR</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Premultiplied alpha factor. Only effective if <literal>render_mode blend_premul_alpha;</literal> is used.
                                    This should be written to when using a <emphasis>shaded</emphasis> material with premultiplied alpha blending for
                                    interaction with lighting. This is not required for unshaded materials.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>METALLIC</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Metallic (range <literal>[0.0, 1.0]</literal>).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>SPECULAR</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Specular (not physically accurate to change). Defaults to <literal>0.5</literal>. <literal>0.0</literal> disables reflections.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>ROUGHNESS</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Roughness (range <literal>[0.0, 1.0]</literal>).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>RIM</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Rim (range <literal>[0.0, 1.0]</literal>). If used, Godot calculates rim lighting.
                                    Rim size depends on <literal>ROUGHNESS</literal>.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>RIM_TINT</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Rim Tint, range from <literal>0.0</literal> (white) to <literal>1.0</literal> (albedo). If used, Godot calculates rim lighting.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>CLEARCOAT</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Small specular blob added on top of the existing one. If used, Godot calculates clearcoat.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>CLEARCOAT_GLOSS</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Gloss of clearcoat. If used, Godot calculates clearcoat.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>ANISOTROPY</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>For distorting the specular blob according to tangent space.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out vec2 <strong>ANISOTROPY_FLOW</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Distortion direction, use with flowmaps.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>SSS_STRENGTH</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Strength of subsurface scattering. If used, subsurface scattering will be applied to the object.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out vec4 <strong>SSS_TRANSMITTANCE_COLOR</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Color of subsurface scattering transmittance. If used, subsurface scattering transmittance
                                    will be applied to the object.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>SSS_TRANSMITTANCE_DEPTH</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Depth of subsurface scattering transmittance. Higher values allow the effect to reach deeper
                                    into the object.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>SSS_TRANSMITTANCE_BOOST</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Boosts the subsurface scattering transmittance if set above <literal>0.0</literal>. This makes the effect
                                    show up even on directly lit surfaces</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>inout vec3 <strong>BACKLIGHT</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Color of backlighting (works like direct light, but it's received even if the normal
                                    is slightly facing away from the light). If used, backlighting will be applied to the object.
                                    Can be used as a cheaper approximation of subsurface scattering.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>AO</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Strength of ambient occlusion. For use with pre-baked AO.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>AO_LIGHT_AFFECT</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>How much ambient occlusion affects direct light (range <literal>[0.0, 1.0]</literal>, default <literal>0.0</literal>).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out vec3 <strong>EMISSION</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Emission color (can go over <literal>(1.0, 1.0, 1.0)</literal> for HDR).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out vec4 <strong>FOG</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>If written to, blends final pixel color with <literal>FOG.rgb</literal> based on <literal>FOG.a</literal>.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out vec4 <strong>RADIANCE</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>If written to, blends environment map radiance with <literal>RADIANCE.rgb</literal> based on <literal>RADIANCE.a</literal>.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out vec4 <strong>IRRADIANCE</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>If written to, blends environment map irradiance with <literal>IRRADIANCE.rgb</literal> based on
                                    <literal>IRRADIANCE.a</literal>.</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
            <note>
                <paragraph>Shaders going through the transparent pipeline when <literal>ALPHA</literal> is written to
                    may exhibit transparency sorting issues. Read the
                    <reference internal="True" refuri="../../3d/3d_rendering_limitations#doc-3d-rendering-limitations-transparency-sorting"><inline classes="std std-ref">transparency sorting section in the 3D rendering limitations page</inline></reference>
                    for more information and ways to avoid issues.</paragraph>
            </note>
        </section>
        <section ids="light-built-ins" names="light\ built-ins">
            <title>Light built-ins</title>
            <paragraph>Writing light processor functions is completely optional. You can skip the <literal>light()</literal> function by using
                the <literal>unshaded</literal> render mode. If no light function is written, Godot will use the material properties
                written to in the <literal>fragment()</literal> function to calculate the lighting for you (subject to the render mode).</paragraph>
            <paragraph>The <literal>light()</literal> function is called for every light in every pixel. It is called within a loop for each light type.</paragraph>
            <paragraph>Below is an example of a custom <literal>light()</literal> function using a Lambertian lighting model:</paragraph>
            <literal_block force="False" highlight_args="{}" language="glsl" linenos="False" xml:space="preserve">void light() {
    DIFFUSE_LIGHT += clamp(dot(NORMAL, LIGHT), 0.0, 1.0) * ATTENUATION * LIGHT_COLOR / PI;
}</literal_block>
            <paragraph>If you want the lights to add together, add the light contribution to <literal>DIFFUSE_LIGHT</literal> using <literal>+=</literal>, rather than overwriting it.</paragraph>
            <warning>
                <paragraph>The <literal>light()</literal> function won't be run if the <literal>vertex_lighting</literal> render mode is enabled, or if
                    <reference internal="True" refuri="../../../classes/class_projectsettings#class-projectsettings-property-rendering-shading-overrides-force-vertex-shading"><inline classes="std std-ref">Rendering &gt; Quality &gt; Shading &gt; Force Vertex Shading</inline></reference>
                    is enabled in the Project Settings. (It's enabled by default on mobile platforms.)</paragraph>
            </warning>
            <table>
                <tgroup cols="2">
                    <colspec colwidth="35"></colspec>
                    <colspec colwidth="72"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>Built-in</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Description</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph>in vec2 <strong>VIEWPORT_SIZE</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Size of viewport (in pixels).</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec4 <strong>FRAGCOORD</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Coordinate of pixel center in screen space.
                                    <literal>xy</literal> specifies position in window, <literal>z</literal>
                                    specifies fragment depth if <literal>DEPTH</literal> is not used.
                                    Origin is lower-left.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in mat4 <strong>MODEL_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Model/local space to world space transform.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in mat4 <strong>INV_VIEW_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>View space to world space transform.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in mat4 <strong>VIEW_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>World space to view space transform.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in mat4 <strong>PROJECTION_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>View space to clip space transform.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in mat4 <strong>INV_PROJECTION_MATRIX</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Clip space to view space transform.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec3 <strong>NORMAL</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Normal vector, in view space.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec2 <strong>SCREEN_UV</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Screen UV coordinate for the current pixel.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec2 <strong>UV</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>UV that comes from the <literal>vertex()</literal> function.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec2 <strong>UV2</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>UV2 that comes from the <literal>vertex()</literal> function.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec3 <strong>VIEW</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>View vector, in view space.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec3 <strong>LIGHT</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Light vector, in view space.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec3 <strong>LIGHT_COLOR</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph><reference internal="True" refuri="../../../classes/class_light3d#class-light3d-property-light-color"><inline classes="std std-ref">Light color</inline></reference> multiplied by
                                    <reference internal="True" refuri="../../../classes/class_light3d#class-light3d-property-light-energy"><inline classes="std std-ref">light energy</inline></reference> multiplied by
                                    <literal>PI</literal>. The <literal>PI</literal> multiplication is present because
                                    physically-based lighting models include a division by <literal>PI</literal>.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in float <strong>SPECULAR_AMOUNT</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>For <reference internal="True" refuri="../../../classes/class_omnilight3d#class-omnilight3d"><inline classes="std std-ref">OmniLight3D</inline></reference> and <reference internal="True" refuri="../../../classes/class_spotlight3d#class-spotlight3d"><inline classes="std std-ref">SpotLight3D</inline></reference>,
                                    <literal>2.0</literal> multiplied by
                                    <reference internal="True" refuri="../../../classes/class_light3d#class-light3d-property-light-specular"><inline classes="std std-ref">light_specular</inline></reference>.
                                    For <reference internal="True" refuri="../../../classes/class_directionallight3d#class-directionallight3d"><inline classes="std std-ref">DirectionalLight3D</inline></reference>, <literal>1.0</literal>.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in bool <strong>LIGHT_IS_DIRECTIONAL</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>true</literal> if this pass is a <reference internal="True" refuri="../../../classes/class_directionallight3d#class-directionallight3d"><inline classes="std std-ref">DirectionalLight3D</inline></reference>.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in float <strong>ATTENUATION</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Attenuation based on distance or shadow.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec3 <strong>ALBEDO</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Base albedo.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in vec3 <strong>BACKLIGHT</strong></paragraph>
                            </entry>
                            <entry>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in float <strong>METALLIC</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Metallic.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>in float <strong>ROUGHNESS</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Roughness.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out vec3 <strong>DIFFUSE_LIGHT</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Diffuse light result.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out vec3 <strong>SPECULAR_LIGHT</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Specular light result.</paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>out float <strong>ALPHA</strong></paragraph>
                            </entry>
                            <entry>
                                <paragraph>Alpha (range <literal>[0.0, 1.0]</literal>). If written to, the material will go to
                                    the transparent pipeline.</paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
            <note>
                <paragraph>Shaders going through the transparent pipeline when <literal>ALPHA</literal> is written to
                    may exhibit transparency sorting issues. Read the
                    <reference internal="True" refuri="../../3d/3d_rendering_limitations#doc-3d-rendering-limitations-transparency-sorting"><inline classes="std std-ref">transparency sorting section in the 3D rendering limitations page</inline></reference>
                    for more information and ways to avoid issues.</paragraph>
                <paragraph>Transparent materials also cannot cast shadows or appear in
                    <literal>hint_screen_texture</literal> and <literal>hint_depth_texture</literal> uniforms. This in turn prevents those
                    materials from appearing in screen-space reflections or refraction.
                    <reference internal="True" refuri="../../3d/global_illumination/using_sdfgi#doc-using-sdfgi"><inline classes="std std-ref">SDFGI</inline></reference> sharp reflections are not visible on transparent
                    materials (only rough reflections are visible on transparent materials).</paragraph>
            </note>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
