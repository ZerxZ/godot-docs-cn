<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/2d/2d_sprite_animation.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-2d-sprite-animation"></target>
    <section ids="d-sprite-animation doc-2d-sprite-animation" names="2d\ sprite\ animation doc_2d_sprite_animation">
        <title>2D sprite animation</title>
        <section ids="introduction" names="introduction">
            <title>Introduction</title>
            <paragraph>In this tutorial, you'll learn how to create 2D animated
                characters with the AnimatedSprite2D class and the AnimationPlayer.
                Typically, when you create or download an animated character,
                it will come in one of two ways: as individual images or as a single sprite sheet
                containing all the animation's frames.
                Both can be animated in Godot with the AnimatedSprite2D class.</paragraph>
            <paragraph>First, we'll use <reference internal="True" refuri="../../classes/class_animatedsprite2d#class-animatedsprite2d"><inline classes="std std-ref">AnimatedSprite2D</inline></reference> to
                animate a collection of individual images.
                Then we will animate a sprite sheet using this class.
                Finally, we will learn another way to animate a sprite sheet
                with <reference internal="True" refuri="../../classes/class_animationplayer#class-animationplayer"><inline classes="std std-ref">AnimationPlayer</inline></reference> and the <emphasis>Animation</emphasis>
                property of <reference internal="True" refuri="../../classes/class_sprite2d#class-sprite2d"><inline classes="std std-ref">Sprite2D</inline></reference>.</paragraph>
            <note>
                <paragraph>Art for the following examples by <reference refuri="https://opengameart.org/users/ansimuz">https://opengameart.org/users/ansimuz</reference> and tgfcoder.</paragraph>
            </note>
        </section>
        <section ids="individual-images-with-animatedsprite2d" names="individual\ images\ with\ animatedsprite2d">
            <title>Individual images with AnimatedSprite2D</title>
            <paragraph>In this scenario, you have a collection of images, each containing one of your
                character's animation frames. For this example, we'll use the following
                animation:</paragraph>
            <image candidates="{'*': 'tutorials/2d/img/2d_animation_run_preview.gif'}" original_uri="img/2d_animation_run_preview.gif" uri="tutorials/2d/img/2d_animation_run_preview.gif"></image>
            <paragraph>You can download the images here:
                <reference name="2d_sprite_animation_assets.zip" refuri="https://github.com/godotengine/godot-docs-project-starters/releases/download/latest-4.x/2d_sprite_animation_assets.zip">2d_sprite_animation_assets.zip</reference><target ids="d-sprite-animation-assets-zip" names="2d_sprite_animation_assets.zip" refuri="https://github.com/godotengine/godot-docs-project-starters/releases/download/latest-4.x/2d_sprite_animation_assets.zip"></target></paragraph>
            <paragraph>Unzip the images and place them in your project folder. Set up your scene tree
                with the following nodes:</paragraph>
            <image candidates="{'*': 'tutorials/2d/img/2d_animation_tree1.webp'}" original_uri="img/2d_animation_tree1.webp" uri="tutorials/2d/img/2d_animation_tree1.webp"></image>
            <note>
                <paragraph>The root node could also be <reference internal="True" refuri="../../classes/class_area2d#class-area2d"><inline classes="std std-ref">Area2D</inline></reference> or
                    <reference internal="True" refuri="../../classes/class_rigidbody2d#class-rigidbody2d"><inline classes="std std-ref">RigidBody2D</inline></reference>. The animation will still be
                    made in the same way. Once the animation is completed, you can
                    assign a shape to the CollisionShape2D. See
                    <reference internal="True" refuri="../physics/physics_introduction#doc-physics-introduction"><inline classes="std std-ref">Physics Introduction</inline></reference> for more
                    information.</paragraph>
            </note>
            <paragraph>Now select the <literal>AnimatedSprite2D</literal> and in its <emphasis>SpriteFrames</emphasis> property, select
                "New SpriteFrames".</paragraph>
            <image candidates="{'*': 'tutorials/2d/img/2d_animation_new_spriteframes.webp'}" original_uri="img/2d_animation_new_spriteframes.webp" uri="tutorials/2d/img/2d_animation_new_spriteframes.webp"></image>
            <paragraph>Click on the new SpriteFrames resource and you'll see a new panel appear at the
                bottom of the editor window:</paragraph>
            <image candidates="{'*': 'tutorials/2d/img/2d_animation_spriteframes.webp'}" original_uri="img/2d_animation_spriteframes.webp" uri="tutorials/2d/img/2d_animation_spriteframes.webp"></image>
            <paragraph>From the FileSystem dock on the left side, drag the 8 individual images into
                the center part of the SpriteFrames panel. On the left side, change the name
                of the animation from "default" to "run".</paragraph>
            <image candidates="{'*': 'tutorials/2d/img/2d_animation_spriteframes_done.webp'}" original_uri="img/2d_animation_spriteframes_done.webp" uri="tutorials/2d/img/2d_animation_spriteframes_done.webp"></image>
            <paragraph>Use the "Play" buttons on the top-right of the <emphasis>Filter Animations</emphasis> input to preview the animation.
                You should now see the animation playing in the viewport.
                However, it is a bit slow. To fix this,
                change the <emphasis>Speed (FPS)</emphasis> setting in the SpriteFrames panel to 10.</paragraph>
            <paragraph>You can add additional animations by clicking the "Add Animation" button and
                adding additional images.</paragraph>
            <section ids="controlling-the-animation" names="controlling\ the\ animation">
                <title>Controlling the animation</title>
                <paragraph>Once the animation is complete, you can control the animation via code using
                    the <literal>play()</literal> and <literal>stop()</literal> methods. Here is a brief example to play the
                    animation while the right arrow key is held, and stop it when the key is
                    released.</paragraph>
                <container classes="sphinx-tabs" type="tab-element">
                    <div aria-label="Tabbed content" role="tablist">
                        <button aria-controls="panel-0-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                        <button aria-controls="panel-0-QyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button>
                    </div>
                    <div aria-labelledby="tab-0-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                        <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">extends CharacterBody2D

@onready var _animated_sprite = $AnimatedSprite2D

func _process(_delta):
    if Input.is_action_pressed("ui_right"):
        _animated_sprite.play("run")
    else:
        _animated_sprite.stop()</literal_block>
                    </div>
                    <div aria-labelledby="tab-0-QyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-QyM=" name="QyM=" role="tabpanel" tabindex="0">
                        <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">using Godot;

public partial class Character : CharacterBody2D
{
    private AnimatedSprite2D _animatedSprite;

    public override void _Ready()
    {
        _animatedSprite = GetNode&lt;AnimatedSprite2D&gt;("AnimatedSprite2D");
    }

    public override void _Process(double delta)
    {
        if (Input.IsActionPressed("ui_right"))
        {
            _animatedSprite.Play("run");
        }
        else
        {
            _animatedSprite.Stop();
        }
    }
}</literal_block>
                    </div>
                </container>
            </section>
        </section>
        <section ids="sprite-sheet-with-animatedsprite2d" names="sprite\ sheet\ with\ animatedsprite2d">
            <title>Sprite sheet with AnimatedSprite2D</title>
            <paragraph>You can also easily animate from a sprite sheet with the class <literal>AnimatedSprite2D</literal>.
                We will use this public domain sprite sheet:</paragraph>
            <image candidates="{'*': 'tutorials/2d/img/2d_animation_frog_spritesheet.png'}" original_uri="img/2d_animation_frog_spritesheet.png" uri="tutorials/2d/img/2d_animation_frog_spritesheet.png"></image>
            <paragraph>Right-click the image and choose "Save Image As" to download it,
                and then copy the image into your project folder.</paragraph>
            <paragraph>Set up your scene tree the same way you did previously when using individual images.
                Select the <literal>AnimatedSprite2D</literal> and in its <emphasis>SpriteFrames</emphasis> property, select "New SpriteFrames".</paragraph>
            <paragraph>Click on the new SpriteFrames resource.
                This time, when the bottom panel appears, select "Add frames from a Sprite Sheet".</paragraph>
            <image candidates="{'*': 'tutorials/2d/img/2d_animation_add_from_spritesheet.webp'}" original_uri="img/2d_animation_add_from_spritesheet.webp" uri="tutorials/2d/img/2d_animation_add_from_spritesheet.webp"></image>
            <paragraph>You will be prompted to open a file. Select your sprite sheet.</paragraph>
            <paragraph>A new window will open, showing your sprite sheet.
                The first thing you will need to do is to change the number of vertical and horizontal images in your sprite sheet.
                In this sprite sheet, we have four images horizontally and two images vertically.</paragraph>
            <image candidates="{'*': 'tutorials/2d/img/2d_animation_spritesheet_select_rows.webp'}" original_uri="img/2d_animation_spritesheet_select_rows.webp" uri="tutorials/2d/img/2d_animation_spritesheet_select_rows.webp"></image>
            <paragraph>Next, select the frames from the sprite sheet that you want to include in your animation.
                We will select the top four, then click "Add 4 frames" to create the animation.</paragraph>
            <image candidates="{'*': 'tutorials/2d/img/2d_animation_spritesheet_selectframes.webp'}" original_uri="img/2d_animation_spritesheet_selectframes.webp" uri="tutorials/2d/img/2d_animation_spritesheet_selectframes.webp"></image>
            <paragraph>You will now see your animation under the list of animations in the bottom panel.
                Double click on default to change the name of the animation to jump.</paragraph>
            <image candidates="{'*': 'tutorials/2d/img/2d_animation_spritesheet_animation.webp'}" original_uri="img/2d_animation_spritesheet_animation.webp" uri="tutorials/2d/img/2d_animation_spritesheet_animation.webp"></image>
            <paragraph>Finally, check the play button on the SpriteFrames editor to see your frog jump!</paragraph>
            <image candidates="{'*': 'tutorials/2d/img/2d_animation_play_spritesheet_animation.webp'}" original_uri="img/2d_animation_play_spritesheet_animation.webp" uri="tutorials/2d/img/2d_animation_play_spritesheet_animation.webp"></image>
        </section>
        <section ids="sprite-sheet-with-animationplayer" names="sprite\ sheet\ with\ animationplayer">
            <title>Sprite sheet with AnimationPlayer</title>
            <paragraph>Another way that you can animate when using a sprite sheet is to use a standard
                <reference internal="True" refuri="../../classes/class_sprite2d#class-sprite2d"><inline classes="std std-ref">Sprite2D</inline></reference> node to display the texture, and then animating the
                change from texture to texture with <reference internal="True" refuri="../../classes/class_animationplayer#class-animationplayer"><inline classes="std std-ref">AnimationPlayer</inline></reference>.</paragraph>
            <paragraph>Consider this sprite sheet, which contains 6 frames of animation:</paragraph>
            <image candidates="{'*': 'tutorials/2d/img/2d_animation_player-run.png'}" original_uri="img/2d_animation_player-run.png" uri="tutorials/2d/img/2d_animation_player-run.png"></image>
            <paragraph>Right-click the image and choose "Save Image As" to download, then copy the
                image into your project folder.</paragraph>
            <paragraph>Our goal is to display these images one after another in a loop. Start by
                setting up your scene tree:</paragraph>
            <image candidates="{'*': 'tutorials/2d/img/2d_animation_tree2.webp'}" original_uri="img/2d_animation_tree2.webp" uri="tutorials/2d/img/2d_animation_tree2.webp"></image>
            <note>
                <paragraph>The root node could also be <reference internal="True" refuri="../../classes/class_area2d#class-area2d"><inline classes="std std-ref">Area2D</inline></reference> or
                    <reference internal="True" refuri="../../classes/class_rigidbody2d#class-rigidbody2d"><inline classes="std std-ref">RigidBody2D</inline></reference>. The animation will still be
                    made in the same way. Once the animation is completed, you can
                    assign a shape to the CollisionShape2D. See
                    <reference internal="True" refuri="../physics/physics_introduction#doc-physics-introduction"><inline classes="std std-ref">Physics Introduction</inline></reference> for more
                    information.</paragraph>
            </note>
            <paragraph>Drag the spritesheet into the Sprite's <emphasis>Texture</emphasis> property, and you'll see the
                whole sheet displayed on the screen. To slice it up into individual frames,
                expand the <emphasis>Animation</emphasis> section in the Inspector and set the <emphasis>Hframes</emphasis> to <literal>6</literal>.
                <emphasis>Hframes</emphasis> and <emphasis>Vframes</emphasis> are the number of horizontal and vertical frames in
                your sprite sheet.</paragraph>
            <image candidates="{'*': 'tutorials/2d/img/2d_animation_setframes.webp'}" original_uri="img/2d_animation_setframes.webp" uri="tutorials/2d/img/2d_animation_setframes.webp"></image>
            <paragraph>Now try changing the value of the <emphasis>Frame</emphasis> property. You'll see that it ranges
                from <literal>0</literal> to <literal>5</literal> and the image displayed by the Sprite2D changes accordingly.
                This is the property we'll be animating.</paragraph>
            <paragraph>Select the <literal>AnimationPlayer</literal> and click the "Animation" button followed by
                "New". Name the new animation "walk". Set the animation length to <literal>0.6</literal> and
                click the "Loop" button so that our animation will repeat.</paragraph>
            <image candidates="{'*': 'tutorials/2d/img/2d_animation_new_animation.webp'}" original_uri="img/2d_animation_new_animation.webp" uri="tutorials/2d/img/2d_animation_new_animation.webp"></image>
            <paragraph>Now select the <literal>Sprite2D</literal> node and click the key icon to add a new track.</paragraph>
            <image candidates="{'*': 'tutorials/2d/img/2d_animation_new_track.webp'}" original_uri="img/2d_animation_new_track.webp" uri="tutorials/2d/img/2d_animation_new_track.webp"></image>
            <paragraph>Continue adding frames at each point in the timeline (<literal>0.1</literal> seconds by
                default), until you have all the frames from 0 to 5. You'll see the frames
                actually appearing in the animation track:</paragraph>
            <image candidates="{'*': 'tutorials/2d/img/2d_animation_full_animation.webp'}" original_uri="img/2d_animation_full_animation.webp" uri="tutorials/2d/img/2d_animation_full_animation.webp"></image>
            <paragraph>Press "Play" on the animation to see how it looks.</paragraph>
            <image candidates="{'*': 'tutorials/2d/img/2d_animation_running.gif'}" original_uri="img/2d_animation_running.gif" uri="tutorials/2d/img/2d_animation_running.gif"></image>
            <section ids="controlling-an-animationplayer-animation" names="controlling\ an\ animationplayer\ animation">
                <title>Controlling an AnimationPlayer animation</title>
                <paragraph>Like with AnimatedSprite2D, you can control the animation via code using
                    the <literal>play()</literal> and <literal>stop()</literal> methods. Again, here is an example to play the
                    animation while the right arrow key is held, and stop it when the key is
                    released.</paragraph>
                <container classes="sphinx-tabs" type="tab-element">
                    <div aria-label="Tabbed content" role="tablist">
                        <button aria-controls="panel-1-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-1-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                        <button aria-controls="panel-1-QyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-1-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button>
                    </div>
                    <div aria-labelledby="tab-1-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-1-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                        <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">extends CharacterBody2D

@onready var _animation_player = $AnimationPlayer

func _process(_delta):
    if Input.is_action_pressed("ui_right"):
        _animation_player.play("walk")
    else:
        _animation_player.stop()</literal_block>
                    </div>
                    <div aria-labelledby="tab-1-QyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-1-QyM=" name="QyM=" role="tabpanel" tabindex="0">
                        <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">using Godot;

public partial class Character : CharacterBody2D
{
    private AnimationPlayer _animationPlayer;

    public override void _Ready()
    {
        _animationPlayer = GetNode&lt;AnimationPlayer&gt;("AnimationPlayer");
    }

    public override void _Process(double delta)
    {
        if (Input.IsActionPressed("ui_right"))
        {
            _animationPlayer.Play("walk");
        }
        else
        {
            _animationPlayer.Stop();
        }
    }
}</literal_block>
                    </div>
                </container>
                <note>
                    <paragraph>If updating both an animation and a separate property at once
                        (for example, a platformer may update the sprite's <literal>h_flip</literal>/<literal>v_flip</literal>
                        properties when a character turns while starting a 'turning' animation),
                        it's important to keep in mind that <literal>play()</literal> isn't applied instantly.
                        Instead, it's applied the next time the <reference internal="True" refuri="../../classes/class_animationplayer#class-animationplayer"><inline classes="std std-ref">AnimationPlayer</inline></reference> is processed.
                        This may end up being on the next frame, causing a 'glitch' frame,
                        where the property change was applied, but the animation was not.
                        If this turns out to be a problem, after calling <literal>play()</literal>, you can call <literal>advance(0)</literal>
                        to update the animation immediately.</paragraph>
                </note>
            </section>
        </section>
        <section ids="summary" names="summary">
            <title>Summary</title>
            <paragraph>These examples illustrate the two classes you can use in Godot for 2D animation.
                <literal>AnimationPlayer</literal> is a bit more complex than <literal>AnimatedSprite2D</literal>,
                but it provides additional functionality, since you can also
                animate other properties like position or scale.
                The class <literal>AnimationPlayer</literal> can also be used with an <literal>AnimatedSprite2D</literal>.
                Experiment to see what works best for your needs.</paragraph>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
