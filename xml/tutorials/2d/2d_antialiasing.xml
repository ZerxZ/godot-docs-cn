<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.17.1 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/2d/2d_antialiasing.rst" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-2d-antialiasing"></target>
    <section ids="d-antialiasing doc-2d-antialiasing" names="2d\ antialiasing 2d\ 抗锯齿 doc_2d_antialiasing">
        <title><strong>2D 抗锯齿</strong></title>
        <comment xml:space="preserve">Images on this page were generated using the project below</comment>
        <comment xml:space="preserve">(except for `antialiasing_none_scaled.webp`):</comment>
        <comment xml:space="preserve">https://github.com/Calinou/godot-antialiasing-comparison</comment>
        <seealso>
            <paragraph>Godot 同样支持 3D 抗锯齿。参看 <reference internal="True" refuri="../3d/3d_antialiasing#doc-3d-antialiasing"><inline classes="std std-ref">3D 抗锯齿</inline></reference> 页面。</paragraph>
        </seealso>
        <section ids="introduction" names="introduction 前言">
            <title>前言</title>
            <paragraph>由于分辨率有限，以 2D 渲染的场景可能会出现锯齿现象。 这些伪影通常以几何边缘上的“楼梯”效果的形式出现，并且在使用诸如 <reference internal="True" refuri="../../classes/class_line2d#class-line2d"><inline classes="std std-ref">Line2D</inline></reference>、 <reference internal="True" refuri="../../classes/class_polygon2d#class-polygon2d"><inline classes="std std-ref">Polygon2D</inline></reference> 或 <reference internal="True" refuri="../../classes/class_textureprogressbar#class-textureprogressbar"><inline classes="std std-ref">TextureProgressBar</inline></reference> 等节点时最为明显。 <reference internal="True" refuri="custom_drawing_in_2d#doc-custom-drawing-in-2d"><inline classes="std std-ref">2D 中的自定义绘图</inline></reference> 对于不支持抗锯齿的方法也可能会出现锯齿现象。</paragraph>
            <paragraph>在下面的示例中，你可以看到边缘呈现出块状：</paragraph>
            <figure align="center" ids="id1">
                <image alt="图像缩放 2 倍并进行近邻滤波，使混叠现象更加明显。" candidates="{'*': 'tutorials/2d/img/antialiasing_none_scaled.webp'}" uri="tutorials/2d/img/antialiasing_none_scaled.webp"></image>
                <caption>图像缩放 2 倍并进行近邻滤波，使混叠现象更加明显。</caption>
            </figure>
            <paragraph>为了解决这个问题，Godot 支持多种在 2D 渲染中启用抗锯齿的方法。</paragraph>
        </section>
        <section ids="antialiasing-property-in-line2d-and-custom-drawing" names="antialiasing\ property\ in\ line2d\ and\ custom\ drawing line2d\ 和自定义绘图中的反锯齿属性">
            <title>Line2D 和自定义绘图中的反锯齿属性</title>
            <paragraph>这是推荐的方法，因为在大多数情况下，这种方法对性能的影响较小。</paragraph>
            <paragraph>Line2D 具有 <strong>Antialiased</strong>（抗锯齿）属性，可以在检查器中启用。此外，<reference internal="True" refuri="custom_drawing_in_2d#doc-custom-drawing-in-2d"><inline classes="std std-ref">2D 中的自定义绘图</inline></reference> 中的一些方法支持提供可选的 <literal>antialiased</literal> 参数，可以在调用函数时设置为 <literal>true</literal>。</paragraph>
            <paragraph>这些方法不需要启用 MSAA，这使得它们的 <emphasis>基准</emphasis> 性能成本很低。换句话说，如果你在某个阶段没有绘制任何抗锯齿几何图形，则不会产生永久性的额外性能消耗。</paragraph>
            <paragraph>这些抗锯齿方法的缺点是需要生成额外的几何图形。如果要生成每帧都需要更新的复杂 2D 几何图形，这可能会成为程序的性能瓶颈。此外，Polygon2D、TextureProgressBar 和几种自定义绘图方法都不具备抗锯齿属性。对于这些节点，可以使用 2D 多采样抗锯齿来代替。</paragraph>
        </section>
        <section ids="multisample-antialiasing-msaa" names="multisample\ antialiasing\ (msaa) 多重采样抗锯齿（msaa）">
            <title>多重采样抗锯齿（MSAA）</title>
            <paragraph>在 2D 中启用 MSAA 之前，必须先了解 MSAA 的操作对象。2D 中的 MSAA 遵循与 3D 中类似的限制。虽然它不会带来任何模糊，但其应用范围是有限的。2D MSAA 的主要应用包括：</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>几何边缘，如直线和多边形绘图。</paragraph>
                </list_item>
                <list_item>
                    <paragraph>精灵边缘 <emphasis>仅限于与纹理边缘接触的像素</emphasis> 。这适用于线性过滤和最近邻插值过滤。使用图像透明度创建的精灵边缘不受 MSAA 影响。</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>MSAA 的不足之处在于它只对边缘进行操作。这是因为 MSAA 增加了<emphasis>覆盖采样</emphasis>的数量，而不是<emphasis>颜色</emphasis>采样的数量。然而，由于颜色采样的数量并没有增加，片段着色器仍然只会为每个像素运行一次。因此，MSAA <emphasis>不会影响</emphasis>以下类型的锯齿：</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>最近邻过滤纹理 <emphasis>中</emphasis> 的混叠现象（像素艺术）。</paragraph>
                </list_item>
                <list_item>
                    <paragraph>自定义 2D 着色器造成的锯齿。</paragraph>
                </list_item>
                <list_item>
                    <paragraph>使用 Light2D 时的镜面反射锯齿。</paragraph>
                </list_item>
                <list_item>
                    <paragraph>文字渲染中的锯齿。</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>可以通过更改项目设置中**渲染 &gt; 抗锯齿 &gt; 质量 &gt; MSAA 2D** 的设置值来启用 MSAA。重要的是要更改 <strong>MSAA 2D</strong> 的设置值，而不是 <strong>MSAA 3D</strong>，因为它们是完全独立的设置项。</paragraph>
            <paragraph>左侧为无抗锯齿，右侧为不同级别的多重采样抗锯齿MSAA比较。左上角包含一个Line2D节点，右上角包含2个TextureProgressBar进度条节点。底部包含8个精灵，他们中的4个与边缘接触（绿色背景），另外4个不与边缘接触（Godot标志）：</paragraph>
            <image candidates="{'*': 'tutorials/2d/img/antialiasing_msaa_2x.webp'}" uri="tutorials/2d/img/antialiasing_msaa_2x.webp"></image>
            <image candidates="{'*': 'tutorials/2d/img/antialiasing_msaa_4x.webp'}" uri="tutorials/2d/img/antialiasing_msaa_4x.webp"></image>
            <image candidates="{'*': 'tutorials/2d/img/antialiasing_msaa_8x.webp'}" uri="tutorials/2d/img/antialiasing_msaa_8x.webp"></image>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/zh_CN/?utm_source=widget"><image alt="翻译状态" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
