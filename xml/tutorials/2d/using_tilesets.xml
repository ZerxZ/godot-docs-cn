<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/2d/using_tilesets.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-using-tilesets"></target>
    <section ids="using-tilesets doc-using-tilesets" names="using\ tilesets doc_using_tilesets">
        <title>Using TileSets</title>
        <section ids="introduction" names="introduction">
            <title>Introduction</title>
            <paragraph>A tilemap is a grid of tiles used to create a game's layout. There are several
                benefits to using <reference internal="True" refuri="../../classes/class_tilemaplayer#class-tilemaplayer"><inline classes="std std-ref">TileMapLayer</inline></reference> nodes to design your
                levels. First, they let you draw a layout by "painting" tiles onto a grid,
                which is much faster than placing individual <reference internal="True" refuri="../../classes/class_sprite2d#class-sprite2d"><inline classes="std std-ref">Sprite2D</inline></reference> nodes one by one. Second, they allow for larger levels
                because they are optimized for drawing large numbers of tiles.
                Finally, they allow you to add greater functionality to your tiles with
                collision, occlusion, and navigation shapes.</paragraph>
            <paragraph>To use TileMapLayer nodes, you will need to create a TileSet first. A TileSet is a
                collection of tiles that can be placed in a TileMapLayer node. After creating a
                TileSet, you will be able to place them <reference internal="True" refuri="using_tilemaps#doc-using-tilemaps"><inline classes="std std-ref">using the TileMap editor</inline></reference>.</paragraph>
            <paragraph>To follow this guide, you will need an image containing your tiles where every
                tile has the same size (large objects can be split into several tiles). This
                image is called a <emphasis>tilesheet</emphasis>. Tiles do not have to be square: they can be
                rectangular, hexagonal, or isometric (pseudo-3D perspective).</paragraph>
        </section>
        <section ids="creating-a-new-tileset" names="creating\ a\ new\ tileset">
            <title>Creating a new TileSet</title>
            <target refid="doc-creating-tilesets-using-tilesheet"></target>
            <section ids="using-a-tilesheet doc-creating-tilesets-using-tilesheet" names="using\ a\ tilesheet doc_creating_tilesets_using_tilesheet">
                <title>Using a tilesheet</title>
                <paragraph>This demonstration will use the following tiles taken from
                    <reference name="Kenney's &quot;Abstract Platformer&quot; pack" refuri="https://kenney.nl/assets/abstract-platformer">Kenney's "Abstract Platformer" pack</reference>.
                    We'll use this particular <emphasis>tilesheet</emphasis> from the set:</paragraph>
                <figure align="center" ids="id1">
                    <image alt="Tilesheet example with 64×64 tiles" candidates="{'*': 'tutorials/2d/img/using_tilesets_kenney_abstract_platformer_tile_sheet.webp'}" original_uri="img/using_tilesets_kenney_abstract_platformer_tile_sheet.webp" uri="tutorials/2d/img/using_tilesets_kenney_abstract_platformer_tile_sheet.webp"></image>
                    <caption>Tilesheet with 64×64 tiles. Credit: <reference name="Kenney" refuri="https://kenney.nl/assets/abstract-platformer">Kenney</reference></caption>
                </figure>
                <paragraph>Create a new <strong>TileMapLayer</strong> node, then select it and create a new TileSet resource in the inspector:</paragraph>
                <figure align="center" ids="id2">
                    <image alt="Creating a new TileSet resource within the TileMapLayer node" candidates="{'*': 'tutorials/2d/img/using_tilesets_create_new_tileset.webp'}" original_uri="img/using_tilesets_create_new_tileset.webp" uri="tutorials/2d/img/using_tilesets_create_new_tileset.webp"></image>
                    <caption>Creating a new TileSet resource within the TileMapLayer node</caption>
                </figure>
                <paragraph>After creating the TileSet resource, click the value to unfold it in the
                    inspector. The default tile shape is Square, but you can also choose Isometric,
                    Half-Offset Square or Hexagon (depending on the shape of your tile images). If
                    using a tile shape other than Square, you may also need to adjust the <strong>Tile
                        Layout</strong> and <strong>Tile Offset Axis</strong> properties. Lastly, enabling the
                    <strong>Rendering &gt; UV Clipping</strong> property may be useful if you wish tiles to be clipped
                    by their tile coordinates. This ensures tiles cannot draw outside their allocated
                    area on the tilesheet.</paragraph>
                <paragraph>Set the tile size to 64×64 in the inspector to match the example tilesheet:</paragraph>
                <figure align="center" ids="id3">
                    <image alt="Setting the tile size to 64×64 to match the example tilesheet" candidates="{'*': 'tutorials/2d/img/using_tilesets_specify_size_then_edit.webp'}" original_uri="img/using_tilesets_specify_size_then_edit.webp" uri="tutorials/2d/img/using_tilesets_specify_size_then_edit.webp"></image>
                    <caption>Setting the tile size to 64×64 to match the example tilesheet</caption>
                </figure>
                <paragraph>If relying on automatic tiles creation (like we're about to do here), you must
                    set the tile size <strong>before</strong> creating the <emphasis>atlas</emphasis>. The atlas will
                    determine which tiles from the tilesheet can be added to a TileMapLayer node
                    (as not every part of the image may be a valid tile).</paragraph>
                <paragraph>Open the <strong>TileSet</strong> panel at the bottom of the editor, then click and drag the
                    tilesheet image onto the panel. You will be asked whether to create tiles
                    automatically. Answer <strong>Yes</strong>:</paragraph>
                <figure align="center" ids="id4">
                    <image alt="Automatically creating tiles based on tilesheet image content" candidates="{'*': 'tutorials/2d/img/using_tilesets_create_tiles_automatically.webp'}" original_uri="img/using_tilesets_create_tiles_automatically.webp" uri="tutorials/2d/img/using_tilesets_create_tiles_automatically.webp"></image>
                    <caption>Automatically creating tiles based on tilesheet image content</caption>
                </figure>
                <paragraph>This will automatically create tiles according to the tile size you specified
                    earlier in the TileSet resource. This greatly speeds up initial tile setup.</paragraph>
                <note>
                    <paragraph>When using automatic tile generation based on image contents, parts of the
                        tilesheet that are <emphasis>fully</emphasis> transparent will not have tiles generated.</paragraph>
                </note>
                <paragraph>If there are tiles from the tilesheet you do not wish to be present in atlas,
                    choose the Eraser tool at the top of the tileset preview, then click the tiles
                    you wish to remove:</paragraph>
                <figure align="center" ids="id5">
                    <image alt="Using the Eraser tool to remove unwanted tiles from the TileSet atlas" candidates="{'*': 'tutorials/2d/img/using_tilesets_eraser_tool.webp'}" original_uri="img/using_tilesets_eraser_tool.webp" uri="tutorials/2d/img/using_tilesets_eraser_tool.webp"></image>
                    <caption>Using the Eraser tool to remove unwanted tiles from the TileSet atlas</caption>
                </figure>
                <paragraph>You can also right-click a tile and choose <strong>Delete</strong>, as an alternative to the
                    Eraser tool.</paragraph>
                <tip>
                    <paragraph>Like in the 2D and TileMap editors, you can pan across the TileSet panel using
                        the middle or right mouse buttons, and zoom using the mouse wheel or buttons in
                        the top-left corner.</paragraph>
                </tip>
                <paragraph>If you wish to source tiles from several tilesheet images for a single TileSet,
                    create additional atlases and assign textures to each of them before continuing.
                    It is also possible to use one image per tile this way (although using
                    tilesheets is recommended for better usability).</paragraph>
                <paragraph>You can adjust properties for the atlas in the middle column:</paragraph>
                <figure align="center" ids="id6">
                    <image alt="Adjusting TileSet atlas properties in the dedicated inspector (part of the TileSet panel)" candidates="{'*': 'tutorials/2d/img/using_tilesets_properties.webp'}" original_uri="img/using_tilesets_properties.webp" uri="tutorials/2d/img/using_tilesets_properties.webp"></image>
                    <caption>Adjusting TileSet atlas properties in the dedicated inspector (part of the TileSet panel)</caption>
                </figure>
                <paragraph>The following properties can be adjusted on the atlas:</paragraph>
                <bullet_list bullet="-">
                    <list_item>
                        <paragraph><strong>ID:</strong> The identifier (unique within this TileSet), used for sorting.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph><strong>Name:</strong> The human-readable name for the atlas. Use a descriptive name
                            here for organizational purposes (such as "terrain", "decoration", etc).</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph><strong>Margins:</strong> The margins on the image's edges that should not be selectable as
                            tiles (in pixels). Increasing this can be useful if you download a tilesheet
                            image that has margins on the edges (e.g. for attribution).</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph><strong>Separation:</strong> The separation between each tile on the atlas in pixels.
                            Increasing this can be useful if the tilesheet image you're using contains
                            guides (such as outlines between every tile).</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph><strong>Texture Region Size:</strong> The size of each tile on the atlas in pixels. In most
                            cases, this should match the tile size defined in the TileMapLayer property
                            (although this is not strictly necessary).</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph><strong>Use Texture Padding:</strong> If checked, adds a 1-pixel transparent edge around
                            each tile to prevent texture bleeding when filtering is enabled.
                            It's recommended to leave this enabled unless you're running into rendering issues
                            due to texture padding.</paragraph>
                    </list_item>
                </bullet_list>
                <paragraph>Note that changing texture margin, separation and region size may cause tiles to
                    be lost (as some of them would be located outside the atlas image's
                    coordinates). To regenerate tiles automatically from the tilesheet, use the
                    three vertical dots menu button at the top of the TileSet editor and choose
                    <strong>Create Tiles in Non-Transparent Texture Regions</strong>:</paragraph>
                <figure align="center" ids="id7">
                    <image alt="Recreating tiles automatically after changing atlas properties" candidates="{'*': 'tutorials/2d/img/using_tilesets_recreate_tiles_automatically.webp'}" original_uri="img/using_tilesets_recreate_tiles_automatically.webp" uri="tutorials/2d/img/using_tilesets_recreate_tiles_automatically.webp"></image>
                    <caption>Recreating tiles automatically after changing atlas properties</caption>
                </figure>
            </section>
            <section ids="using-a-collection-of-scenes" names="using\ a\ collection\ of\ scenes">
                <title>Using a collection of scenes</title>
                <paragraph>You can also place actual <emphasis>scenes</emphasis> as tiles. This allows you to use
                    any collection of nodes as a tile. For example, you could use scene tiles to
                    place gameplay elements, such as shops the player may be able to interact with.
                    You could also use scene tiles to place AudioStreamPlayer2Ds (for ambient
                    sounds), particle effects, and more.</paragraph>
                <warning>
                    <paragraph>Scene tiles come with a greater performance overhead compared to atlases, as
                        every scene is instanced individually for every placed tile.</paragraph>
                    <paragraph>It's recommended to only use scene tiles when necessary. To draw sprites in a
                        tile without any kind of advanced manipulation,
                        <reference internal="True" refid="doc-creating-tilesets-using-tilesheet"><inline classes="std std-ref">use atlases instead</inline></reference>.</paragraph>
                </warning>
                <paragraph>For this example, we'll create a scene containing a CPUParticles2D root node.
                    Save this scene to a scene file (separate from the scene containing the
                    TileMapLayer), then switch to the scene containing the TileMapLayer node. Open the TileSet
                    editor, and create a new <strong>Scenes Collection</strong> in the left column:</paragraph>
                <figure align="center" ids="id8">
                    <image alt="Creating a scenes collection in the TileSet editor" candidates="{'*': 'tutorials/2d/img/using_tilesets_creating_scene_collection.webp'}" original_uri="img/using_tilesets_creating_scene_collection.webp" uri="tutorials/2d/img/using_tilesets_creating_scene_collection.webp"></image>
                    <caption>Creating a scenes collection in the TileSet editor</caption>
                </figure>
                <paragraph>After creating a scenes collection, you can enter a descriptive name for the
                    scenes collection in the middle column if you wish. Select this scenes
                    collection then create a new scene slot:</paragraph>
                <figure align="center" ids="id9">
                    <image alt="Creating a scene tile after selecting the scenes collection in the TileSet editor" candidates="{'*': 'tutorials/2d/img/using_tilesets_scene_collection_create_scene_tile.webp'}" original_uri="img/using_tilesets_scene_collection_create_scene_tile.webp" uri="tutorials/2d/img/using_tilesets_scene_collection_create_scene_tile.webp"></image>
                    <caption>Creating a scene tile after selecting the scenes collection in the TileSet editor</caption>
                </figure>
                <paragraph>Select this scene slot in the right column, then use <strong>Quick Load</strong> (or
                    <strong>Load</strong>) to load the scene file containing the particles:</paragraph>
                <figure align="center" ids="id10">
                    <image alt="Creating a scene slot, then loading a scene file into it in the TileSet editor" candidates="{'*': 'tutorials/2d/img/using_tilesets_adding_scene_tile.webp'}" original_uri="img/using_tilesets_adding_scene_tile.webp" uri="tutorials/2d/img/using_tilesets_adding_scene_tile.webp"></image>
                    <caption>Creating a scene slot, then loading a scene file into it in the TileSet editor</caption>
                </figure>
                <paragraph>You now have a scene tile in your TileSet. Once you switch to the TileMap
                    editor, you'll be able to select it from the scenes collection and paint it like
                    any other tile.</paragraph>
            </section>
        </section>
        <section ids="merging-several-atlases-into-a-single-atlas" names="merging\ several\ atlases\ into\ a\ single\ atlas">
            <title>Merging several atlases into a single atlas</title>
            <paragraph>Using multiple atlases within a single TileSet resource can sometimes be useful,
                but it can also be cumbersome in certain situations (especially if you're using
                one image per tile). Godot allows you to merge several atlases into a single
                atlas for easier organization.</paragraph>
            <paragraph>To do so, you must have more than one atlas created in the TileSet resource.
                Use the "three vertical dots" menu button located at the bottom of the list of
                atlases, then choose <strong>Open Atlas Merging Tool</strong>:</paragraph>
            <figure align="center" ids="id11">
                <image alt="Opening the atlas merging tool after creating multiple atlases" candidates="{'*': 'tutorials/2d/img/using_tilesets_open_atlas_merging_tool.webp'}" original_uri="img/using_tilesets_open_atlas_merging_tool.webp" uri="tutorials/2d/img/using_tilesets_open_atlas_merging_tool.webp"></image>
                <caption>Opening the atlas merging tool after creating multiple atlases</caption>
            </figure>
            <paragraph>This will open a dialog, in which you can select several atlases by holding
                <literal classes="kbd">Shift</literal> or <literal classes="kbd">Ctrl</literal> then clicking on multiple elements:</paragraph>
            <figure align="center" ids="id12">
                <image alt="Using the atlas merging tool dialog" candidates="{'*': 'tutorials/2d/img/using_tilesets_atlas_merging_tool_dialog.webp'}" original_uri="img/using_tilesets_atlas_merging_tool_dialog.webp" uri="tutorials/2d/img/using_tilesets_atlas_merging_tool_dialog.webp"></image>
                <caption>Using the atlas merging tool dialog</caption>
            </figure>
            <paragraph>Choose <strong>Merge</strong> to merge the selected atlases into a single atlas image (which
                translates to a single atlas within the TileSet). The unmerged atlases will be
                removed within the TileSet, but <emphasis>the original tilesheet images will be kept on
                    the filesystem</emphasis>. If you don't want the unmerged atlases to be removed from the
                TileSet resource, choose <strong>Merge (Keep Original Atlases)</strong> instead.</paragraph>
            <tip>
                <paragraph>TileSet features a system of <emphasis>tile proxies</emphasis>. Tile proxies are a mapping
                    table that allows notifying the TileMap using a given TileSet that a given
                    set of tile identifiers should be replaced by another one.</paragraph>
                <paragraph>Tile proxies are automatically set up when merging different atlases, but
                    they can also be set manually thanks to the <strong>Manage Tile Proxies</strong> dialog
                    you can access using the "three vertical dots" menu mentioned above.</paragraph>
                <paragraph>Manually creating tile proxies may be useful when you changed an atlas ID or
                    want to replace all tiles from an atlas by the ones from another atlas. Note
                    that when editing a TileMap, you can replace all cells by their
                    corresponding mapped value.</paragraph>
            </tip>
        </section>
        <section ids="adding-collision-navigation-and-occlusion-to-the-tileset" names="adding\ collision,\ navigation\ and\ occlusion\ to\ the\ tileset">
            <title>Adding collision, navigation and occlusion to the TileSet</title>
            <paragraph>We've now successfully created a basic TileSet. We could start using it in the
                TileMapLayer node now, but it currently lacks any form of collision detection.
                This means the player and other objects could walk straight through the floor or
                walls.</paragraph>
            <paragraph>If you use <reference internal="True" refuri="../navigation/navigation_introduction_2d#doc-navigation-overview-2d"><inline classes="std std-ref">2D navigation</inline></reference>, you'll also need
                to define navigation polygons for tiles to generate a navigation mesh that
                agents can use for pathfinding.</paragraph>
            <paragraph>Lastly, if you use <reference internal="True" refuri="2d_lights_and_shadows#doc-2d-lights-and-shadows"><inline classes="std std-ref">2D lights and shadows</inline></reference> or GPUParticles2D, you may
                also want your TileSet to be able to cast shadows and collide with particles.
                This requires defining occluder polygons for "solid" tiles on the TileSet.</paragraph>
            <paragraph>To be able to define collision, navigation and occlusion shapes for each tile,
                you will need to create a physics, navigation or occlusion layer for the TileSet
                resource first. To do so, select the TileMapLayer node, click the TileSet property
                value in the inspector to edit it then unfold <strong>Physics Layers</strong> and choose
                <strong>Add Element</strong>:</paragraph>
            <figure align="center" ids="id13">
                <image alt="Creating a physics layer in the TileSet resource inspector (within the TileMapLayer node)" candidates="{'*': 'tutorials/2d/img/using_tilesets_create_physics_layer.webp'}" original_uri="img/using_tilesets_create_physics_layer.webp" uri="tutorials/2d/img/using_tilesets_create_physics_layer.webp"></image>
                <caption>Creating a physics layer in the TileSet resource inspector (within the TileMapLayer node)</caption>
            </figure>
            <paragraph>If you also need navigation support, now is a good time to create a navigation layer:</paragraph>
            <figure align="center" ids="id14">
                <image alt="Creating a navigation layer in the TileSet resource inspector (within the TileMapLayer node)" candidates="{'*': 'tutorials/2d/img/using_tilesets_create_navigation_layer.webp'}" original_uri="img/using_tilesets_create_navigation_layer.webp" uri="tutorials/2d/img/using_tilesets_create_navigation_layer.webp"></image>
                <caption>Creating a navigation layer in the TileSet resource inspector (within the TileMapLayer node)</caption>
            </figure>
            <paragraph>If you need support for light polygon occluders, now is a good time to create an occlusion layer:</paragraph>
            <figure align="center" ids="id15">
                <image alt="Creating an occlusion layer in the TileSet resource inspector (within the TileMapLayer node)" candidates="{'*': 'tutorials/2d/img/using_tilesets_create_occlusion_layer.webp'}" original_uri="img/using_tilesets_create_occlusion_layer.webp" uri="tutorials/2d/img/using_tilesets_create_occlusion_layer.webp"></image>
                <caption>Creating an occlusion layer in the TileSet resource inspector (within the TileMapLayer node)</caption>
            </figure>
            <note>
                <paragraph>Future steps in this tutorial are tailored to creating collision polygons,
                    but the procedure for navigation and occlusion is very similar.
                    Their respective polygon editors behave in the same way, so these steps are
                    not repeated for brevity.</paragraph>
                <paragraph>The only caveat is that the tile's occlusion polygon property is part of a
                    <strong>Rendering</strong> subsection in the atlas inspector. Make sure to unfold this
                    section so you can edit the polygon.</paragraph>
            </note>
            <paragraph>After creating a physics layer, you have access to the <strong>Physics Layer</strong> section
                in the TileSet atlas inspector:</paragraph>
            <figure align="center" ids="id16">
                <image alt="Opening the collision editor while in Select mode" candidates="{'*': 'tutorials/2d/img/using_tilesets_selecting_collision_editor.webp'}" original_uri="img/using_tilesets_selecting_collision_editor.webp" uri="tutorials/2d/img/using_tilesets_selecting_collision_editor.webp"></image>
                <caption>Opening the collision editor while in Select mode</caption>
            </figure>
            <paragraph>You can quickly create a rectangle collision shape by pressing <literal classes="kbd">F</literal> while
                the TileSet editor is focused. If the keyboard shortcut doesn't work, try
                clicking in the empty area around the polygon editor to focus it:</paragraph>
            <figure align="center" ids="id17">
                <image alt="Using default rectangle collision shape by pressing :kbd:`F`" candidates="{'*': 'tutorials/2d/img/using_tilesets_using_default_rectangle_collision.webp'}" original_uri="img/using_tilesets_using_default_rectangle_collision.webp" uri="tutorials/2d/img/using_tilesets_using_default_rectangle_collision.webp"></image>
                <caption>Using default rectangle collision shape by pressing <literal classes="kbd">F</literal></caption>
            </figure>
            <paragraph>In this tile collision editor, you have access to all the 2D polygon editing tools:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Use the toolbar above the polygon to toggle between creating a new polygon,
                        editing an existing polygon and removing points on the polygon. The "three vertical dots"
                        menu button offers additional options, such as rotating and flipping the polygon.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Create new points by clicking and dragging a line between two points.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Remove a point by right-clicking it (or using the Remove tool described above
                        and left-clicking).</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Pan in the editor by middle-clicking or right-clicking. (Right-click panning
                        can only be used in areas where there is no point nearby.)</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>You can use the default rectangle shape to quickly create a triangle-shaped
                collision shape by removing one of the points:</paragraph>
            <figure align="center" ids="id18">
                <image alt="Creating a triangle collision shape by right-clicking one of the corners to remove it" candidates="{'*': 'tutorials/2d/img/using_tilesets_creating_triangle_collision.webp'}" original_uri="img/using_tilesets_creating_triangle_collision.webp" uri="tutorials/2d/img/using_tilesets_creating_triangle_collision.webp"></image>
                <caption>Creating a triangle collision shape by right-clicking one of the corners to remove it</caption>
            </figure>
            <paragraph>You can also use the rectangle as a base for more complex shapes by adding more points:</paragraph>
            <figure align="center" ids="id19">
                <image alt="Drawing a custom collision for a complex tile shape" candidates="{'*': 'tutorials/2d/img/using_tilesets_drawing_custom_collision.webp'}" original_uri="img/using_tilesets_drawing_custom_collision.webp" uri="tutorials/2d/img/using_tilesets_drawing_custom_collision.webp"></image>
                <caption>Drawing a custom collision for a complex tile shape</caption>
            </figure>
            <tip>
                <paragraph>If you have a large tileset, specifying the collision for each tile
                    individually could take a lot of time. This is especially true as TileMaps
                    tend to have many tiles with common collision patterns (such as solid blocks
                    or 45-degree slopes). To apply a similar collision shape to several tiles
                    quickly, use functionality to
                    <reference internal="True" refid="doc-using-tilemaps-assigning-properties-to-multiple-tiles"><inline classes="std std-ref">assign properties to multiple tiles at once</inline></reference>.</paragraph>
            </tip>
        </section>
        <section ids="assigning-custom-metadata-to-the-tileset-s-tiles" names="assigning\ custom\ metadata\ to\ the\ tileset's\ tiles">
            <title>Assigning custom metadata to the TileSet's tiles</title>
            <paragraph>You can assign custom data on a per-tile basis using <emphasis>custom data layers</emphasis>.
                This can be useful to store information specific to your game, such as the damage
                that a tile should deal when the player touches it, or whether a tile can be
                destroyed using a weapon.</paragraph>
            <paragraph>The data is associated with the tile in the TileSet: all instances of the placed
                tile will use the same custom data. If you need to create a variant of a tile
                that has different custom data, this can be done by <reference internal="True" refid="doc-using-tilesets-creating-alternative-tiles"><inline classes="std std-ref">creating an
                        alternative tile</inline></reference> and changing
                the custom data for the alternative tile only.</paragraph>
            <figure align="center" ids="id20">
                <image alt="Creating a custom data layer in the TileSet resource inspector (within the TileMapLayer node)" candidates="{'*': 'tutorials/2d/img/using_tilesets_create_custom_data_layer.webp'}" original_uri="img/using_tilesets_create_custom_data_layer.webp" uri="tutorials/2d/img/using_tilesets_create_custom_data_layer.webp"></image>
                <caption>Creating a custom data layer in the TileSet resource inspector (within the TileMapLayer node)</caption>
            </figure>
            <figure align="center" ids="id21">
                <image alt="Example of configured custom data layers with game-specific properties" candidates="{'*': 'tutorials/2d/img/using_tilesets_custom_data_layers_example.webp'}" original_uri="img/using_tilesets_custom_data_layers_example.webp" uri="tutorials/2d/img/using_tilesets_custom_data_layers_example.webp"></image>
                <caption>Example of configured custom data layers with game-specific properties</caption>
            </figure>
            <paragraph>You can reorder custom data without breaking existing metadata: the TileSet
                editor will update automatically after reordering custom data properties.</paragraph>
            <paragraph>With the custom data layers example shown above, we're assigning a tile to have the
                <literal>damage_per_second</literal> metadata set to <literal>25</literal> and the <literal>destructible</literal> metadata
                to <literal>false</literal>:</paragraph>
            <figure align="center" ids="id22">
                <image alt="Editing custom data in the TileSet editor while in Select mode" candidates="{'*': 'tutorials/2d/img/using_tilesets_edit_custom_data.webp'}" original_uri="img/using_tilesets_edit_custom_data.webp" uri="tutorials/2d/img/using_tilesets_edit_custom_data.webp"></image>
                <caption>Editing custom data in the TileSet editor while in Select mode</caption>
            </figure>
            <paragraph><reference internal="True" refid="doc-using-tilemaps-using-tile-property-painting"><inline classes="std std-ref">Tile property painting</inline></reference>
                can also be used for custom data:</paragraph>
            <figure align="center" ids="id23">
                <image alt="Assigning custom data in the TileSet editor using tile property painting" candidates="{'*': 'tutorials/2d/img/using_tilesets_paint_custom_data.webp'}" original_uri="img/using_tilesets_paint_custom_data.webp" uri="tutorials/2d/img/using_tilesets_paint_custom_data.webp"></image>
                <caption>Assigning custom data in the TileSet editor using tile property painting</caption>
            </figure>
            <target refid="doc-using-tilesets-creating-terrain-sets"></target>
        </section>
        <section ids="creating-terrain-sets-autotiling doc-using-tilesets-creating-terrain-sets" names="creating\ terrain\ sets\ (autotiling) doc_using_tilesets_creating_terrain_sets">
            <title>Creating terrain sets (autotiling)</title>
            <note>
                <paragraph>This functionality was implemented in a different form as <emphasis>autotiling</emphasis> in Godot 3.x.
                    Terrains are essentially a more powerful replacement of autotiles. Unlike
                    autotiles, terrains can support transitions from one terrain to another, as
                    a tile may define several terrains at once.</paragraph>
                <paragraph>Unlike before, where autotiles were a specific kind of tiles, terrains are
                    only a set of properties assigned to atlas tiles. These properties are then
                    used by a dedicated TileMap painting mode that selects tiles featuring
                    terrain data in a smart way. This means any terrain tile can be either
                    painted as terrain or as a single tile, like any other.</paragraph>
            </note>
            <paragraph>A "polished" tileset generally features variations that you should use on
                corners or edges of platforms, floors, etc. While these can be placed manually,
                this quickly becomes tedious. Handling this situation with procedurally
                generated levels can also be difficult and require a lot of code.</paragraph>
            <paragraph>Godot offers <emphasis>terrains</emphasis> to perform this kind of tile connection automatically.
                This allows you to have the "correct" tile variants automatically used.</paragraph>
            <paragraph>Terrains are grouped into terrain sets. Each terrain set is assigned a mode from
                <strong>Match Corners and Sides</strong>, <strong>Match Corners</strong> and <strong>Match sides</strong>. They define how
                terrains are matched to each other in a terrain set.</paragraph>
            <note>
                <paragraph>The above modes correspond to the previous bitmask modes autotiles used in
                    Godot 3.x: 2×2, 3×3 or 3×3 minimal. This is also similar to what
                    the <reference name="Tiled" refuri="https://www.mapeditor.org/">Tiled</reference> editor features.</paragraph>
            </note>
            <paragraph>Select the TileMapLayer node, go to the inspector and create a new terrain set within the TileSet <emphasis>resource</emphasis>:</paragraph>
            <figure align="center" ids="id24">
                <image alt="Creating a terrain set in the TileSet resource inspector (within the TileMapLayer node)" candidates="{'*': 'tutorials/2d/img/using_tilesets_create_terrain_set.webp'}" original_uri="img/using_tilesets_create_terrain_set.webp" uri="tutorials/2d/img/using_tilesets_create_terrain_set.webp"></image>
                <caption>Creating a terrain set in the TileSet resource inspector (within the TileMapLayer node)</caption>
            </figure>
            <paragraph>After creating a terrain set, you <strong>must</strong> create one or more terrains <emphasis>within</emphasis> the terrain set:</paragraph>
            <figure align="center" ids="id25">
                <image alt="Creating a terrain within the terrain set" candidates="{'*': 'tutorials/2d/img/using_tilesets_create_terrain.webp'}" original_uri="img/using_tilesets_create_terrain.webp" uri="tutorials/2d/img/using_tilesets_create_terrain.webp"></image>
                <caption>Creating a terrain within the terrain set</caption>
            </figure>
            <paragraph>In the TileSet editor, switch to Select mode and click a tile. In the middle
                column, unfold the <strong>Terrains</strong> section then assign a terrain set ID and a
                terrain ID for the tile. <literal>-1</literal> means "no terrain set" or "no terrain", which
                means you must set <strong>Terrain Set</strong> to <literal>0</literal> or greater before you can set
                <strong>Terrain</strong> to <literal>0</literal> or greater.</paragraph>
            <note>
                <paragraph>Terrain set IDs and terrain IDs are independent from each other. They also
                    start from <literal>0</literal>, not <literal>1</literal>.</paragraph>
            </note>
            <figure align="center" ids="id26">
                <image alt="Configuring terrain on a single tile in the TileSet editor's Select mode" candidates="{'*': 'tutorials/2d/img/using_tilesets_configure_terrain_on_tile.webp'}" original_uri="img/using_tilesets_configure_terrain_on_tile.webp" uri="tutorials/2d/img/using_tilesets_configure_terrain_on_tile.webp"></image>
                <caption>Configuring terrain on a single tile in the TileSet editor's Select mode</caption>
            </figure>
            <paragraph>After doing so, you can now configure the <strong>Terrain Peering Bits</strong> section which
                becomes visible in the middle column. The peering bits determine which tile will
                be placed depending on neighboring tiles. <literal>-1</literal> is a special value which refers
                to empty space.</paragraph>
            <paragraph>For example, if a tile has all its bits set to <literal>0</literal> or greater, it will only
                appear if <emphasis>all</emphasis> 8 neighboring tiles are using a tile with the same terrain ID.
                If a tile has its bits set to <literal>0</literal> or greater,
                but the top-left, top and top-right bits are set to <literal>-1</literal>, it will only appear
                if there is empty space on top of it (including diagonally).</paragraph>
            <figure align="center" ids="id27">
                <image alt="Configuring terrain peering bits on a single tile in the TileSet editor's Select mode" candidates="{'*': 'tutorials/2d/img/using_tilesets_configure_terrain_peering_bits.webp'}" original_uri="img/using_tilesets_configure_terrain_peering_bits.webp" uri="tutorials/2d/img/using_tilesets_configure_terrain_peering_bits.webp"></image>
                <caption>Configuring terrain peering bits on a single tile in the TileSet editor's Select mode</caption>
            </figure>
            <paragraph>An example configuration for a full tilesheet may look as follows:</paragraph>
            <figure align="center" ids="id28">
                <image alt="Example full tilesheet for a sidescrolling game" candidates="{'*': 'tutorials/2d/img/using_tilesets_terrain_example_tilesheet.webp'}" original_uri="img/using_tilesets_terrain_example_tilesheet.webp" uri="tutorials/2d/img/using_tilesets_terrain_example_tilesheet.webp"></image>
                <caption>Example full tilesheet for a sidescrolling game</caption>
            </figure>
            <figure align="center" ids="id29">
                <image alt="Example full tilesheet for a sidescrolling game with terrain peering bits visible" candidates="{'*': 'tutorials/2d/img/using_tilesets_terrain_example_tilesheet_configuration.webp'}" original_uri="img/using_tilesets_terrain_example_tilesheet_configuration.webp" uri="tutorials/2d/img/using_tilesets_terrain_example_tilesheet_configuration.webp"></image>
                <caption>Example full tilesheet for a sidescrolling game with terrain peering bits visible</caption>
            </figure>
            <target refid="doc-using-tilemaps-assigning-properties-to-multiple-tiles"></target>
        </section>
        <section ids="assigning-properties-to-multiple-tiles-at-once doc-using-tilemaps-assigning-properties-to-multiple-tiles" names="assigning\ properties\ to\ multiple\ tiles\ at\ once doc_using_tilemaps_assigning_properties_to_multiple_tiles">
            <title>Assigning properties to multiple tiles at once</title>
            <paragraph>There are two ways to assign properties to multiple tiles at once.
                Depending on your use cases, one method may be faster than the other:</paragraph>
            <section ids="using-multiple-tile-selection" names="using\ multiple\ tile\ selection">
                <title>Using multiple tile selection</title>
                <paragraph>If you wish to configure various properties on several tiles at once,
                    choose the <strong>Select</strong> mode at the top of the TileSet editor:</paragraph>
                <paragraph>After doing this, you can select multiple tiles on the right column by holding
                    <literal classes="kbd">Shift</literal> then clicking on tiles. You can also perform rectangle selection by
                    holding down the left mouse button then dragging the mouse. Lastly, you can
                    deselect tiles that were already selected (without affecting the rest of the
                    selection) by holding <literal classes="kbd">Shift</literal> then clicking on a selected tile.</paragraph>
                <paragraph>You can then assign properties using the inspector in the middle column of the
                    TileSet editor. Only properties that you change here will be applied to all
                    selected tiles. Like in the editor's inspector, properties that differ on
                    selected tiles will remain different until you edit them.</paragraph>
                <paragraph>With numerical and color properties, you will also see a preview of the
                    property's value on all tiles in the atlas after editing a property:</paragraph>
                <figure align="center" ids="id30">
                    <image alt="Selecting multiple tiles using the Select mode, then applying properties" candidates="{'*': 'tutorials/2d/img/using_tilesets_select_and_set_tile_properties.webp'}" original_uri="img/using_tilesets_select_and_set_tile_properties.webp" uri="tutorials/2d/img/using_tilesets_select_and_set_tile_properties.webp"></image>
                    <caption>Selecting multiple tiles using the Select mode, then applying properties</caption>
                </figure>
                <target refid="doc-using-tilemaps-using-tile-property-painting"></target>
            </section>
            <section ids="using-tile-property-painting doc-using-tilemaps-using-tile-property-painting" names="using\ tile\ property\ painting doc_using_tilemaps_using_tile_property_painting">
                <title>Using tile property painting</title>
                <paragraph>If you wish to apply a single property to several tiles at once,
                    you can use the <emphasis>property painting</emphasis> mode for this purpose.</paragraph>
                <paragraph>Configure a property to be painted in the middle column, then
                    click on tiles (or hold down the left mouse button) in the right column
                    to "paint" properties onto tiles.</paragraph>
                <figure align="center" ids="id31">
                    <image alt="Painting tile properties using the TileSet editor" candidates="{'*': 'tutorials/2d/img/using_tilesets_paint_tile_properties.webp'}" original_uri="img/using_tilesets_paint_tile_properties.webp" uri="tutorials/2d/img/using_tilesets_paint_tile_properties.webp"></image>
                    <caption>Painting tile properties using the TileSet editor</caption>
                </figure>
                <paragraph>Tile property painting is especially useful with properties that are
                    time-consuming to set manually, such as collision shapes:</paragraph>
                <figure align="center" ids="id32">
                    <image alt="Painting a collision polygon, then left-clicking tiles to apply it" candidates="{'*': 'tutorials/2d/img/using_tilesets_paint_tile_properties_collision.webp'}" original_uri="img/using_tilesets_paint_tile_properties_collision.webp" uri="tutorials/2d/img/using_tilesets_paint_tile_properties_collision.webp"></image>
                    <caption>Painting a collision polygon, then left-clicking tiles to apply it</caption>
                </figure>
                <target refid="doc-using-tilesets-creating-alternative-tiles"></target>
            </section>
        </section>
        <section ids="creating-alternative-tiles doc-using-tilesets-creating-alternative-tiles" names="creating\ alternative\ tiles doc_using_tilesets_creating_alternative_tiles">
            <title>Creating alternative tiles</title>
            <paragraph>Sometimes, you want to use a single tile image (found only once within the
                atlas), but configured in different ways. For example, you may want to use the
                same tile image, but rotated, flipped, or modulated with a different color. This
                can be done using <emphasis>alternative tiles</emphasis>.</paragraph>
            <tip>
                <paragraph>Since Godot 4.2, you don't have to create alternative tiles to rotate or
                    flip tiles anymore. You can rotate any tile while placing it in the
                    TileMap editor by using the rotation/flip buttons in the TileMap editor
                    toolbar.</paragraph>
            </tip>
            <paragraph>To create an alternative tile, right-click a base tile in the atlas displayed by
                the TileSet editor, then choose <strong>Create an Alternative Tile</strong>:</paragraph>
            <figure align="center" ids="id33">
                <image alt="Creating an alternative tile by right-clicking a base tile in the TileSet editor" candidates="{'*': 'tutorials/2d/img/using_tilesets_create_alternative_tile.webp'}" original_uri="img/using_tilesets_create_alternative_tile.webp" uri="tutorials/2d/img/using_tilesets_create_alternative_tile.webp"></image>
                <caption>Creating an alternative tile by right-clicking a base tile in the TileSet editor</caption>
            </figure>
            <paragraph>If currently in Select mode, the alternative tile will already be selected
                for editing. If not currently in Select mode, you can still create alternative
                tiles, but you will need to switch to Select mode and select the alternative
                tile to edit it.</paragraph>
            <paragraph>If you don't see the alternative tile, pan over to the right of the atlas image,
                as alternative tiles always appear on the right of base tiles of a given atlas
                in the TileSet editor:</paragraph>
            <figure align="center" ids="id34">
                <image alt="Configuring an alternative tile after clicking it in the TileSet editor" candidates="{'*': 'tutorials/2d/img/using_tilesets_configure_alternative_tile.webp'}" original_uri="img/using_tilesets_configure_alternative_tile.webp" uri="tutorials/2d/img/using_tilesets_configure_alternative_tile.webp"></image>
                <caption>Configuring an alternative tile after clicking it in the TileSet editor</caption>
            </figure>
            <paragraph>After selecting an alternative tile, you can change any properties using the
                middle column like you would on a base tile. However, the list of exposed
                properties is different compared to base tiles:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><strong>Alternative ID:</strong> The unique numerical identifier for this alternative tile.
                        Changing it will break existing TileMaps, so be careful! This ID also controls
                        the sorting in the list of alternative tiles displayed in the editor.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Rendering &gt; Flip H:</strong> If <literal>true</literal>, the tile is horizontally flipped.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Rendering &gt; Flip V:</strong> If <literal>true</literal>, the tile is vertically flipped.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Rendering &gt; Transpose:</strong> If <literal>true</literal>, the tile is rotated 90 degrees
                        <emphasis>counter-clockwise</emphasis> and then flipped vertically. In practice, this means that
                        to rotate a tile by 90 degrees clockwise without flipping it, you should
                        enable <strong>Flip H</strong> and <strong>Transpose</strong>. To rotate a tile by 180 degrees
                        clockwise, enable <strong>Flip H</strong> and <strong>Flip V</strong>. To rotate a tile by 270 degrees
                        clockwise, enable <strong>Flip V</strong> and <strong>Transpose</strong>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Rendering &gt; Texture Origin:</strong> The origin to use for drawing the tile. This
                        can be used to visually offset the tile compared to the base tile.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Rendering &gt; Modulate:</strong> The color multiplier to use when rendering the tile.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Rendering &gt; Material:</strong> The material to use for this tile. This can be used
                        to apply a different blend mode or custom shaders to a single tile.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Z Index:</strong> The sorting order for this tile. Higher values will make the tile
                        render in front of others on the same layer.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Y Sort Origin:</strong> The vertical offset to use for tile sorting based on its Y
                        coordinate (in pixels). This allows using layers as if they were on different
                        height for top-down games. Adjusting this can help alleviate issues with
                        sorting certain tiles. Only effective if <strong>Y Sort Enabled</strong> is <literal>true</literal> on
                        the TileMapLayer node under <strong>CanvasItem &gt; Ordering</strong></paragraph>
                </list_item>
            </bullet_list>
            <paragraph>You can create an additional alternative tile variant by clicking the large "+"
                icon next to the alternative tile. This is equivalent to selecting the base tile
                and right-clicking it to choose <strong>Create an Alternative Tile</strong> again.</paragraph>
            <note>
                <paragraph>When creating an alternative tile, none of the properties from the base tile
                    are inherited. You must set properties again on the alternative tile if you
                    wish those to be identical on the base tile and the alternative tile.</paragraph>
            </note>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
