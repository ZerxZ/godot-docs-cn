<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/ui/gui_navigation.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-gui-navigation"></target>
    <section ids="keyboard-controller-navigation-and-focus doc-gui-navigation" names="keyboard/controller\ navigation\ and\ focus doc_gui_navigation">
        <title>Keyboard/Controller Navigation and Focus</title>
        <paragraph>It is a common requirement for a user interface to have full keyboard
            and controller support for navigation and interaction. There are two main
            reasons why this is beneficial for projects: improved accessibility (not everyone
            can use mouse or touch controls for interactions), and getting your project
            ready for <reference internal="True" refuri="../platform/consoles#doc-consoles"><inline classes="std std-ref">consoles</inline></reference> (or just for people who prefer
            to game with a controller on PC).</paragraph>
        <paragraph>Navigating between UI elements with keyboard or controller is done by
            changing which node is actively selected. This is also called changing UI focus.
            Every <reference internal="True" refuri="../../classes/class_control#class-control"><inline classes="std std-ref">Control</inline></reference> node in Godot is capable of having focus.
            By default, some control nodes have the ability to automatically grab focus
            reacting to built-in UI actions such as <literal>ui_up</literal>, <literal>ui_down</literal>, <literal>ui_focus_next</literal>, etc.
            These actions can be seen in the project settings in the input map and can be modified.</paragraph>
        <warning>
            <paragraph>Because these actions are used for focus they should not be used for any
                gameplay code.</paragraph>
        </warning>
        <section ids="node-settings" names="node\ settings">
            <title>Node settings</title>
            <paragraph>In addition to the built-in logic, you can define what is known as focus neighbors
                for each individual control node. This allows to finely tune the path the UI focus
                takes across the user interface of your project. The settings for individual
                nodes can be found in the Inspector dock, under the "Focus" category of the
                "Control" section.</paragraph>
            <image candidates="{'*': 'tutorials/ui/img/focus_settings.png'}" original_uri="img/focus_settings.png" uri="tutorials/ui/img/focus_settings.png"></image>
            <paragraph>Neighbor options are used to define nodes for 4-directional navigation, such
                as using arrow keys or a D-pad on a controller. For example, the bottom neighbor
                will be used when navigating down with the down arrow or by pushing down on
                the D-pad. The "Next" and "Previous" options are used with the focus shift button,
                such as <literal classes="kbd">Tab</literal> on desktop operating systems.</paragraph>
            <note>
                <paragraph>A node can lose focus if it becomes hidden.</paragraph>
            </note>
            <paragraph>The mode setting defines how a node can be focused. <strong>All</strong> means a node can
                be focused by clicking on it with the mouse, or selecting it with a keyboard
                or controller. <strong>Click</strong> means it can only be focused on by clicking on it.
                Finally, <strong>None</strong> means it can't be focused at all. Different control nodes have
                different default settings for this based on how they are typically used, for
                example, <reference internal="True" refuri="../../classes/class_label#class-label"><inline classes="std std-ref">Label</inline></reference> nodes are set to "None" by default,
                while <reference internal="True" refuri="../../classes/class_button#class-button"><inline classes="std std-ref">buttons</inline></reference> are set to "All".</paragraph>
            <paragraph>Make sure to properly configure your scenes for focus and navigation. If a node has
                no focus neighbor configured, the engine will try to guess the next control automatically.
                This may result in unintended behavior, especially in a complex user interface that doesn't
                have well-defined vertical or horizontal navigation flow.</paragraph>
        </section>
        <section ids="necessary-code" names="necessary\ code">
            <title>Necessary code</title>
            <paragraph>For keyboard and controller navigation to work correctly, any node must be focused by
                using code when the scene starts. Without doing this, pressing buttons or keys won't
                do anything.</paragraph>
            <paragraph>You can use the <reference internal="True" refuri="../../classes/class_control#class-control-method-grab-focus"><inline classes="std std-ref">Control.grab_focus()</inline></reference> method
                to focus a control. Here is a basic example of setting initial focus with code:</paragraph>
            <container classes="sphinx-tabs" type="tab-element">
                <div aria-label="Tabbed content" role="tablist">
                    <button aria-controls="panel-0-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                    <button aria-controls="panel-0-QyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button>
                </div>
                <div aria-labelledby="tab-0-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">func _ready():
    $StartButton.grab_focus.call_deferred()</literal_block>
                </div>
                <div aria-labelledby="tab-0-QyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-QyM=" name="QyM=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">public override void _Ready()
{
    GetNode&lt;Button&gt;("StartButton").GrabFocus.CallDeferred();
}</literal_block>
                </div>
            </container>
            <paragraph>Now when the scene starts, the "Start Button" node will be focused, and the keyboard
                or a controller can be used to navigate between it and other UI elements.</paragraph>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
