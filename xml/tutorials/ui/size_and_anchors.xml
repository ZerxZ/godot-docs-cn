<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/ui/size_and_anchors.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-size-and-anchors"></target>
    <section ids="size-and-anchors doc-size-and-anchors" names="size\ and\ anchors doc_size_and_anchors">
        <title>Size and anchors</title>
        <paragraph>If a game was always going to be run on the same device and at the same
            resolution, positioning controls would be a simple matter of setting the
            position and size of each one of them. Unfortunately, that is rarely the
            case.</paragraph>
        <paragraph>While some configurations may be more common than others, devices like
            phones, tablets and portable gaming consoles can vary greatly. Therefore,
            we often have to account for different aspect ratios, resolutions and user
            scaling.</paragraph>
        <paragraph>There are several ways to account for this, but for now, let's just imagine
            that the screen resolution has changed and the controls need to be
            re-positioned. Some will need to follow the bottom of the screen, others
            the top of the screen, or maybe the right or left margins.</paragraph>
        <image candidates="{'*': 'tutorials/ui/img/anchors.png'}" original_uri="img/anchors.png" uri="tutorials/ui/img/anchors.png"></image>
        <paragraph>This is done by editing the <emphasis>anchor offsets</emphasis> of controls, which behave similar
            to a margin. To access these settings, you will first need to select the <emphasis>Custom</emphasis>
            anchor preset.</paragraph>
        <paragraph>Each control has four anchor offsets: left, right, bottom, and top, which correspond
            to the respective edges of the control. By default, all of
            them represent a distance in pixels relative to the top-left corner of
            the parent control or (in case there is no parent control) the viewport.</paragraph>
        <image candidates="{'*': 'tutorials/ui/img/offset.webp'}" original_uri="img/offset.webp" uri="tutorials/ui/img/offset.webp"></image>
        <paragraph>So to make the control wider you can make the right offset larger and/or
            make the left offset smaller. This lets you set the exact placement
            and shape of the control.</paragraph>
        <paragraph>The <emphasis>anchor</emphasis> properties adjust where the offsets are relative <emphasis>to</emphasis>.
            Each offset has an individual anchor that can be adjusted from the
            beginning to the end of the parent. So the vertical (top, bottom) anchors
            adjust from <literal>0.0</literal> (top of parent) to <literal>1.0</literal> (bottom of parent) with <literal>0.5</literal> being
            the center, and the control offsets will be placed relative to that
            point. The horizontal (left, right) anchors similarly adjust from left to
            right of the parent.</paragraph>
        <paragraph>Note that when you wish the edge of a control to be above or left of the
            anchor point, you must change the offset value to be negative.</paragraph>
        <paragraph>For example: when horizontal anchors are changed to <literal>1.0</literal>, the offset values
            become relative to the top-right corner of the parent control or viewport.</paragraph>
        <image candidates="{'*': 'tutorials/ui/img/offset_end.webp'}" original_uri="img/offset_end.webp" uri="tutorials/ui/img/offset_end.webp"></image>
        <paragraph>Adjusting the two horizontal or the two vertical anchors to different
            values will make the control change size when the parent control does.
            Here, the control is set to anchor its bottom-right corner to the
            parent's bottom-right, while the top-left control offsets are still
            anchored to the top-left of the parent, so when re-sizing the parent,
            the control will always cover it, leaving a 20 pixel offset:</paragraph>
        <image candidates="{'*': 'tutorials/ui/img/offset_around.webp'}" original_uri="img/offset_around.webp" uri="tutorials/ui/img/offset_around.webp"></image>
        <section ids="centering-a-control" names="centering\ a\ control">
            <title>Centering a control</title>
            <paragraph>To center a control in its parent, set its anchors to <literal>0.5</literal> and each offset
                to half of its relevant dimension. For example, the code below shows how
                a TextureRect can be centered in its parent:</paragraph>
            <container classes="sphinx-tabs" type="tab-element">
                <div aria-label="Tabbed content" role="tablist">
                    <button aria-controls="panel-0-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                    <button aria-controls="panel-0-QyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-QyM=" name="QyM=" role="tab" tabindex="-1">C#</button>
                </div>
                <div aria-labelledby="tab-0-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">var rect = TextureRect.new()
rect.texture = load("res://icon.png")
rect.anchor_left = 0.5
rect.anchor_right = 0.5
rect.anchor_top = 0.5
rect.anchor_bottom = 0.5
var texture_size = rect.texture.get_size()
rect.offset_left = -texture_size.x / 2
rect.offset_right = texture_size.x / 2
rect.offset_top = -texture_size.y / 2
rect.offset_bottom = texture_size.y / 2
add_child(rect)</literal_block>
                </div>
                <div aria-labelledby="tab-0-QyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-QyM=" name="QyM=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">var rect = new TextureRect();

rect.Texture = ResourceLoader.Load&lt;Texture&gt;("res://icon.png");
rect.AnchorLeft = 0.5f;
rect.AnchorRight = 0.5f;
rect.AnchorTop = 0.5f;
rect.AnchorBottom = 0.5f;

var textureSize = rect.Texture.GetSize();

rect.OffsetLeft = -textureSize.X / 2;
rect.OffsetRight = textureSize.X / 2;
rect.OffsetTop = -textureSize.Y / 2;
rect.OffsetBottom = textureSize.Y / 2;
AddChild(rect);</literal_block>
                </div>
            </container>
            <paragraph>Setting each anchor to <literal>0.5</literal> moves the reference point for the offsets to
                the center of its parent. From there, we set negative offsets so that
                the control gets its natural size.</paragraph>
        </section>
        <section ids="anchor-presets" names="anchor\ presets">
            <title>Anchor Presets</title>
            <paragraph>Instead of manually adjusting the offset and anchor values, you can use the
                toolbar's Anchor menu, above the viewport. Besides centering, it gives you many
                options to align and resize control nodes.</paragraph>
            <image candidates="{'*': 'tutorials/ui/img/anchor_presets.webp'}" original_uri="img/anchor_presets.webp" uri="tutorials/ui/img/anchor_presets.webp"></image>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
