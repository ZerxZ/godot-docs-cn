<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/xr/deploying_to_android.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-deploying-to-android"></target>
    <section ids="deploying-to-android doc-deploying-to-android" names="deploying\ to\ android doc_deploying_to_android">
        <title>Deploying to Android</title>
        <section ids="setup" names="setup">
            <title>Setup</title>
            <paragraph>Most standalone headsets run on Android and OpenXR support is making its way to these platforms.</paragraph>
            <paragraph>Before following the OpenXR-specific instructions here, you'll need to first setup your system to export to Android in general, including:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Installing OpenJDK 17</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Installing Android Studio</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Configuring the location of the Android SDK in Godot</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>See <reference internal="True" refuri="../export/exporting_for_android#doc-exporting-for-android"><inline classes="std std-ref">Exporting for Android</inline></reference> for the full details, and return here when you've finished these steps.</paragraph>
            <warning>
                <paragraph>While the Mobile Vulkan renderer has many optimizations targeted at mobile devices, we're still working out the kinks.
                    It is highly advisable to use the compatibility renderer (OpenGL) for the time being when targeting Android based XR devices.</paragraph>
            </warning>
        </section>
        <section ids="gradle-android-build" names="gradle\ android\ build">
            <title>Gradle Android build</title>
            <note>
                <paragraph>Official support for the Android platform wasn't added to the OpenXR specification initially resulting in various vendors creating custom loaders to make OpenXR available on their headsets.
                    While the long term expectation is that all vendors will adopt the official OpenXR loader, for now these loaders need to be added to your project.</paragraph>
            </note>
            <paragraph>In order to include the vendor-specific OpenXR loader into your project, you will need to setup a gradle Android build.</paragraph>
            <paragraph>Select <strong>Install Android Build Template...</strong> from the <strong>Project</strong> menu:</paragraph>
            <image candidates="{'*': 'tutorials/xr/img/android_gradle_build.webp'}" original_uri="img/android_gradle_build.webp" uri="tutorials/xr/img/android_gradle_build.webp"></image>
            <paragraph>This will create a folder called <strong>android</strong> inside of your project that contains all the runtime files needed on Android. You can now customize this installation. Godot won't show this in the editor but you can find it with a file browser.</paragraph>
            <paragraph>You can read more about gradle builds here: <reference internal="True" refuri="../export/android_gradle_build#doc-android-gradle-build"><inline classes="std std-ref">Gradle builds for Android</inline></reference>.</paragraph>
        </section>
        <section ids="installing-the-vendors-plugin" names="installing\ the\ vendors\ plugin">
            <title>Installing the vendors plugin</title>
            <paragraph>The vendors plugin can be downloaded from the asset library, search for "OpenXR vendors"
                and install the one named "Godot OpenXR Vendors plugin v4".</paragraph>
            <image candidates="{'*': 'tutorials/xr/img/openxr_loader_asset_lib.webp'}" original_uri="img/openxr_loader_asset_lib.webp" uri="tutorials/xr/img/openxr_loader_asset_lib.webp"></image>
            <paragraph>You will find the installed files inside the <strong>addons</strong> folder. Alternatively you
                can manually install the vendors plugin by downloading it <reference name="from the release page here" refuri="https://github.com/GodotVR/godot_openxr_vendors/releases">from the release page here</reference>.
                You will need to copy the <title_reference>assets/addons/godotopenxrvendors</title_reference> folder from the zip
                file into your projects <title_reference>addons</title_reference> folder.</paragraph>
            <paragraph>You can find the main repository of the vendors plugin <reference name="here" refuri="https://github.com/GodotVR/godot_openxr_vendors">here</reference>.</paragraph>
            <note>
                <paragraph>From Godot 4.6 onwards, the vendor plugin is now an optional but recommended plugin.
                    Godot can export directly to most Android-compatible devices.
                    This can be useful for demonstration and tutorial projects where a single APK can be deployed to multiple devices.
                    The vendor plugin unlocks vendor specific implementations and settings, and may be required to release on app stores.</paragraph>
            </note>
        </section>
        <section ids="creating-the-export-presets" names="creating\ the\ export\ presets">
            <title>Creating the export presets</title>
            <paragraph>You will need to setup a separate export preset for each device, as each device will need its own loader included.</paragraph>
            <paragraph>Open <strong>Project</strong> and select <strong>Export..</strong>.
                Click on <strong>Add..</strong> and select <strong>Android</strong>.
                Next change the name of the export preset for the device you're setting this up for, say <strong>Meta Quest</strong>.
                And enable <strong>Use Gradle Build</strong>.
                Next change the <strong>XR Mode</strong> to <strong>OpenXR</strong>.
                If you want to use one-click deploy (described below), ensure that <strong>Runnable</strong> is enabled.</paragraph>
            <paragraph>If you've installed the vendor plugin you will also find entries for the different headsets under <strong>XR Features</strong>.
                Select the entry for your headset, if you see one.
                Otherwise, enable the Khronos plugin.</paragraph>
            <image candidates="{'*': 'tutorials/xr/img/android_meta_quest.webp'}" original_uri="img/android_meta_quest.webp" uri="tutorials/xr/img/android_meta_quest.webp"></image>
            <paragraph>Scroll to the bottom of the list and you'll find additional XR feature sections,
                currently only <strong>Meta XR Features</strong>, <strong>Pico XR Features</strong>, <strong>Magicleap XR Features</strong>
                and <strong>Khronos XR Features</strong> for HTC are available. You will need to select the
                appropriate settings if you wish to use these features.</paragraph>
        </section>
        <section ids="running-on-your-device-from-the-godot-editor" names="running\ on\ your\ device\ from\ the\ godot\ editor">
            <title>Running on your device from the Godot editor</title>
            <paragraph>If you've setup your export settings as described above, and your headset is connected to your computer and correctly recognized, you can launch it directly from the Godot editor using <reference internal="True" refuri="../export/one-click_deploy#doc-one-click-deploy"><inline classes="std std-ref">One-click deploy</inline></reference>:</paragraph>
            <image candidates="{'*': 'tutorials/xr/img/android_one_click_deploy.webp'}" original_uri="img/android_one_click_deploy.webp" uri="tutorials/xr/img/android_one_click_deploy.webp"></image>
            <paragraph>For some devices on some platforms, you may need to perform some extra steps in order for your device to be recognized correctly, so be sure to check the developer documentation from your headset vendor.</paragraph>
            <paragraph>For example, with the Meta Quest 2, you need to enable developer mode on the headset, and if you're on Windows, you'll need to install special ADB drivers. See the <reference name="official Meta Quest developer documentation" refuri="https://developer.oculus.com/documentation/native/android/mobile-device-setup/">official Meta Quest developer documentation</reference><target ids="official-meta-quest-developer-documentation" names="official\ meta\ quest\ developer\ documentation" refuri="https://developer.oculus.com/documentation/native/android/mobile-device-setup/"></target> for more details.</paragraph>
            <paragraph>If you're having any issues with one-click deploy, check the <reference internal="True" refuri="../export/one-click_deploy#doc-one-click-deploy-troubleshooting"><inline classes="std std-ref">Troubleshooting section</inline></reference>.</paragraph>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
