<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.17.1 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/xr/deploying_to_android.rst" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-deploying-to-android"></target>
    <section ids="deploying-to-android doc-deploying-to-android" names="deploying\ to\ android 部署到\ android doc_deploying_to_android">
        <title>部署到 Android</title>
        <section ids="setup" names="setup 场景布置">
            <title>场景布置</title>
            <paragraph>Most standalone headsets run on Android and OpenXR support is making its way to these platforms.</paragraph>
            <paragraph>Before following the OpenXR-specific instructions here, you'll need to first setup your system to export to Android in general, including:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>安装 OpenJDK 17</paragraph>
                </list_item>
                <list_item>
                    <paragraph>安装 Android Studio</paragraph>
                </list_item>
                <list_item>
                    <paragraph>创建 debug.keystore</paragraph>
                </list_item>
                <list_item>
                    <paragraph>在 Godot 中配置 Android SDK 和 debug.keystore 的位置</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>See <reference internal="True" refuri="../export/exporting_for_android#doc-exporting-for-android"><inline classes="std std-ref">为 Android 导出</inline></reference> for the full details, and return here when you've finished these steps.</paragraph>
        </section>
        <section ids="gradle-android-build" names="gradle\ android\ build gradle\ android\ 构建">
            <title>Gradle Android 构建</title>
            <note>
                <paragraph>Official support for the Android platform wasn't added to the OpenXR specification initially resulting in various vendors creating custom loaders to make OpenXR available on their headsets.
                    While the long term expectation is that all vendors will adopt the official OpenXR loader, for now these loaders need to be added to your project.</paragraph>
            </note>
            <paragraph>In order to include the vendor-specific OpenXR loader into your project, you will need to setup a gradle Android build.</paragraph>
            <paragraph>在<strong>项目</strong>菜单中选择<strong>安装 Android 构建模板...</strong>：</paragraph>
            <image candidates="{'*': 'tutorials/xr/img/android_gradle_build.webp'}" uri="tutorials/xr/img/android_gradle_build.webp"></image>
            <paragraph>This will create a folder called <strong>android</strong> inside of your project that contains all the runtime files needed on Android. You can now customize this installation. Godot won't show this in the editor but you can find it with a file browser.</paragraph>
            <paragraph>You can read more about gradle builds here: <reference internal="True" refuri="../export/android_gradle_build#doc-android-gradle-build"><inline classes="std std-ref">Android 的 Gradle 构建</inline></reference>.</paragraph>
        </section>
        <section ids="installing-the-vendors-plugin" names="installing\ the\ vendors\ plugin">
            <title>Installing the vendors plugin</title>
            <warning>
                <paragraph>The Android plugin structure has been restructured in Godot 4.2, and the loader plugin was renamed to vendors plugin as it now includes more than just loaders.
                    If you've previously installed the loader plugin you need to delete it from the <title_reference>android/plugins</title_reference> folder.</paragraph>
            </warning>
            <paragraph>The vendors plugin can be downloaded from the asset library, search for "OpenXR vendors" and install the plugin:</paragraph>
            <image candidates="{'*': 'tutorials/xr/img/openxr_loader_asset_lib.webp'}" uri="tutorials/xr/img/openxr_loader_asset_lib.webp"></image>
            <paragraph>You will find the installed files inside the <strong>addons</strong> folder.</paragraph>
            <paragraph>Alternatively you can manually install the vendors plugin by downloading the v2.x version of the plugin <reference name="from the release page here" refuri="https://github.com/GodotVR/godot_openxr_vendors/releases">from the release page here</reference>.</paragraph>
            <paragraph>You will need to copy the <title_reference>assets/addons/godotopenxrvendors</title_reference> folder from the zip file into your projects <title_reference>addons</title_reference> folder.</paragraph>
            <paragraph>You can find the main repository of the vendors plugin <reference name="here" refuri="https://github.com/GodotVR/godot_openxr_vendors">here</reference>.</paragraph>
        </section>
        <section ids="enabling-the-vendors-plugin" names="enabling\ the\ vendors\ plugin">
            <title>Enabling the vendors plugin</title>
            <paragraph>The vendors plugin needs to be enabled before the export settings become accessible.
                Open <strong>Project</strong> and select <strong>Project Settings...</strong>.
                Go to the <strong>Plugins</strong> tab.
                Enable the <strong>GodotOpenXRVendors</strong> plugin.</paragraph>
            <image candidates="{'*': 'tutorials/xr/img/xr_enable_vendors_plugin.webp'}" uri="tutorials/xr/img/xr_enable_vendors_plugin.webp"></image>
        </section>
        <section ids="creating-the-export-presets" names="creating\ the\ export\ presets 创建导出预设">
            <title>创建导出预设</title>
            <paragraph>You will need to setup a separate export preset for each device, as each device will need its own loader included.</paragraph>
            <paragraph>Open <strong>Project</strong> and select <strong>Export..</strong>.
                Click on <strong>Add..</strong> and select <strong>Android</strong>.
                Next change the name of the export preset for the device you're setting this up for, say <strong>Meta Quest</strong>.
                And enable <strong>Use Gradle Build</strong>.
                If you want to use one-click deploy (described below), ensure that <strong>Runnable</strong> is enabled.</paragraph>
            <paragraph>If the loader plugins were installed correctly you should find entries for the different headsets, select the entry for meta:</paragraph>
            <image candidates="{'*': 'tutorials/xr/img/android_meta_quest.webp'}" uri="tutorials/xr/img/android_meta_quest.webp"></image>
            <paragraph>Also change the <strong>XR Mode</strong> to <strong>OpenXR</strong>.</paragraph>
            <paragraph>Scroll to the bottom of the list and you'll find additional XR feature sections, currently only <strong>Meta XR Features</strong> is available.
                The hand tracking and passthrough settings here currently only work for the Meta Quest and you will need to select the appropriate settings if you wish to use these features.</paragraph>
            <image candidates="{'*': 'tutorials/xr/img/xr_export_features.webp'}" uri="tutorials/xr/img/xr_export_features.webp"></image>
            <paragraph>Now you can repeat the same process for the other devices.</paragraph>
            <note>
                <paragraph>There are separate loaders for the Meta Quest, Pico and Lynx R1 headsets.</paragraph>
                <paragraph>The fourth option is the official Khronos loader, in due time all headsets should work with this loader.
                    At the moment this loader has been tested with the Magic Leap 2 and standalone HTC headsets.</paragraph>
            </note>
            <warning>
                <paragraph>While the Mobile Vulkan renderer has many optimizations targeted at mobile devices, we're still working out the kinks.
                    It is highly advisable to use the compatibility renderer (OpenGL) for the time being when targeting Android based XR devices.</paragraph>
            </warning>
        </section>
        <section ids="running-on-your-device-from-the-godot-editor" names="running\ on\ your\ device\ from\ the\ godot\ editor 通过\ godot\ 编辑器在设备上运行">
            <title>通过 Godot 编辑器在设备上运行</title>
            <paragraph>If you've setup your export settings as described above, and your headset is connected to your computer and correctly recognized, you can launch it directly from the Godot editor using <reference internal="True" refuri="../export/one-click_deploy#doc-one-click-deploy"><inline classes="std std-ref">一键部署</inline></reference>:</paragraph>
            <image candidates="{'*': 'tutorials/xr/img/android_one_click_deploy.webp'}" uri="tutorials/xr/img/android_one_click_deploy.webp"></image>
            <paragraph>For some devices on some platforms, you may need to perform some extra steps in order for your device to be recognized correctly, so be sure to check the developer documentation from your headset vendor.</paragraph>
            <paragraph>For example, with the Meta Quest 2, you need to enable developer mode on the headset, and if you're on Windows, you'll need to install special ADB drivers. See the <reference name="official Meta Quest developer documentation" refuri="https://developer.oculus.com/documentation/native/android/mobile-device-setup/">official Meta Quest developer documentation</reference><target ids="official-meta-quest-developer-documentation" names="official\ meta\ quest\ developer\ documentation" refuri="https://developer.oculus.com/documentation/native/android/mobile-device-setup/"></target> for more details.</paragraph>
            <paragraph>If you're having any issues with one-click deploy, check the <reference internal="True" refuri="../export/one-click_deploy#doc-one-click-deploy-troubleshooting"><inline classes="std std-ref">Troubleshooting section</inline></reference>.</paragraph>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/zh_CN/?utm_source=widget"><image alt="翻译状态" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
