<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.17.1 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/editor/external_editor.rst" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-external-editor"></target>
    <section ids="using-an-external-text-editor doc-external-editor" names="using\ an\ external\ text\ editor 使用外部的文本编辑器 doc_external_editor">
        <title>使用外部的文本编辑器</title>
        <paragraph>本页面讲述的是如何使用外部文本编辑器编写代码。</paragraph>
        <paragraph>Godot 可以与 Sublime Text、Visual Studio Code 等外部文本编辑器一起使用。在编辑器中浏览相关设置： <strong>编辑器 -&gt; 编辑器设置 -&gt; 文本编辑器 -&gt; 外部</strong></paragraph>
        <figure align="center" ids="id3">
            <image alt="文本编辑器 &gt; 编辑器设置的外部部分" candidates="{'*': 'tutorials/editor/img/editor_external_editor_settings.webp'}" uri="tutorials/editor/img/editor_external_editor_settings.webp"></image>
            <caption>编辑器设置中的 <strong>文本编辑器 &gt; 外部</strong> 部分</caption>
        </figure>
        <paragraph>有两个文本字段：可执行文件路径和执行参数（标志）。这些标志允许你将编辑器与 Godot 集成在一起，并向其传递要打开的文件路径和其他相关参数。Godot 将替换参数字符串中的以下占位符：</paragraph>
        <table>
            <tgroup cols="2">
                <colspec colwidth="21"></colspec>
                <colspec colwidth="53"></colspec>
                <thead>
                    <row>
                        <entry>
                            <paragraph>Exec 标志中的字段</paragraph>
                        </entry>
                        <entry>
                            <paragraph>被替换为</paragraph>
                        </entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>
                            <paragraph><literal>{project}</literal></paragraph>
                        </entry>
                        <entry>
                            <paragraph>项目目录的绝对路径</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph><literal>{file}</literal></paragraph>
                        </entry>
                        <entry>
                            <paragraph>文件的绝对路径</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph><literal>{col}</literal></paragraph>
                        </entry>
                        <entry>
                            <paragraph>错误的列号</paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph><literal>{line}</literal></paragraph>
                        </entry>
                        <entry>
                            <paragraph>错误的行号</paragraph>
                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </table>
        <paragraph>一些编辑器的 <strong>Exec 标志</strong> 示例：</paragraph>
        <table>
            <tgroup cols="2">
                <colspec colwidth="21"></colspec>
                <colspec colwidth="53"></colspec>
                <thead>
                    <row>
                        <entry>
                            <paragraph>编辑器</paragraph>
                        </entry>
                        <entry>
                            <paragraph>Exec 标志</paragraph>
                        </entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry>
                            <paragraph>Geany/Kate</paragraph>
                        </entry>
                        <entry>
                            <paragraph><literal>{file} --line {line} --column {col}</literal></paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph>Atom</paragraph>
                        </entry>
                        <entry>
                            <paragraph><literal>{file}:{line}</literal></paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph>JetBrains Rider</paragraph>
                        </entry>
                        <entry>
                            <paragraph><literal>{project} --line {line} {file}</literal></paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph>Visual Studio Code</paragraph>
                        </entry>
                        <entry>
                            <paragraph><literal>{project} --goto {file}:{line}:{col}</literal></paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph>Vim (gVim)</paragraph>
                        </entry>
                        <entry>
                            <paragraph><literal>"+call cursor({line}, {col})" {file}</literal></paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph>Emacs</paragraph>
                        </entry>
                        <entry>
                            <paragraph><literal>emacs +{line}:{col} {file}</literal></paragraph>
                        </entry>
                    </row>
                    <row>
                        <entry>
                            <paragraph>Sublime Text</paragraph>
                        </entry>
                        <entry>
                            <paragraph><literal>{project} {file}:{line}:{column}</literal></paragraph>
                        </entry>
                    </row>
                </tbody>
            </tgroup>
        </table>
        <note>
            <paragraph>对于 Windows 平台上的 Visual Studio Code，你需要指向 <literal>code.cmd</literal> 文件。</paragraph>
            <paragraph>对于 Emacs，如果你使用的是服务器模式，那么调用的时候就可以用 <literal>emacsclient</literal> 代替 <literal>emacs</literal> 。</paragraph>
        </note>
        <section ids="using-external-editor-in-debugger" names="using\ external\ editor\ in\ debugger 在调试器中使用外部编辑器">
            <title>在调试器中使用外部编辑器</title>
            <paragraph>在调试器中使用外部编辑器由设置中的单独选项决定。更多细节详见 <reference internal="True" refuri="../scripting/debug/overview_of_debugging_tools#doc-debugger-tools-and-options"><inline classes="std std-ref">脚本编辑器调试工具及选项</inline></reference> 。</paragraph>
        </section>
        <section ids="official-editor-plugins" names="official\ editor\ plugins 官方编辑器插件">
            <title>官方编辑器插件</title>
            <paragraph>以下代码编辑器有官方插件：</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><reference name="Visual Studio Code" refuri="https://github.com/godotengine/godot-vscode-plugin">Visual Studio Code</reference><target ids="visual-studio-code" names="visual\ studio\ code" refuri="https://github.com/godotengine/godot-vscode-plugin"></target></paragraph>
                </list_item>
                <list_item>
                    <paragraph><reference name="Emacs" refuri="https://github.com/godotengine/emacs-gdscript-mode">Emacs</reference><target ids="emacs" names="emacs" refuri="https://github.com/godotengine/emacs-gdscript-mode"></target></paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="lsp-dap-support" names="lsp/dap\ support lsp/dap\ 支持">
            <title>LSP/DAP 支持</title>
            <paragraph>Godot 支持用于代码补全的<reference name="语言服务器协议" refuri="https://microsoft.github.io/language-server-protocol/">语言服务器协议</reference><target ids="id1" names="语言服务器协议" refuri="https://microsoft.github.io/language-server-protocol/"></target>（<strong>LSP</strong>）和用于调试的<reference name="调试适配器协议" refuri="https://microsoft.github.io/debug-adapter-protocol/">调试适配器协议</reference><target ids="id2" names="调试适配器协议" refuri="https://microsoft.github.io/debug-adapter-protocol/"></target>（<strong>DAP</strong>）。请查看 <reference name="LSP 客户端列表" refuri="https://microsoft.github.io/language-server-protocol/implementors/tools/">LSP 客户端列表</reference><target ids="lsp" names="lsp\ 客户端列表" refuri="https://microsoft.github.io/language-server-protocol/implementors/tools/"></target>和 <reference name="DAP 客户端列表" refuri="https://microsoft.github.io/debug-adapter-protocol/implementors/tools/">DAP 客户端列表</reference><target ids="dap" names="dap\ 客户端列表" refuri="https://microsoft.github.io/debug-adapter-protocol/implementors/tools/"></target>，确认你的编辑器是否支持这两个协议。如果支持，那么应该不借助自定义插件就可以利用到对应的功能。</paragraph>
            <paragraph>要使用这些协议，必须存在运行当前项目的 Godot 实例。然后，你应该对编辑器进行配置，让它与 Godot 中运行的适配器端口通信，默认的 <strong>LSP</strong> 端口为 <literal>6005</literal>，<strong>DAP</strong>端口为 <literal>6006</literal>。你可以在<strong>编辑器设置</strong>中修改这些端口和其他设置，对应的部分为<strong>网络 &gt; 语言服务器</strong>和<strong>网络 &gt; 调试适配器</strong>。</paragraph>
            <paragraph>以下是特定编辑器的一些配置步骤：</paragraph>
            <section dupnames="visual\ studio\ code" ids="id1">
                <title>Visual Studio Code</title>
                <paragraph>你需要安装官方`Visual Studio Code 插件 &lt;<reference refuri="https://github.com/godotengine/godot-vscode-plugin">https://github.com/godotengine/godot-vscode-plugin</reference>&gt;`_ 。</paragraph>
                <paragraph>对于 <strong>LSP</strong> ，请按照 <reference name="这些说明" refuri="https://github.com/godotengine/godot-vscode-plugin#gdscript_lsp_server_port">这些说明</reference><target ids="id1" names="这些说明" refuri="https://github.com/godotengine/godot-vscode-plugin#gdscript_lsp_server_port"></target> 更改默认 LSP 端口。可通过状态栏查看连接状态：</paragraph>
                <image candidates="{'*': 'tutorials/editor/img/lsp_vscode_status.png'}" uri="tutorials/editor/img/lsp_vscode_status.png"></image>
                <paragraph>对于 <strong>DAP</strong> ，请在你的 <literal>launch.json</literal> 文件中指定 <literal>debugServer</literal> 属性：</paragraph>
                <literal_block force="False" highlight_args="{}" language="json" linenos="False" xml:space="preserve">{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "GDScript Godot",
            "type": "godot",
            "request": "launch",
            "project": "${workspaceFolder}",
            "port": 6007,
            "debugServer": 6006,
        }
    ]
}</literal_block>
            </section>
            <section dupnames="emacs" ids="id2">
                <title>Emacs</title>
                <paragraph>请查看官方说明来配置 <reference name="LSP" refuri="https://github.com/godotengine/emacs-gdscript-mode#auto-completion-with-the-language-server-protocol-lsp">LSP</reference><target ids="lsp" names="lsp" refuri="https://github.com/godotengine/emacs-gdscript-mode#auto-completion-with-the-language-server-protocol-lsp"></target> 和 <reference name="DAP" refuri="https://github.com/godotengine/emacs-gdscript-mode#using-the-debugger">DAP</reference><target ids="dap" names="dap" refuri="https://github.com/godotengine/emacs-gdscript-mode#using-the-debugger"></target>.</paragraph>
                <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/zh_CN/?utm_source=widget"><image alt="翻译状态" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
            </section>
        </section>
    </section>
</document>
