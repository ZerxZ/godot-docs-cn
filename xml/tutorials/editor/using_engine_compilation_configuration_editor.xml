<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/editor/using_engine_compilation_configuration_editor.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-engine-compilation-configuration-editor"></target>
    <section ids="using-the-engine-compilation-configuration-editor doc-engine-compilation-configuration-editor" names="using\ the\ engine\ compilation\ configuration\ editor doc_engine_compilation_configuration_editor">
        <title>Using the engine compilation configuration editor</title>
        <paragraph>Godot comes with a large set of built-in features. While this is convenient,
            this also means its binary size is larger than it could be, especially
            for projects that only use a small portion of its feature set.</paragraph>
        <paragraph>To help reduce binary size, it is possible to compile custom export templates
            with certain features disabled. This is described in detail in <reference internal="True" refuri="../../engine_details/development/compiling/optimizing_for_size#doc-optimizing-for-size"><inline classes="std std-ref">Optimizing a build for size</inline></reference>.
            However, determining which features need to be disabled can be a tedious task.
            The engine compilation configuration editor aims to address this
            by providing an interface to view and manage these features easily,
            while also being able to detect the features currently being used in the project.</paragraph>
        <paragraph>The <inline classes="role-menu role-ui">Project &gt; Tools &gt; Engine Compilation Configuration Editor</inline>
            allows you to create and manage build profiles for your Godot project.</paragraph>
        <paragraph>From now on, you have two possibilities:</paragraph>
        <bullet_list bullet="-">
            <list_item>
                <paragraph>View the list and manually uncheck features that you don't need.</paragraph>
            </list_item>
            <list_item>
                <paragraph>Use the <inline classes="role-button role-ui">Detect from Project</inline> button to automatically detect features
                    currently used in the project and disable unused features. Note that this will
                    override the existing list of features, so if you have manually unchecked some
                    items, their state will be reset based on whether the project actually
                    uses the feature.</paragraph>
            </list_item>
        </bullet_list>
        <figure align="center" ids="id1">
            <image alt="Opening the Engine Compilation Configuration Editor" candidates="{'*': 'tutorials/editor/img/engine_compilation_configuration_editor_detect.webp'}" original_uri="img/engine_compilation_configuration_editor_detect.webp" uri="tutorials/editor/img/engine_compilation_configuration_editor_detect.webp"></image>
            <caption>Opening the Engine Compilation Configuration Editor</caption>
        </figure>
        <paragraph>Once you click <inline classes="role-button role-ui">Detect from Project</inline>, the project detection step will run.
            This can take from a few seconds up to several minutes depending on the project size.
            Once detection is complete, you'll see an updated list of features with some features disabled:</paragraph>
        <figure align="center" ids="id2">
            <image alt="Updated features list after using feature detection (example from the 3D platformer demo)" candidates="{'*': 'tutorials/editor/img/engine_compilation_configuration_editor_detected.webp'}" original_uri="img/engine_compilation_configuration_editor_detected.webp" uri="tutorials/editor/img/engine_compilation_configuration_editor_detected.webp"></image>
            <caption>Updated features list after using feature detection (example from the 3D platformer demo)</caption>
        </figure>
        <warning>
            <paragraph>Unchecking features in this dialog will not reduce binary size directly on export.
                Since it is only possible to actually remove features from the binary at compile-time,
                you still need to compile custom export templates with the build profile specified
                to actually benefit from the engine compilation configuration editor.</paragraph>
        </warning>
        <paragraph>You can now save the build profile by clicking <strong>Save As</strong> at the top.
            The build profile can be saved in any location, but it's a good idea to
            save it somewhere in your project folder and add it to version control to be able
            to go back to it later when needed. This also allows using version control
            to track changes to the build profile.</paragraph>
        <paragraph>The build profile is a JSON file (and <literal>.gdbuild</literal> extension) that looks like this
            after detection in the above example:</paragraph>
        <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">{
    "disabled_build_options": {
        "disable_navigation_3d": true,
        "disable_xr": true,
        "module_godot_physics_3d_enabled": false,
        "module_msdfgen_enabled": false,
        "module_openxr_enabled": false
    },
    "disabled_classes": [
        "AESContext",
        ...
        "ZIPReader"
    ],
    "type": "build_profile"
}</literal_block>
        <paragraph>This file can be passed as a SCons option when <reference internal="True" refuri="../../engine_details/development/compiling/index#doc-compiling-index"><inline classes="std std-ref">compiling</inline></reference>
            export templates:</paragraph>
        <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">scons target=template_release build_profile=/path/to/profile.gdbuild</literal_block>
        <paragraph>The buildsystem will use this to disable unused classes and reduce binary size as a result.</paragraph>
        <section ids="limitations" names="limitations">
            <title>Limitations</title>
            <paragraph>The <inline classes="role-button role-ui">Detect from Project</inline> functionality relies on reading the project's scenes and scripts.
                It will not be able to detect used features in the following scenarios:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Features that are used in GDScripts that are procedurally created then run at runtime.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Features that are used in <reference internal="True" refuri="../scripting/evaluating_expressions#doc-evaluating-expressions"><inline classes="std std-ref">expressions</inline></reference>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Features that are used in <reference internal="True" refuri="../scripting/gdextension/index#doc-gdextension"><inline classes="std std-ref">GDExtensions</inline></reference>, unless the language binding
                        allows for defining used classes and the extension makes use of the functionality.
                        See <reference name="GH-104129" refuri="https://github.com/godotengine/godot/pull/104129">GH-104129</reference> for details.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Features that are used in <reference internal="True" refuri="../export/exporting_pcks#doc-exporting-pcks"><inline classes="std std-ref">external PCKs loaded at runtime</inline></reference>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Certain edge cases may exist. If unsure, please
                        <reference name="open an issue on GitHub" refuri="https://github.com/godotengine/godot/issues">open an issue on GitHub</reference>
                        with a minimal reproduction project attached.</paragraph>
                </list_item>
            </bullet_list>
            <seealso>
                <paragraph>You can achieve further size reductions by passing other options that reduce binary size.
                    See <reference internal="True" refuri="../../engine_details/development/compiling/optimizing_for_size#doc-optimizing-for-size"><inline classes="std std-ref">Optimizing a build for size</inline></reference> for more information.</paragraph>
            </seealso>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
