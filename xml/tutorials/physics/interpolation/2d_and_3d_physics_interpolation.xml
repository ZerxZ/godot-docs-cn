<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/physics/interpolation/2d_and_3d_physics_interpolation.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-2d-and-3d-physics-interpolation"></target>
    <section ids="d-and-3d-physics-interpolation doc-2d-and-3d-physics-interpolation" names="2d\ and\ 3d\ physics\ interpolation doc_2d_and_3d_physics_interpolation">
        <title>2D and 3D physics interpolation</title>
        <paragraph>Generally 2D and 3D physics interpolation work in very similar ways. However, there
            are a few differences, which will be described here.</paragraph>
        <section ids="global-versus-local-interpolation" names="global\ versus\ local\ interpolation">
            <title>Global versus local interpolation</title>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>In 3D, physics interpolation is performed <emphasis>independently</emphasis> on the <strong>global
                            transform</strong> of each 3D instance.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>In 2D by contrast, physics interpolation is performed on the <strong>local transform</strong>
                        of each 2D instance.</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>This has some implications:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>In 3D, it is easy to turn interpolation on and off at the level of each <literal>Node</literal>,
                        via the <reference internal="True" refuri="../../../classes/class_node#class-node-property-physics-interpolation-mode"><inline classes="std std-ref">physics_interpolation_mode</inline></reference>
                        property in the Inspector, which can be set to <literal>On</literal>, <literal>Off</literal>, or <literal>Inherited</literal>.</paragraph>
                </list_item>
            </bullet_list>
            <figure align="center">
                <image candidates="{'*': 'tutorials/physics/interpolation/img/physics_interpolation_mode.webp'}" original_uri="img/physics_interpolation_mode.webp" uri="tutorials/physics/interpolation/img/physics_interpolation_mode.webp"></image>
            </figure>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>However this means that in 3D, pivots that occur in the <literal>SceneTree</literal> (due to
                        parent child relationships) can only be interpolated <strong>approximately</strong> over the
                        physics tick. In most cases this will not matter, but in some situations the
                        interpolation can look slightly wrong.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>In 2D, interpolated local transforms are passed down to children during
                        rendering. This means that if a parent has <literal>physics_interpolation_mode</literal> set to
                        <literal>On</literal>, but the child is set to <literal>Off</literal>, the child will still be interpolated if
                        the parent is moving. <emphasis>Only the child's local transform is uninterpolated.</emphasis>
                        Controlling the on / off behavior of 2D nodes therefore requires a little more
                        thought and planning.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>On the positive side, pivot behavior in the scene tree is perfectly preserved
                        during interpolation in 2D, which gives super smooth behavior.</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="resetting-physics-interpolation" names="resetting\ physics\ interpolation">
            <title>Resetting physics interpolation</title>
            <paragraph>Whenever objects are moved to a completely new position, and interpolation is not
                desired (so as to prevent a "streaking" artefact), it is the responsibility of the
                user to call <literal>reset_physics_interpolation()</literal>.</paragraph>
            <paragraph>The good news is that in 2D, this is automatically done for you when nodes first
                enter the tree. This reduces boiler plate, and reduces the effort required to get
                an existing project working.</paragraph>
            <note>
                <paragraph>If you move objects <emphasis>after</emphasis> adding to the scene tree, you will still need
                    to call <literal>reset_physics_interpolation()</literal> as with 3D.</paragraph>
            </note>
        </section>
        <section ids="d-particles" names="2d\ particles">
            <title>2D Particles</title>
            <paragraph>Currently only <literal>CPUParticles2D</literal> are supported for physics interpolation in 2D. It
                is recommended to use a physics tick rate of at least 20-30 ticks per second to
                keep particles looking fluid.</paragraph>
            <paragraph><literal>Particles2D</literal> (GPU particles) are not yet interpolated, so for now it is
                recommended to convert to <literal>CPUParticles2D</literal> (but keep a backup of your
                <literal>Particles2D</literal> in case we get these working).</paragraph>
        </section>
        <section ids="other" names="other">
            <title>Other</title>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><literal>get_global_transform_interpolated()</literal> is currently only available for 3D.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><literal>MultiMeshes</literal> are supported in both 2D and 3D.</paragraph>
                </list_item>
            </bullet_list>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
