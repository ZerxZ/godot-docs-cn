<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/physics/collision_shapes_3d.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-collision-shapes-3d"></target>
    <section ids="collision-shapes-3d doc-collision-shapes-3d" names="collision\ shapes\ (3d) doc_collision_shapes_3d">
        <title>Collision shapes (3D)</title>
        <paragraph>This guide explains:</paragraph>
        <bullet_list bullet="-">
            <list_item>
                <paragraph>The types of collision shapes available in 3D in Godot.</paragraph>
            </list_item>
            <list_item>
                <paragraph>Using a convex or a concave mesh as a collision shape.</paragraph>
            </list_item>
            <list_item>
                <paragraph>Performance considerations regarding 3D collisions.</paragraph>
            </list_item>
        </bullet_list>
        <paragraph>Godot provides many kinds of collision shapes, with different performance and
            accuracy tradeoffs.</paragraph>
        <paragraph>You can define the shape of a <reference internal="True" refuri="../../classes/class_physicsbody3d#class-physicsbody3d"><inline classes="std std-ref">PhysicsBody3D</inline></reference> by adding one or more
            <reference internal="True" refuri="../../classes/class_collisionshape3d#class-collisionshape3d"><inline classes="std std-ref">CollisionShape3Ds</inline></reference> as <emphasis>direct</emphasis> child nodes.
            Indirect child nodes (i.e. children of child nodes) will be ignored and won't be
            used as collision shapes. Also, note that you must add a <reference internal="True" refuri="../../classes/class_shape3d#class-shape3d"><inline classes="std std-ref">Shape3D</inline></reference>
            <emphasis>resource</emphasis> to collision shape nodes in the Inspector dock.</paragraph>
        <note>
            <paragraph>When you add multiple collision shapes to a single PhysicsBody, you don't
                have to worry about them overlapping. They won't "collide" with each other.</paragraph>
        </note>
        <section ids="primitive-collision-shapes" names="primitive\ collision\ shapes">
            <title>Primitive collision shapes</title>
            <paragraph>Godot provides the following primitive collision shape types:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><reference internal="True" refuri="../../classes/class_boxshape3d#class-boxshape3d"><inline classes="std std-ref">BoxShape3D</inline></reference></paragraph>
                </list_item>
                <list_item>
                    <paragraph><reference internal="True" refuri="../../classes/class_sphereshape3d#class-sphereshape3d"><inline classes="std std-ref">SphereShape3D</inline></reference></paragraph>
                </list_item>
                <list_item>
                    <paragraph><reference internal="True" refuri="../../classes/class_capsuleshape3d#class-capsuleshape3d"><inline classes="std std-ref">CapsuleShape3D</inline></reference></paragraph>
                </list_item>
                <list_item>
                    <paragraph><reference internal="True" refuri="../../classes/class_cylindershape3d#class-cylindershape3d"><inline classes="std std-ref">CylinderShape3D</inline></reference></paragraph>
                </list_item>
            </bullet_list>
            <paragraph>You can represent the collision of most smaller objects using one or more
                primitive shapes. However, for more complex objects, such as a large ship or a
                whole level, you may need convex or concave shapes instead. More on that below.</paragraph>
            <paragraph>We recommend favoring primitive shapes for dynamic objects such as RigidBodies
                and CharacterBodies as their behavior is the most reliable. They often provide
                better performance as well.</paragraph>
        </section>
        <section ids="convex-collision-shapes" names="convex\ collision\ shapes">
            <title>Convex collision shapes</title>
            <paragraph><reference internal="True" refuri="../../classes/class_convexpolygonshape3d#class-convexpolygonshape3d"><inline classes="std std-ref">Convex collision shapes</inline></reference> are a compromise
                between primitive collision shapes and concave collision shapes. They can
                represent shapes of any complexity, but with an important caveat. As their name
                implies, an individual shape can only represent a <emphasis>convex</emphasis> shape. For instance,
                a pyramid is <emphasis>convex</emphasis>, but a hollow box is <emphasis>concave</emphasis>. To define a concave object
                with a single collision shape, you need to use a concave collision shape.</paragraph>
            <paragraph>Depending on the object's complexity, you may get better performance by using
                multiple convex shapes instead of a concave collision shape. Godot lets you use
                <emphasis>convex decomposition</emphasis> to generate convex shapes that roughly match a hollow
                object. Note this performance advantage no longer applies after a certain amount
                of convex shapes. For large and complex objects such as a whole level, we
                recommend using concave shapes instead.</paragraph>
            <paragraph>You can generate one or several convex collision shapes from the editor by
                selecting a MeshInstance3D and using the <strong>Mesh</strong> menu at the top of the 3D
                viewport. The editor exposes two generation modes:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><strong>Create Single Convex Collision Sibling</strong> uses the Quickhull algorithm. It
                        creates one CollisionShape node with an automatically generated convex
                        collision shape. Since it only generates a single shape, it provides good
                        performance and is ideal for small objects.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Create Multiple Convex Collision Siblings</strong> uses the V-HACD algorithm. It
                        creates several CollisionShape nodes, each with a convex shape. Since it
                        generates multiple shapes, it is more accurate for concave objects at the cost
                        of performance. For objects with medium complexity, it will likely be faster
                        than using a single concave collision shape.</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="concave-or-trimesh-collision-shapes" names="concave\ or\ trimesh\ collision\ shapes">
            <title>Concave or trimesh collision shapes</title>
            <paragraph><reference internal="True" refuri="../../classes/class_concavepolygonshape3d#class-concavepolygonshape3d"><inline classes="std std-ref">Concave collision shapes</inline></reference>, also called trimesh
                collision shapes, can take any form, from a few triangles to thousands of
                triangles. Concave shapes are the slowest option but are also the most accurate
                in Godot. <strong>You can only use concave shapes within StaticBodies.</strong> They will not
                work with CharacterBodies or RigidBodies unless the RigidBody's mode is Static.</paragraph>
            <note>
                <paragraph>Even though concave shapes offer the most accurate <emphasis>collision</emphasis>, contact
                    reporting can be less precise than primitive shapes.</paragraph>
            </note>
            <paragraph>When not using GridMaps for level design, concave shapes are the best approach
                for a level's collision. That said, if your level has small details, you may
                want to exclude those from collision for performance and game feel. To do so,
                you can build a simplified collision mesh in a 3D modeler and have Godot
                generate a collision shape for it automatically. More on that below</paragraph>
            <paragraph>Note that unlike primitive and convex shapes, a concave collision shape doesn't
                have an actual "volume". You can place objects both <emphasis>outside</emphasis> of the shape as
                well as <emphasis>inside</emphasis>.</paragraph>
            <paragraph>You can generate a concave collision shape from the editor by selecting a
                MeshInstance3D and using the <strong>Mesh</strong> menu at the top of the 3D viewport. The
                editor exposes two options:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><strong>Create Trimesh Static Body</strong> is a convenient option. It creates a StaticBody
                        containing a concave shape matching the mesh's geometry.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Create Trimesh Collision Sibling</strong> creates a CollisionShape node with a
                        concave shape matching the mesh's geometry.</paragraph>
                </list_item>
            </bullet_list>
            <seealso>
                <paragraph>See <reference internal="True" refuri="../assets_pipeline/importing_3d_scenes/index#doc-importing-3d-scenes"><inline classes="std std-ref">Importing 3D scenes</inline></reference> for information on how to export models
                    for Godot and automatically generate collision shapes on import.</paragraph>
            </seealso>
        </section>
        <section ids="performance-caveats" names="performance\ caveats">
            <title>Performance caveats</title>
            <paragraph>You aren't limited to a single collision shape per PhysicsBody. Still, we
                recommend keeping the number of shapes as low as possible to improve
                performance, especially for dynamic objects like RigidBodies and
                CharacterBodies. On top of that, avoid translating, rotating, or scaling
                CollisionShapes to benefit from the physics engine's internal optimizations.</paragraph>
            <paragraph>When using a single non-transformed collision shape in a StaticBody, the
                engine's <emphasis>broad phase</emphasis> algorithm can discard inactive PhysicsBodies. The <emphasis>narrow
                    phase</emphasis> will then only have to take into account the active bodies' shapes. If a
                StaticBody has many collision shapes, the broad phase will fail. The narrow
                phase, which is slower, must then perform a collision check against each shape.</paragraph>
            <paragraph>If you run into performance issues, you may have to make tradeoffs in terms of
                accuracy. Most games out there don't have a 100% accurate collision. They find
                creative ways to hide it or otherwise make it unnoticeable during normal
                gameplay.</paragraph>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
