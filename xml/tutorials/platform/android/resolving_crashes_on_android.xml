<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/platform/android/resolving_crashes_on_android.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-resolving-crashes-on-android"></target>
    <section ids="resolving-crashes-on-android doc-resolving-crashes-on-android" names="resolving\ crashes\ on\ android doc_resolving_crashes_on_android">
        <title>Resolving crashes on Android</title>
        <paragraph>When your game crashes on Android, you often see obfuscated stack traces in Play Console
            or other crash reporting tools like Firebase Crashlytics. To make these stack traces human-readable (symbolicated),
            you need native debug symbols that correspond to your game's exported build.</paragraph>
        <paragraph>Godot now provides downloadable native debug symbols for each official export template.</paragraph>
        <section ids="getting-native-debug-symbols-for-official-templates" names="getting\ native\ debug\ symbols\ for\ official\ templates">
            <title>Getting Native Debug symbols for official templates</title>
            <paragraph>Native debug symbol files are provided for every stable Godot release
                and can be downloaded from the <reference name="GitHub release page" refuri="https://github.com/godotengine/godot/releases/">GitHub release page</reference><target ids="github-release-page" names="github\ release\ page" refuri="https://github.com/godotengine/godot/releases/"></target>.</paragraph>
            <paragraph>For example, to get the native debug symbols for version <literal>4.5.1.stable</literal>:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Go to the <reference name="4.5.1.stable release page" refuri="https://github.com/godotengine/godot/releases/">4.5.1.stable release page</reference><target ids="stable-release-page" names="4.5.1.stable\ release\ page" refuri="https://github.com/godotengine/godot/releases/"></target></paragraph>
                </list_item>
                <list_item>
                    <paragraph>Download the release artifact <literal>Godot_native_debug_symbols.4.5.1.stable.template_release.android.zip</literal></paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="getting-native-debug-symbols-for-custom-builds" names="getting\ native\ debug\ symbols\ for\ custom\ builds">
            <title>Getting Native Debug symbols for custom builds</title>
            <paragraph>Your exported template and its native debug symbols must come from the <strong>same build</strong>,
                so you can use the official symbols only if you are using the <strong>official export templates</strong>.
                If you are building <strong>custom export templates</strong>, you need to generate matching symbol files yourself.</paragraph>
            <paragraph>To do so, add <literal>debug_symbols=yes separate_debug_symbols=yes</literal> to your scons build command.
                This will generate a file named <literal>android-template-release-native-symbols.zip</literal> containing the native debug symbols for your custom build.</paragraph>
            <paragraph>For example,</paragraph>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">scons platform=android target=template_release debug_symbols=yes separate_debug_symbols=yes generate_android_binaries=yes</literal_block>
            <paragraph>If you are building for multiple architectures, you should include the <literal>separate_debug_symbols=yes</literal> only in the last build command,
                similar to how <literal>generate_android_binaries=yes</literal> is used.</paragraph>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">scons platform=android arch=arm32 target=template_release debug_symbols=yes
scons platform=android arch=arm64 target=template_release debug_symbols=yes
scons platform=android arch=x86_32 target=template_release debug_symbols=yes
scons platform=android arch=x86_64 target=template_release debug_symbols=yes separate_debug_symbols=yes generate_android_binaries=yes</literal_block>
        </section>
        <section ids="uploading-symbols-to-google-play-console" names="uploading\ symbols\ to\ google\ play\ console">
            <title>Uploading Symbols to Google Play Console</title>
            <paragraph>Follow these steps to upload the native debug symbols:</paragraph>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Open <reference name="Play Console" refuri="https://play.google.com/console">Play Console</reference><target ids="play-console" names="play\ console" refuri="https://play.google.com/console"></target>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Select any app.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>In the left menu, navigate to <literal>Test and release &gt; Latest releases and bundles</literal>.</paragraph>
                </list_item>
            </enumerated_list>
            <image candidates="{'*': 'tutorials/platform/android/img/play_console_latest_release_bundles.webp'}" original_uri="img/play_console_latest_release_bundles.webp" uri="tutorials/platform/android/img/play_console_latest_release_bundles.webp"></image>
            <enumerated_list enumtype="arabic" prefix="" start="4" suffix=".">
                <list_item>
                    <paragraph>Now choose the relevant bundle and open it.</paragraph>
                </list_item>
            </enumerated_list>
            <image candidates="{'*': 'tutorials/platform/android/img/play_console_latest_release_bundles2.webp'}" original_uri="img/play_console_latest_release_bundles2.webp" uri="tutorials/platform/android/img/play_console_latest_release_bundles2.webp"></image>
            <enumerated_list enumtype="arabic" prefix="" start="5" suffix=".">
                <list_item>
                    <paragraph>Select the <literal>Downloads</literal> tab, and scroll down to the <literal>Assets</literal> section.</paragraph>
                </list_item>
            </enumerated_list>
            <image candidates="{'*': 'tutorials/platform/android/img/play_console_app_bundle_explorer.webp'}" original_uri="img/play_console_app_bundle_explorer.webp" uri="tutorials/platform/android/img/play_console_app_bundle_explorer.webp"></image>
            <enumerated_list enumtype="arabic" prefix="" start="6" suffix=".">
                <list_item>
                    <paragraph>Next to <literal>Native debug symbols</literal>, click the upload arrow icon.</paragraph>
                </list_item>
            </enumerated_list>
            <image candidates="{'*': 'tutorials/platform/android/img/play_console_app_bundle_explorer2.webp'}" original_uri="img/play_console_app_bundle_explorer2.webp" uri="tutorials/platform/android/img/play_console_app_bundle_explorer2.webp"></image>
            <enumerated_list enumtype="arabic" prefix="" start="7" suffix=".">
                <list_item>
                    <paragraph>Select and upload the corresponding native debug symbols file for that build version.</paragraph>
                </list_item>
            </enumerated_list>
            <image candidates="{'*': 'tutorials/platform/android/img/play_console_upload_native_debug_symbols.webp'}" original_uri="img/play_console_upload_native_debug_symbols.webp" uri="tutorials/platform/android/img/play_console_upload_native_debug_symbols.webp"></image>
            <paragraph>Alternatively, you can upload the symbols when creating a new release:</paragraph>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>On the Create release page, locate your new release bundle.</paragraph>
                </list_item>
            </enumerated_list>
            <image candidates="{'*': 'tutorials/platform/android/img/play_console_create_new_release.webp'}" original_uri="img/play_console_create_new_release.webp" uri="tutorials/platform/android/img/play_console_create_new_release.webp"></image>
            <enumerated_list enumtype="arabic" prefix="" start="2" suffix=".">
                <list_item>
                    <paragraph>Click the three-dot menu beside it.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Choose <literal>Upload native debug symbols (.zip)</literal> from the menu.</paragraph>
                </list_item>
            </enumerated_list>
            <image candidates="{'*': 'tutorials/platform/android/img/play_console_create_new_release2.webp'}" original_uri="img/play_console_create_new_release2.webp" uri="tutorials/platform/android/img/play_console_create_new_release2.webp"></image>
            <enumerated_list enumtype="arabic" prefix="" start="4" suffix=".">
                <list_item>
                    <paragraph>Select and upload the corresponding native debug symbols file for that build version.</paragraph>
                </list_item>
            </enumerated_list>
        </section>
        <section ids="manually-symbolicating-crash-logs" names="manually\ symbolicating\ crash\ logs">
            <title>Manually Symbolicating Crash Logs</title>
            <paragraph>You can also symbolicate the crash logs manually using the <reference name="ndk-stack" refuri="https://developer.android.com/ndk/guides/ndk-stack">ndk-stack</reference><target ids="ndk-stack" names="ndk-stack" refuri="https://developer.android.com/ndk/guides/ndk-stack"></target> tool included in the Android NDK.</paragraph>
            <note>
                <paragraph>If you already have the Android SDK installed, you can find the <literal>ndk-stack</literal> tool inside the <literal>ndk</literal> folder in your SDK location.
                    Otherwise, you can download the NDK directly from the <reference name="NDK downloads page" refuri="https://developer.android.com/ndk/downloads">NDK downloads page</reference><target ids="ndk-downloads-page" names="ndk\ downloads\ page" refuri="https://developer.android.com/ndk/downloads"></target>.</paragraph>
            </note>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Extract the native debug symbols zip you downloaded earlier (or generated with your custom build).</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Save your crash log to a text file (for example, <literal>crash.txt</literal>).</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Run ndk-stack with the path to the symbol directory that matches the crash's CPU architecture (for example, <literal>arm64-v8a</literal>):</paragraph>
                </list_item>
            </enumerated_list>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">ndk-stack -sym path/to/native_debug_symbols/arm64-v8a/ -dump crash.txt</literal_block>
            <enumerated_list enumtype="arabic" prefix="" start="4" suffix=".">
                <list_item>
                    <paragraph>The output will display a symbolicated trace, showing file names and line numbers in Godot's source code (or your custom build).</paragraph>
                </list_item>
            </enumerated_list>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
