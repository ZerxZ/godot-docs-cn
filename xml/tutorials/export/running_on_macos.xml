<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/export/running_on_macos.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-running-on-macos"></target>
    <section ids="running-godot-apps-on-macos doc-running-on-macos" names="running\ godot\ apps\ on\ macos doc_running_on_macos">
        <title>Running Godot apps on macOS</title>
        <seealso>
            <paragraph>This page covers running Godot projects on macOS.
                If you haven't exported your project yet, read <reference internal="True" refuri="exporting_for_macos#doc-exporting-for-macos"><inline classes="std std-ref">Exporting for macOS</inline></reference> first.</paragraph>
        </seealso>
        <paragraph>By default, macOS will run only applications that are signed and notarized.</paragraph>
        <note>
            <paragraph>When running an app from the Downloads folder or when still in quarantine,
                Gatekeeper will perform <emphasis>path randomization</emphasis> as a security measure.
                This breaks access to relative paths from the app, which the app relies upon to work.
                To resolve this issue, move the app to the <literal>/Applications</literal> folder.</paragraph>
            <paragraph>In general, macOS apps should avoid relying on relative paths from the
                application folder.</paragraph>
        </note>
        <paragraph>Depending on the way a macOS app is signed and distributed, the following scenarios are possible:</paragraph>
        <section ids="app-is-signed-notarized-and-distributed-via-app-store" names="app\ is\ signed,\ notarized\ and\ distributed\ via\ app\ store">
            <title>App is signed, notarized and distributed via App Store</title>
            <note>
                <paragraph>App developers need to join the Apple Developer Program, and configure signing and notarization options during export, then upload the app to the App Store.</paragraph>
            </note>
            <paragraph>The app should run out of the box, without extra user interaction required.</paragraph>
        </section>
        <section ids="app-is-signed-notarized-and-distributed-outside-app-store" names="app\ is\ signed,\ notarized\ and\ distributed\ outside\ app\ store">
            <title>App is signed, notarized and distributed outside App Store</title>
            <note>
                <paragraph>App developers need to join the Apple Developer Program, and configure signing and notarization options during export, then distribute the app as ".DMG" or ".ZIP" archive.</paragraph>
            </note>
            <paragraph>When you run the app for the first time, the following dialog is displayed:</paragraph>
            <image candidates="{'*': 'tutorials/export/img/signed_and_notarized_0.png'}" original_uri="img/signed_and_notarized_0.png" uri="tutorials/export/img/signed_and_notarized_0.png"></image>
            <paragraph>Click <literal>Open</literal> to start the app.</paragraph>
            <paragraph>If you see the following warning dialog, your Mac is set up to allow apps only from the App Store.</paragraph>
            <image candidates="{'*': 'tutorials/export/img/signed_and_notarized_1.png'}" original_uri="img/signed_and_notarized_1.png" uri="tutorials/export/img/signed_and_notarized_1.png"></image>
            <paragraph>To allow third-party apps, open <literal>System Preferences</literal>, click <literal>Security &amp; Privacy</literal>, then click <literal>General</literal>, unlock settings, and select <literal>App Store and identified developers</literal>.</paragraph>
            <image candidates="{'*': 'tutorials/export/img/sys_pref_0.png'}" original_uri="img/sys_pref_0.png" uri="tutorials/export/img/sys_pref_0.png"></image>
        </section>
        <section ids="app-is-signed-including-ad-hoc-signatures-but-not-notarized" names="app\ is\ signed\ (including\ ad-hoc\ signatures)\ but\ not\ notarized">
            <title>App is signed (including ad-hoc signatures) but not notarized</title>
            <note>
                <paragraph>App developer used self-signed certificate or ad-hoc signing (default Godot behavior for exported project).</paragraph>
            </note>
            <paragraph>When you run the app for the first time, the following dialog is displayed:</paragraph>
            <image candidates="{'*': 'tutorials/export/img/signed_0.png'}" original_uri="img/signed_0.png" uri="tutorials/export/img/signed_0.png"></image>
            <paragraph>To run this app, you can temporarily override Gatekeeper:</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>Either open <literal>System Preferences</literal>, click <literal>Security &amp; Privacy</literal>, then click <literal>General</literal>, and click <literal>Open Anyway</literal>.</paragraph>
                    <image candidates="{'*': 'tutorials/export/img/sys_pref_1.png'}" original_uri="img/sys_pref_1.png" uri="tutorials/export/img/sys_pref_1.png"></image>
                </list_item>
                <list_item>
                    <paragraph>Or, right-click (Control-click) on the app icon in the Finder window and select <literal>Open</literal> from the menu.</paragraph>
                    <image candidates="{'*': 'tutorials/export/img/signed_1.png'}" original_uri="img/signed_1.png" uri="tutorials/export/img/signed_1.png"></image>
                </list_item>
                <list_item>
                    <paragraph>Then click <literal>Open</literal> in the confirmation dialog.</paragraph>
                    <image candidates="{'*': 'tutorials/export/img/signed_2.png'}" original_uri="img/signed_2.png" uri="tutorials/export/img/signed_2.png"></image>
                </list_item>
                <list_item>
                    <paragraph>Enter your password if you're prompted.</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>Another option is to disable Gatekeeper entirely. Note that this does decrease
                the security of your computer by allowing you to run any software you want.
                To do this, run <literal>sudo spctl --master-disable</literal> in the Terminal, enter your
                password, and then the <strong>Anywhere</strong> option will be available:</paragraph>
            <block_quote>
                <image candidates="{'*': 'tutorials/export/img/macos_allow_from_anywhere.png'}" original_uri="img/macos_allow_from_anywhere.png" uri="tutorials/export/img/macos_allow_from_anywhere.png"></image>
            </block_quote>
            <paragraph>Note that Gatekeeper will re-enable itself when macOS updates.</paragraph>
        </section>
        <section ids="app-is-not-signed-executable-is-linker-signed" names="app\ is\ not\ signed,\ executable\ is\ linker-signed">
            <title>App is not signed, executable is linker-signed</title>
            <note>
                <paragraph>App is built using official export templates, but it is not signed.</paragraph>
            </note>
            <paragraph>When you run the app for the first time, the following dialog is displayed:</paragraph>
            <image candidates="{'*': 'tutorials/export/img/linker_signed_1.png'}" original_uri="img/linker_signed_1.png" uri="tutorials/export/img/linker_signed_1.png"></image>
            <paragraph>To run this app, you should remove the quarantine extended file attribute manually:</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>Open <literal>Terminal.app</literal> (press <literal classes="kbd">Cmd + Space</literal> and enter <literal>Terminal</literal>).</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Navigate to the folder containing the target application.</paragraph>
                    <paragraph>Use the <literal>cd path_to_the_app_folder</literal> command, e.g. <literal>cd ~/Downloads/</literal> if it's in the <literal>Downloads</literal> folder.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Run the command <literal>xattr -dr com.apple.quarantine "Unsigned Game.app"</literal> (including quotation marks and <literal>.app</literal> extension).</paragraph>
                </list_item>
            </bullet_list>
        </section>
        <section ids="neither-app-nor-executable-is-signed-relevant-for-apple-silicon-macs-only" names="neither\ app\ nor\ executable\ is\ signed\ (relevant\ for\ apple\ silicon\ macs\ only)">
            <title>Neither app nor executable is signed (relevant for Apple Silicon Macs only)</title>
            <note>
                <paragraph>App is built using custom export templates, compiled using OSXCross, and it is not signed at all.</paragraph>
            </note>
            <paragraph>When you run the app for the first time, the following dialog is displayed:</paragraph>
            <image candidates="{'*': 'tutorials/export/img/unsigned_1.png'}" original_uri="img/unsigned_1.png" uri="tutorials/export/img/unsigned_1.png"></image>
            <paragraph>To run this app, you can ad-hoc sign it yourself:</paragraph>
            <bullet_list bullet="*">
                <list_item>
                    <paragraph>Install <literal>Xcode</literal> for the App Store, start it and confirm command line tools installation.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Open <literal>Terminal.app</literal> (press <literal classes="kbd">Cmd + Space</literal> and enter <literal>Terminal</literal>).</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Navigate to the folder containing the target application.</paragraph>
                    <paragraph>Use the <literal>cd path_to_the_app_folder</literal> command, e.g. <literal>cd ~/Downloads/</literal> if it's in the <literal>Downloads</literal> folder.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Run the following commands:</paragraph>
                    <paragraph><literal>xattr -dr com.apple.quarantine "Unsigned Game.app"</literal> (including quotation marks and ".app" extension).</paragraph>
                    <paragraph><literal>codesign -s - --force --deep "Unsigned Game.app"</literal> (including quotation marks and ".app" extension).</paragraph>
                </list_item>
            </bullet_list>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
