<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/export/exporting_for_android.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-exporting-for-android"></target>
    <section ids="exporting-for-android doc-exporting-for-android" names="exporting\ for\ android doc_exporting_for_android">
        <title>Exporting for Android</title>
        <seealso>
            <paragraph>This page describes how to export a Godot project to Android.
                If you're looking to compile export template binaries from source instead,
                read <reference internal="True" refuri="../../engine_details/development/compiling/compiling_for_android#doc-compiling-for-android"><inline classes="std std-ref">Compiling for Android</inline></reference>.</paragraph>
        </seealso>
        <paragraph>Exporting for Android has fewer requirements than compiling Godot for Android.
            The following steps detail what is needed to set up the Android SDK and the engine.</paragraph>
        <attention>
            <paragraph>Projects written in C# can be exported to Android as of Godot 4.2, but support
                is experimental and <reference internal="True" refuri="../scripting/c_sharp/index#doc-c-sharp-platforms"><inline classes="std std-ref">some limitations apply</inline></reference>.</paragraph>
        </attention>
        <section ids="install-openjdk-17" names="install\ openjdk\ 17">
            <title>Install OpenJDK 17</title>
            <paragraph>Download and install <reference name="OpenJDK 17" refuri="https://adoptium.net/temurin/releases/?variant=openjdk17&amp;version=17&amp;os=any&amp;arch=any">OpenJDK 17</reference>.</paragraph>
            <note>
                <paragraph>Higher versions of the JDK are also supported, but we recommend using JDK 17 for optimal compatibility and stability.</paragraph>
            </note>
        </section>
        <section ids="download-the-android-sdk" names="download\ the\ android\ sdk">
            <title>Download the Android SDK</title>
            <paragraph>Download and install the Android SDK.</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>You can install the Android SDK using <reference name="Android Studio Iguana (version 2023.2.1) or later" refuri="https://developer.android.com/studio/">Android Studio Iguana (version 2023.2.1) or later</reference>.</paragraph>
                    <bullet_list bullet="-">
                        <list_item>
                            <paragraph>Run it once to complete the SDK setup using these <reference name="instructions" refuri="https://developer.android.com/studio/intro/update#sdk-manager">instructions</reference>.</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>Ensure that the <reference name="required packages" refuri="https://developer.android.com/studio/intro/update#required">required packages</reference> are installed as well.</paragraph>
                            <bullet_list bullet="-">
                                <list_item>
                                    <paragraph>Android SDK Platform-Tools version 35.0.0 or later</paragraph>
                                </list_item>
                                <list_item>
                                    <paragraph>Android SDK Build-Tools version 35.0.1</paragraph>
                                </list_item>
                                <list_item>
                                    <paragraph>Android SDK Platform 35</paragraph>
                                </list_item>
                                <list_item>
                                    <paragraph>Android SDK Command-line Tools (latest)</paragraph>
                                </list_item>
                            </bullet_list>
                        </list_item>
                        <list_item>
                            <paragraph>Ensure that the <reference name="NDK and CMake are installed and configured" refuri="https://developer.android.com/studio/projects/install-ndk">NDK and CMake are installed and configured</reference>.</paragraph>
                            <bullet_list bullet="-">
                                <list_item>
                                    <paragraph>CMake version 3.10.2.4988404</paragraph>
                                </list_item>
                                <list_item>
                                    <paragraph>NDK version r28b (28.1.13356709)</paragraph>
                                </list_item>
                            </bullet_list>
                        </list_item>
                    </bullet_list>
                </list_item>
                <list_item>
                    <paragraph>Alternatively, you can install the Android SDK with the <title_reference>sdkmanager</title_reference> command line tool.</paragraph>
                    <bullet_list bullet="-">
                        <list_item>
                            <paragraph>Install the command line tools package using these <reference name="instructions" refuri="https://developer.android.com/tools/sdkmanager">instructions</reference>.</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>Once the command line tools are installed, run the following <title_reference>sdkmanager</title_reference> command to complete the setup process:</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
            </bullet_list>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">sdkmanager --sdk_root=&lt;android_sdk_path&gt; "platform-tools" "build-tools;35.0.1" "platforms;android-35" "cmdline-tools;latest" "cmake;3.10.2.4988404" "ndk;28.1.13356709"</literal_block>
            <note>
                <paragraph>If you are using Linux,
                    <strong>do not use an Android SDK provided by your distribution's repositories as it will often be outdated</strong>.</paragraph>
            </note>
        </section>
        <section ids="setting-it-up-in-godot" names="setting\ it\ up\ in\ godot">
            <title>Setting it up in Godot</title>
            <paragraph>Enter the Editor Settings screen (under the Godot tab for macOS, or the Editor tab
                for other platforms). This screen contains the editor settings for the user
                account in the computer (it's independent of the project).</paragraph>
            <image candidates="{'*': 'tutorials/export/img/editorsettings.png'}" original_uri="img/editorsettings.png" uri="tutorials/export/img/editorsettings.png"></image>
            <paragraph>Scroll down to the section where the Android settings are located:</paragraph>
            <image candidates="{'*': 'tutorials/export/img/android_editor_settings.webp'}" original_uri="img/android_editor_settings.webp" uri="tutorials/export/img/android_editor_settings.webp"></image>
            <paragraph>In that screen, 2 paths need to be set:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><literal>Java SDK Path</literal> should be the location where OpenJDK 17 was installed.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><literal>Android Sdk Path</literal> should be the location where the Android SDK was installed.
                        - For example <literal>%LOCALAPPDATA%\Android\Sdk\</literal> on Windows or <literal>/Users/$USER/Library/Android/sdk/</literal> on macOS.</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>Once that is configured, everything is ready to export to Android!</paragraph>
            <note>
                <paragraph>If you get an error saying <emphasis>"Could not install to device."</emphasis>, make sure
                    you do not have an application with the same Android package name already
                    installed on the device (but signed with a different key).</paragraph>
                <paragraph>If you have an application with the same Android package name but a
                    different signing key already installed on the device, you <strong>must</strong> remove
                    the application in question from the Android device before exporting to
                    Android again.</paragraph>
            </note>
        </section>
        <section ids="providing-launcher-icons" names="providing\ launcher\ icons">
            <title>Providing launcher icons</title>
            <paragraph>Launcher icons are used by Android launcher apps to represent your application to users. Godot only requires high-resolution icons (for <literal>xxxhdpi</literal> density screens) and will automatically generate lower-resolution variants.</paragraph>
            <paragraph>There are three types of icons:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><strong>Main Icon:</strong> The "classic" icon. This will be used on all Android versions up to Android 8 (Oreo), exclusive. Must be at least 192×192 px.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Adaptive Icons:</strong> Starting from Android 8 (inclusive), <reference name="Adaptive Icons" refuri="https://developer.android.com/guide/practices/ui_guidelines/icon_design_adaptive">Adaptive Icons</reference><target ids="adaptive-icons" names="adaptive\ icons" refuri="https://developer.android.com/guide/practices/ui_guidelines/icon_design_adaptive"></target> were introduced. Applications will need to include separate background and foreground icons to have a native look. The user's launcher application will control the icon's animation and masking. Must be at least 432×432 px.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Themed Icons (optional):</strong> Starting from Android 13 (inclusive), Themed Icons were introduced. Applications will need to include a monochrome icon to enable this feature. The user's launcher application will control the icon's theme. Must be at least 432×432 px.</paragraph>
                </list_item>
            </bullet_list>
            <seealso>
                <paragraph>It's important to adhere to some rules when designing adaptive icons. <reference name="Google Design has provided a nice article" refuri="https://medium.com/google-design/designing-adaptive-icons-515af294c783">Google Design has provided a nice article</reference><target ids="google-design-has-provided-a-nice-article" names="google\ design\ has\ provided\ a\ nice\ article" refuri="https://medium.com/google-design/designing-adaptive-icons-515af294c783"></target> that helps to understand those rules and some of the capabilities of adaptive icons.</paragraph>
            </seealso>
            <caution>
                <paragraph>The most important adaptive icon design rule is to have your icon critical elements inside the safe zone: a centered circle with a diameter of 66dp (264 pixels on <literal>xxxhdpi</literal>) to avoid being clipped by the launcher.</paragraph>
            </caution>
            <paragraph>If you don't provide the requested icons (except for Monochrome), Godot will replace them using a fallback chain, trying the next in line when the current one fails:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><strong>Main Icon:</strong> Provided main icon -&gt; Project icon -&gt; Default Godot main icon.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Adaptive Icon Foreground:</strong> Provided foreground icon -&gt; Provided main icon -&gt; Project icon -&gt; Default Godot foreground icon.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Adaptive Icon Background:</strong> Provided background icon -&gt; Default Godot background icon.</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>It's highly recommended to provide all the requested icons with their specified resolutions.
                This way, your application will look great on all Android devices and versions.</paragraph>
        </section>
        <section ids="exporting-for-google-play-store" names="exporting\ for\ google\ play\ store">
            <title>Exporting for Google Play Store</title>
            <paragraph>All new apps uploaded to Google Play after August 2021 must be an AAB (Android App Bundle)
                file.</paragraph>
            <paragraph>Uploading an AAB or APK to Google's Play Store requires you to sign using a non-debug
                keystore file; such a file can be generated like this:</paragraph>
            <literal_block force="False" highlight_args="{}" language="shell" linenos="False" xml:space="preserve">keytool -v -genkey -keystore mygame.keystore -alias mygame -keyalg RSA -validity 10000</literal_block>
            <paragraph>This keystore and key are used to verify your developer identity, remember the password and keep it in a safe place!
                It is suggested to use only upper and lowercase letters and numbers. Special characters may cause errors.
                Use Google's Android Developer guides to learn more about <reference name="app signing" refuri="https://developer.android.com/studio/publish/app-signing">app signing</reference>.</paragraph>
            <paragraph>Now fill in the following forms in your Android Export Presets:</paragraph>
            <image candidates="{'*': 'tutorials/export/img/editor-export-presets-android.png'}" original_uri="img/editor-export-presets-android.png" uri="tutorials/export/img/editor-export-presets-android.png"></image>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><strong>Release:</strong> Enter the path to the keystore file you just generated.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Release User:</strong> Replace with the key alias.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Release Password:</strong> Key password. Note that the keystore password and the key password currently have to be the same.</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>Don't forget to uncheck the <strong>Export With Debug</strong> checkbox while exporting.</paragraph>
            <image candidates="{'*': 'tutorials/export/img/export-with-debug-button.png'}" original_uri="img/export-with-debug-button.png" uri="tutorials/export/img/export-with-debug-button.png"></image>
        </section>
        <section ids="optimizing-the-file-size" names="optimizing\ the\ file\ size">
            <title>Optimizing the file size</title>
            <paragraph>If you're working with APKs and not AABs, by default, the APK will contain native
                libraries for both ARMv7 and ARMv8 architectures. This increases its size significantly.
                To create a smaller file, uncheck either <strong>Armeabi-v 7a</strong> or <strong>Arm 64 -v 8a</strong> in
                your project's Android export preset. This will create an APK that only contains
                a library for a single architecture. Note that applications targeting ARMv7 can
                also run on ARMv8 devices, but the opposite is not true. The reason you don't do
                this to save space with AABs is that Google automatically splits up the AAB on their
                backend, so the user only downloads what they need.</paragraph>
            <paragraph>You can optimize the size further by compiling an Android export template with
                only the features you need. See <reference internal="True" refuri="../../engine_details/development/compiling/optimizing_for_size#doc-optimizing-for-size"><inline classes="std std-ref">Optimizing a build for size</inline></reference> for more
                information.</paragraph>
        </section>
        <section ids="environment-variables" names="environment\ variables">
            <title>Environment variables</title>
            <paragraph>You can use the following environment variables to set export options outside of
                the editor. During the export process, these override the values that you set in
                the export menu.</paragraph>
            <table ids="id1">
                <title>Android export environment variables</title>
                <tgroup cols="2">
                    <colspec colwidth="50"></colspec>
                    <colspec colwidth="50"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>Export option</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Environment variable</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph>Encryption / Encryption Key</paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>GODOT_SCRIPT_ENCRYPTION_KEY</literal></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Options / Keystore / Debug</paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>GODOT_ANDROID_KEYSTORE_DEBUG_PATH</literal></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Options / Keystore / Debug User</paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>GODOT_ANDROID_KEYSTORE_DEBUG_USER</literal></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Options / Keystore / Debug Password</paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>GODOT_ANDROID_KEYSTORE_DEBUG_PASSWORD</literal></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Options / Keystore / Release</paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>GODOT_ANDROID_KEYSTORE_RELEASE_PATH</literal></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Options / Keystore / Release User</paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>GODOT_ANDROID_KEYSTORE_RELEASE_USER</literal></paragraph>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph>Options / Keystore / Release Password</paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>GODOT_ANDROID_KEYSTORE_RELEASE_PASSWORD</literal></paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </section>
        <section ids="export-options" names="export\ options">
            <title>Export options</title>
            <paragraph>You can find a full list of export options available in the
                <reference internal="True" refuri="../../classes/class_editorexportplatformandroid#class-editorexportplatformandroid"><inline classes="std std-ref">EditorExportPlatformAndroid</inline></reference> class reference.</paragraph>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
