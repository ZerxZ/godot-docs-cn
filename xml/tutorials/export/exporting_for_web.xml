<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/export/exporting_for_web.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-exporting-for-web"></target>
    <section ids="exporting-for-the-web doc-exporting-for-web" names="exporting\ for\ the\ web doc_exporting_for_web">
        <title>Exporting for the Web</title>
        <seealso>
            <paragraph>This page describes how to export a Godot project to HTML5.
                If you're looking to compile editor or export template binaries from source instead,
                read <reference internal="True" refuri="../../engine_details/development/compiling/compiling_for_web#doc-compiling-for-web"><inline classes="std std-ref">Compiling for the Web</inline></reference>.</paragraph>
        </seealso>
        <paragraph>HTML5 export allows publishing games made in Godot Engine to the browser.
            This requires support for <reference name="WebAssembly" refuri="https://webassembly.org/">WebAssembly</reference> and <reference name="WebGL 2.0" refuri="https://www.khronos.org/webgl/">WebGL 2.0</reference>
            in the user's browser.</paragraph>
        <attention>
            <paragraph>Projects written in C# using Godot 4 currently cannot be exported to the
                web. See <reference name="this blog post" refuri="https://godotengine.org/article/platform-state-in-csharp-for-godot-4-2/#web">this blog post</reference>
                for more information.</paragraph>
            <paragraph>To use C# on web platforms, use Godot 3 instead.</paragraph>
        </attention>
        <tip>
            <paragraph>Use the browser-integrated developer console, usually opened
                with <literal classes="kbd">F12</literal> or <literal classes="kbd">Ctrl + Shift + I</literal> (<literal classes="kbd">Cmd + Option + I</literal> on macOS), to view
                <strong>debug information</strong> like JavaScript, engine, and WebGL errors.</paragraph>
            <paragraph>If the shortcut doesn't work, it's because Godot actually captures the input.
                You can still open the developer console by accessing the browser's menu.</paragraph>
        </tip>
        <note>
            <paragraph>Due to security concerns with <literal>SharedArrayBuffer</literal> due to various exploits,
                the use of multiple threads for the Web platform has multiple drawbacks,
                including requiring specific server-side headers and complete cross-origin isolation
                (meaning no ads, nor third-party integrations on the website hosting your game).</paragraph>
            <paragraph>Since Godot 4.3, Godot supports exporting your game on a single thread, which
                solves this issue. While it has some drawbacks on its own (it cannot use threads, and is
                not as performant as the multi-threaded export), it doesn't require as much overhead to install.
                It is also more compatible overall with stores like <reference name="itch.io" refuri="https://itch.io/">itch.io</reference> or Web publishers like
                <reference name="Poki" refuri="https://poki.com/">Poki</reference> or <reference name="CrazyGames" refuri="https://crazygames.com/">CrazyGames</reference>. The single-threaded export
                works very well on macOS and iOS too, where it always had compatibility issues with multiple threads
                exports.</paragraph>
            <paragraph>For these reasons, it is the preferred and now default way to export your games on the Web.</paragraph>
            <paragraph>For more information, see <reference name="this blog post about single-threaded Web export" refuri="https://godotengine.org/article/progress-report-web-export-in-4-3/#single-threaded-web-export">this blog post about single-threaded Web export</reference>.</paragraph>
        </note>
        <seealso>
            <paragraph>See the
                <reference name="list of open issues on GitHub related to the web export" refuri="https://github.com/godotengine/godot/issues?q=is%3Aopen+is%3Aissue+label%3Aplatform%3Aweb">list of open issues on GitHub related to the web export</reference>
                for a list of known bugs.</paragraph>
        </seealso>
        <section ids="export-file-name" names="export\ file\ name">
            <title>Export file name</title>
            <paragraph>We suggest users to export their Web projects with <literal>index.html</literal> as the file name.
                <literal>index.html</literal> is usually the default file loaded by web servers when accessing the
                parent directory, usually hiding the name of that file.</paragraph>
            <attention>
                <paragraph>The Godot 4 Web export expects some files to be named the same name as the one set in the
                    initial export. Some issues could occur if some exported files are renamed, including the
                    main HTML file.</paragraph>
            </attention>
        </section>
        <section ids="webgl-version" names="webgl\ version">
            <title>WebGL version</title>
            <paragraph>Godot 4 can only target WebGL 2.0 (using the Compatibility rendering
                method). Forward+/Mobile are not supported on the web platform, as these
                rendering methods are designed around modern low-level graphics APIs. Godot
                currently does not support WebGPU, which is a prerequisite for allowing
                Forward+/Mobile to run on the web platform.</paragraph>
            <paragraph>See <reference name="Can I use WebGL 2.0" refuri="https://caniuse.com/webgl2">Can I use WebGL 2.0</reference> for a list of browser
                versions supporting WebGL 2.0. Note that Safari has several issues with WebGL
                2.0 support that other browsers don't have, so we recommend using a
                Chromium-based browser or Firefox if possible.</paragraph>
        </section>
        <section ids="mobile-considerations" names="mobile\ considerations">
            <title>Mobile considerations</title>
            <paragraph>The Web export can run on mobile platforms with some caveats. While native
                <reference internal="True" refuri="exporting_for_android#doc-exporting-for-android"><inline classes="std std-ref">Android</inline></reference> and <reference internal="True" refuri="exporting_for_ios#doc-exporting-for-ios"><inline classes="std std-ref">iOS</inline></reference>
                exports will always perform better by a significant margin, the Web export
                allows people to run your project without going through app stores.</paragraph>
            <paragraph>Remember that CPU and GPU performance is at a premium when running on mobile devices.
                This is even more the case when running a project exported to Web (as it's
                WebAssembly instead of native code). See <reference internal="True" refuri="../performance/index#doc-performance"><inline classes="std std-ref">Performance</inline></reference> section of the
                documentation for advice on optimizing your project. If your project runs on
                platforms other than Web, you can use <reference internal="True" refuri="feature_tags#doc-feature-tags"><inline classes="std std-ref">Feature tags</inline></reference> to apply
                low-end-oriented settings when running the project exported to Web.</paragraph>
            <paragraph>To speed up loading times on mobile devices, you should also
                <reference internal="True" refuri="../../engine_details/development/compiling/optimizing_for_size#doc-optimizing-for-size"><inline classes="std std-ref">compile an optimized export template</inline></reference>
                with unused features disabled. Depending on the features used by your project,
                this can reduce the size of the WebAssembly payload significantly,
                making it faster to download and initialize (even when cached).</paragraph>
            <target refid="doc-exporting-for-web-audio-playback"></target>
        </section>
        <section ids="audio-playback doc-exporting-for-web-audio-playback" names="audio\ playback doc_exporting_for_web_audio_playback">
            <title>Audio playback</title>
            <paragraph>Since Godot 4.3, audio playback is done using the Web Audio API on the web
                platform. This <strong>Sample</strong> playback mode allows for low latency even when the
                project is exported without thread support, but it has several limitations:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>AudioEffects are not supported.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><reference internal="True" refuri="../audio/audio_streams#doc-audio-streams-reverb-buses"><inline classes="std std-ref">Reverberation and doppler</inline></reference> effects are not supported.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Procedural audio generation is not supported.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Positional audio may not always work correctly depending on the node's properties.</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>To use Godot's own audio playback system on the web platform, you can change the
                default playback mode using the <strong>Audio &gt; General &gt; Default Playback Type.web</strong>
                project setting, or change the <strong>Playback Type</strong> property to <strong>Stream</strong> on an
                <reference internal="True" refuri="../../classes/class_audiostreamplayer#class-audiostreamplayer"><inline classes="std std-ref">AudioStreamPlayer</inline></reference>, <reference internal="True" refuri="../../classes/class_audiostreamplayer2d#class-audiostreamplayer2d"><inline classes="std std-ref">AudioStreamPlayer2D</inline></reference> or
                <reference internal="True" refuri="../../classes/class_audiostreamplayer3d#class-audiostreamplayer3d"><inline classes="std std-ref">AudioStreamPlayer3D</inline></reference> node. This leads to increased latency
                (especially when thread support is disabled), but it allows the full suite
                of Godot's audio features to work.</paragraph>
            <target refid="doc-javascript-export-options"></target>
        </section>
        <section dupnames="export\ options" ids="export-options doc-javascript-export-options" names="doc_javascript_export_options">
            <title>Export options</title>
            <paragraph>If a runnable web export template is available, a button appears between the
                <emphasis>Stop scene</emphasis> and <emphasis>Play edited Scene</emphasis> buttons in the editor to quickly open the
                game in the default browser for testing.</paragraph>
            <paragraph>If your project uses GDExtension, <strong>Extension Support</strong> needs to be enabled.</paragraph>
            <paragraph>If you plan to use <reference internal="True" refuri="../assets_pipeline/importing_images#doc-importing-images"><inline classes="std std-ref">VRAM compression</inline></reference> make sure that
                <strong>VRAM Texture Compression</strong> is enabled for the targeted platforms (enabling
                both <strong>For Desktop</strong> and <strong>For Mobile</strong> will result in a bigger, but more
                compatible export).</paragraph>
            <paragraph>If a path to a <strong>Custom HTML shell</strong> file is given, it will be used instead of
                the default HTML page. See <reference internal="True" refuri="../platform/web/customizing_html5_shell#doc-customizing-html5-shell"><inline classes="std std-ref">Custom HTML page for Web export</inline></reference>.</paragraph>
            <paragraph><strong>Head Include</strong> is appended into the <literal>&lt;head&gt;</literal> element of the generated
                HTML page. This allows to, for example, load webfonts and third-party
                JavaScript APIs, include CSS, or run JavaScript code.</paragraph>
            <paragraph>The window size will automatically match the browser window size by default.
                If you want to use a fixed size instead regardless of the browser window size,
                change <strong>Canvas Resize Policy</strong> to <strong>None</strong>. This allows controlling the window
                size with custom JavaScript code in the HTML shell. You can also set it to
                <strong>Project</strong> to make it behave closer to a native export, according to the
                <reference internal="True" refuri="../rendering/multiple_resolutions#doc-multiple-resolutions"><inline classes="std std-ref">project settings</inline></reference>.</paragraph>
            <important>
                <paragraph>Each project must generate their own HTML file. On export,
                    several text placeholders are replaced in the generated HTML
                    file specifically for the given export options. Any direct
                    modifications to that HTML file will be lost in future exports.
                    To customize the generated file, use the <strong>Custom HTML shell</strong>
                    option.</paragraph>
            </important>
            <target refid="doc-exporting-for-web-thread-extension-support"></target>
            <section ids="thread-and-extension-support doc-exporting-for-web-thread-extension-support" names="thread\ and\ extension\ support doc_exporting_for_web_thread_extension_support">
                <title>Thread and extension support</title>
                <paragraph>If <strong>Thread Support</strong> is enabled, the exported project will be able to
                    <reference internal="True" refuri="../performance/using_multiple_threads#doc-using-multiple-threads"><inline classes="std std-ref">make use of multithreading</inline></reference> to improve
                    performance. This also allows for low-latency audio playback
                    when the playback type is set to <strong>Stream</strong> (instead of the default <strong>Sample</strong>
                    that is used in web exports). Enabling this feature requires the use of
                    cross-origin isolation headers, which are described in the
                    <reference internal="True" refid="doc-exporting-for-web-serving-the-files"><inline classes="std std-ref">Serving the files</inline></reference> section below.</paragraph>
                <paragraph>If <strong>Extensions Support</strong> is enabled, <reference internal="True" refuri="../scripting/gdextension/what_is_gdextension#doc-what-is-gdextension"><inline classes="std std-ref">GDExtensions</inline></reference>
                    will be able to be loaded. Note that GDExtensions still need to be specifically
                    compiled for the web platform to work. Like thread support, enabling this feature
                    requires the use of cross-origin isolation headers.</paragraph>
            </section>
            <section ids="exporting-as-a-progressive-web-app-pwa" names="exporting\ as\ a\ progressive\ web\ app\ (pwa)">
                <title>Exporting as a Progressive Web App (PWA)</title>
                <paragraph>If <strong>Progressive Web App &gt; Enable</strong> is enabled, it will have several effects:</paragraph>
                <bullet_list bullet="-">
                    <list_item>
                        <paragraph>Configure high-resolution icons, a display mode and screen orientation. These
                            are configured at the end of the Progressive Web App section in the export
                            options. These options are used if the user adds the project to their device's
                            homescreen, which is common on mobile platforms. This is also supported on
                            desktop platforms, albeit in a more limited capacity.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Allow the project to be loaded without an Internet connection if it has been
                            loaded at least once beforehand. This works thanks to the <emphasis>service worker</emphasis>
                            that is installed when the project is first loaded in the user's browser. This
                            service worker provides a local fallback when no Internet connection is
                            available.</paragraph>
                        <bullet_list bullet="-">
                            <list_item>
                                <paragraph>Note that web browsers can choose to evict the cached data if the user runs
                                    low on disk space, or if the user hasn't opened the project for a while.
                                    To ensure data is cached for a longer duration, the user can bookmark the page,
                                    or ideally add it to their device's home screen.</paragraph>
                            </list_item>
                            <list_item>
                                <paragraph>If the offline data is not available because it was evicted from the cache,
                                    you can configure an <strong>Offline Page</strong> that will be displayed in this case.
                                    The page must be in HTML format and will be saved on the client's machine
                                    the first time the project is loaded.</paragraph>
                            </list_item>
                        </bullet_list>
                    </list_item>
                    <list_item>
                        <paragraph>Ensure cross-origin isolation headers are always present, even if the web
                            server hasn't been configured to send them. This allows exports with threads
                            enabled to work when hosted on any website, even if there is no way for you to
                            control the headers it sends.</paragraph>
                        <bullet_list bullet="-">
                            <list_item>
                                <paragraph>This behavior can be disabled by unchecking <strong>Enable Cross Origin Isolation Headers</strong>
                                    in the Progressive Web App section.</paragraph>
                            </list_item>
                        </bullet_list>
                    </list_item>
                </bullet_list>
            </section>
        </section>
        <section ids="limitations" names="limitations">
            <title>Limitations</title>
            <paragraph>For security and privacy reasons, many features that work effortlessly on
                native platforms are more complicated on the web platform. Following is a list
                of limitations you should be aware of when porting a Godot game to the web.</paragraph>
            <target refid="doc-javascript-secure-contexts"></target>
            <important ids="doc-javascript-secure-contexts" names="doc_javascript_secure_contexts">
                <paragraph>Browser vendors are making more and more functionalities only
                    available in <reference name="secure contexts" refuri="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts">secure contexts</reference><target ids="secure-contexts" names="secure\ contexts" refuri="https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts"></target>,
                    this means that such features are only be available if the web
                    page is served via a secure HTTPS connection (localhost is
                    usually exempt from such requirement).</paragraph>
            </important>
            <section ids="using-cookies-for-data-persistence" names="using\ cookies\ for\ data\ persistence">
                <title>Using cookies for data persistence</title>
                <paragraph>Users must <strong>allow cookies</strong> (specifically IndexedDB) if persistence of the
                    <literal>user://</literal> file system is desired. When playing a game presented in an
                    <literal>iframe</literal>, <strong>third-party</strong> cookies must also be enabled. Incognito/private
                    browsing mode also prevents persistence.</paragraph>
                <paragraph>The method <literal>OS.is_userfs_persistent()</literal> can be used to check if the
                    <literal>user://</literal> file system is persistent, but can give false positives in some
                    cases.</paragraph>
            </section>
            <section ids="background-processing" names="background\ processing">
                <title>Background processing</title>
                <paragraph>The project will be paused by the browser when the tab is no longer the active
                    tab in the user's browser. This means functions such as <literal>_process()</literal> and
                    <literal>_physics_process()</literal> will no longer run until the tab is made active again by
                    the user (by switching back to the tab). This can cause networked games to
                    disconnect if the user switches tabs for a long duration.</paragraph>
                <paragraph>This limitation does not apply to unfocused browser <emphasis>windows</emphasis>. Therefore, on the
                    user's side, this can be worked around by running the project in a separate
                    <emphasis>window</emphasis> instead of a separate tab.</paragraph>
            </section>
            <section ids="full-screen-and-mouse-capture" names="full\ screen\ and\ mouse\ capture">
                <title>Full screen and mouse capture</title>
                <paragraph>Browsers do not allow arbitrarily <strong>entering full screen</strong>. The same goes for
                    <strong>capturing the cursor</strong>. Instead, these actions have to occur as a response to
                    a JavaScript input event. In Godot, this means entering full screen from within
                    a pressed input event callback such as <literal>_input</literal> or <literal>_unhandled_input</literal>.
                    Querying the <reference internal="True" refuri="../../classes/class_input#class-input"><inline classes="std std-ref">Input</inline></reference> singleton is not sufficient, the relevant
                    input event must currently be active.</paragraph>
                <paragraph>For the same reason, the full screen project setting doesn't work unless the
                    engine is started from within a valid input event handler. This requires
                    <reference internal="True" refuri="../platform/web/customizing_html5_shell#doc-customizing-html5-shell"><inline classes="std std-ref">customization of the HTML page</inline></reference>.</paragraph>
            </section>
            <section ids="audio" names="audio">
                <title>Audio</title>
                <paragraph>Some browsers restrict autoplay for audio on websites. The easiest way around this limitation is to request the
                    player to click, tap or press a key/button to enable audio, for instance when displaying a splash screen at the start of your game.</paragraph>
                <seealso>
                    <paragraph>Google offers additional information about their <reference name="Web Audio autoplay policies" refuri="https://www.chromium.org/audio-video/autoplay/">Web Audio autoplay
                            policies</reference>.</paragraph>
                    <paragraph>Apple's Safari team also posted additional information about their <reference name="Auto-Play Policy Changes for macOS" refuri="https://webkit.org/blog/7734/auto-play-policy-changes-for-macos/">Auto-Play Policy Changes for macOS</reference>.</paragraph>
                </seealso>
                <warning>
                    <paragraph>Access to microphone requires a
                        <reference internal="True" refid="doc-javascript-secure-contexts"><inline classes="std std-ref">secure context</inline></reference>.</paragraph>
                </warning>
                <warning>
                    <paragraph>Since Godot 4.3, by default Web exports will use samples instead of streams
                        to play audio.</paragraph>
                    <paragraph>This is due to the way browsers prefer to play audio and the lack of processing power
                        available when exporting Web games with the <strong>Use Threads</strong> export option off.</paragraph>
                    <paragraph>Please note that audio effects aren't yet implemented for samples.</paragraph>
                </warning>
            </section>
            <section ids="networking" names="networking">
                <title>Networking</title>
                <comment xml:space="preserve">UPDATE: Not implemented. When low-level networking is implemented, remove</comment>
                <comment xml:space="preserve">this paragraph.</comment>
                <paragraph>Low-level networking is not implemented due to lacking support in browsers.</paragraph>
                <paragraph>Currently, only <reference internal="True" refuri="../networking/http_client_class#doc-http-client-class"><inline classes="std std-ref">HTTP client</inline></reference>,
                    <reference internal="True" refuri="../networking/http_request_class#doc-http-request-class"><inline classes="std std-ref">HTTP requests</inline></reference>,
                    <reference internal="True" refuri="../networking/websocket#doc-websocket"><inline classes="std std-ref">WebSocket (client)</inline></reference> and <reference internal="True" refuri="../networking/webrtc#doc-webrtc"><inline classes="std std-ref">WebRTC</inline></reference> are
                    supported.</paragraph>
                <paragraph>The HTTP classes also have several restrictions on the HTML5 platform:</paragraph>
                <block_quote>
                    <bullet_list bullet="-">
                        <list_item>
                            <paragraph>Accessing or changing the <literal>StreamPeer</literal> is not possible</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>Threaded/Blocking mode is not available</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>Cannot progress more than once per frame, so polling in a loop will freeze</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>No chunked responses</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>Host verification cannot be disabled</paragraph>
                        </list_item>
                        <list_item>
                            <paragraph>Subject to <reference name="same-origin policy" refuri="https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy">same-origin policy</reference></paragraph>
                        </list_item>
                    </bullet_list>
                </block_quote>
            </section>
            <section ids="clipboard" names="clipboard">
                <title>Clipboard</title>
                <paragraph>Clipboard synchronization between engine and the operating system requires a
                    browser supporting the <reference name="Clipboard API" refuri="https://developer.mozilla.org/en-US/docs/Web/API/Clipboard_API">Clipboard API</reference>,
                    additionally, due to the API asynchronous nature might not be reliable when
                    accessed from GDScript.</paragraph>
                <warning>
                    <paragraph>Requires a <reference internal="True" refid="doc-javascript-secure-contexts"><inline classes="std std-ref">secure context</inline></reference>.</paragraph>
                </warning>
            </section>
            <section ids="gamepads" names="gamepads">
                <title>Gamepads</title>
                <paragraph>Gamepads will not be detected until one of their button is pressed. Gamepads
                    might have the wrong mapping depending on the browser/OS/gamepad combination,
                    sadly the <reference name="Gamepad API" refuri="https://developer.mozilla.org/en-US/docs/Web/API/Gamepad_API/Using_the_Gamepad_API">Gamepad API</reference>
                    does not provide a reliable way to detect the gamepad information necessary
                    to remap them based on model/vendor/OS due to privacy considerations.</paragraph>
                <warning>
                    <paragraph>Requires a <reference internal="True" refid="doc-javascript-secure-contexts"><inline classes="std std-ref">secure context</inline></reference>.</paragraph>
                </warning>
                <target refid="doc-exporting-for-web-serving-the-files"></target>
            </section>
        </section>
        <section ids="serving-the-files doc-exporting-for-web-serving-the-files" names="serving\ the\ files doc_exporting_for_web_serving_the_files">
            <title>Serving the files</title>
            <paragraph>Exporting for the web generates several files to be served from a web server,
                including a default HTML page for presentation. A custom HTML file can be
                used, see <reference internal="True" refuri="../platform/web/customizing_html5_shell#doc-customizing-html5-shell"><inline classes="std std-ref">Custom HTML page for Web export</inline></reference>.</paragraph>
            <warning>
                <paragraph>Only when exporting with <strong>Use Threads</strong>, to ensure low audio latency and the
                    ability to use <reference internal="True" refuri="../../classes/class_thread#class-thread"><inline classes="std std-ref">Thread</inline></reference> in web exports, Godot 4 web exports use
                    <reference name="SharedArrayBuffer" refuri="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer">SharedArrayBuffer</reference>.
                    This requires a <reference internal="True" refid="doc-javascript-secure-contexts"><inline classes="std std-ref">secure context</inline></reference>,
                    while also requiring the following CORS headers to be set when serving the files:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">Cross-Origin-Opener-Policy: same-origin
Cross-Origin-Embedder-Policy: require-corp</literal_block>
                <paragraph>If you don't control the web server or are unable to add response headers,
                    check <strong>Progressive Web App &gt; Enable</strong> in the export options. This applies
                    a service worker-based workaround that allows the project to run by
                    simulating the presence of these response headers. A secure context
                    is still required in this case.</paragraph>
                <paragraph>If the client doesn't receive the required response headers or the service
                    worker-based workaround is not applied, <strong>the project will not run</strong>.</paragraph>
            </warning>
            <paragraph>The generated <literal>.html</literal> file can be used as <literal>DirectoryIndex</literal> in Apache
                servers and can be renamed to e.g. <literal>index.html</literal> at any time. Its name is
                never depended on by default.</paragraph>
            <paragraph>The HTML page draws the game at maximum size within the browser window.
                This way, it can be inserted into an <literal>&lt;iframe&gt;</literal> with the game's size, as is
                common on most web game hosting sites.</paragraph>
            <paragraph>The other exported files are served as they are, next to the <literal>.html</literal> file,
                names unchanged. The <literal>.wasm</literal> file is a binary WebAssembly module implementing
                the engine. The <literal>.pck</literal> file is the Godot main pack containing your game. The
                <literal>.js</literal> file contains start-up code and is used by the <literal>.html</literal> file to access
                the engine. The <literal>.png</literal> file contains the boot splash image.</paragraph>
            <paragraph>The <literal>.pck</literal> file is binary, usually delivered with the MIME-type
                <literal_emphasis classes="mimetype">application/octet-stream</literal_emphasis>. The <literal>.wasm</literal> file is delivered as
                <literal_emphasis classes="mimetype">application/wasm</literal_emphasis>.</paragraph>
            <warning>
                <paragraph>Delivering the WebAssembly module (<literal>.wasm</literal>) with a MIME-type
                    other than <literal_emphasis classes="mimetype">application/wasm</literal_emphasis> can prevent some start-up
                    optimizations.</paragraph>
            </warning>
            <paragraph>Delivering the files with server-side compression is recommended especially for
                the <literal>.pck</literal> and <literal>.wasm</literal> files, which are usually large in size. The
                WebAssembly module compresses particularly well, down to around a quarter of its
                original size with gzip compression. Consider using Brotli precompression if
                supported on your web server for further file size savings.</paragraph>
            <paragraph><strong>Hosts that provide on-the-fly compression:</strong> GitHub Pages (gzip)</paragraph>
            <paragraph><strong>Hosts that don't provide on-the-fly compression:</strong> itch.io, GitLab Pages
                (<reference name="supports manual gzip precompression" refuri="https://docs.gitlab.com/user/project/pages/introduction/#serving-compressed-assets">supports manual gzip precompression</reference>)</paragraph>
            <tip>
                <paragraph>The Godot repository includes a
                    <reference name="Python script to host a local web server" refuri="https://raw.githubusercontent.com/godotengine/godot/master/platform/web/serve.py">Python script to host a local web server</reference>.
                    This script is intended for testing the web editor, but it can also be used to test exported projects.</paragraph>
                <paragraph>Save the linked script to a file called <literal>serve.py</literal>, move this file to the
                    folder containing the exported project's <literal>index.html</literal>, then run the
                    following command in a command prompt within the same folder:</paragraph>
                <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve"># You may need to replace `python` with `python3` on some platforms.
python serve.py --root .</literal_block>
                <paragraph>On Windows, you can open a command prompt in the current folder by holding
                    <literal classes="kbd">Shift</literal> and right-clicking on empty space in Windows Explorer, then
                    choosing <strong>Open PowerShell window here</strong>.</paragraph>
                <paragraph>This will serve the contents of the current folder and open the default web
                    browser automatically.</paragraph>
                <paragraph>Note that for production use cases, this Python-based web server should not
                    be used. Instead, you should use an established web server such as Apache or
                    nginx.</paragraph>
            </tip>
        </section>
        <section ids="interacting-with-the-browser-and-javascript" names="interacting\ with\ the\ browser\ and\ javascript">
            <title>Interacting with the browser and JavaScript</title>
            <paragraph>See the <reference internal="True" refuri="../platform/web/javascript_bridge#doc-web-javascript-bridge"><inline classes="std std-ref">dedicated page</inline></reference> on how to interact
                with JavaScript and access some unique Web browser features.</paragraph>
        </section>
        <section ids="environment-variables" names="environment\ variables">
            <title>Environment variables</title>
            <paragraph>You can use the following environment variables to set export options outside of
                the editor. During the export process, these override the values that you set in
                the export menu.</paragraph>
            <table ids="id2">
                <title>HTML5 export environment variables</title>
                <tgroup cols="2">
                    <colspec colwidth="50"></colspec>
                    <colspec colwidth="50"></colspec>
                    <thead>
                        <row>
                            <entry>
                                <paragraph>Export option</paragraph>
                            </entry>
                            <entry>
                                <paragraph>Environment variable</paragraph>
                            </entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph>Encryption / Encryption Key</paragraph>
                            </entry>
                            <entry>
                                <paragraph><literal>GODOT_SCRIPT_ENCRYPTION_KEY</literal></paragraph>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
            <target refid="doc-exporting-for-web-troubleshooting"></target>
        </section>
        <section ids="troubleshooting doc-exporting-for-web-troubleshooting" names="troubleshooting doc_exporting_for_web_troubleshooting">
            <title>Troubleshooting</title>
            <section ids="running-the-export-locally-shows-another-project-instead" names="running\ the\ export\ locally\ shows\ another\ project\ instead">
                <title>Running the export locally shows another project instead</title>
                <paragraph>If you use one-click deploy in multiple projects, you may notice that one
                    of the projects you've previously deployed is shown instead of the project
                    you're currently working on. This is due to service worker caching which
                    currently lacks an automated cache busting mechanism.</paragraph>
                <paragraph>As a workaround, you can manually unregister the current service worker
                    so that the cache is reset. This also allows a new service worker to be registered.
                    In Chromium-based browsers, open the Developer Tools by pressing
                    <literal classes="kbd">F12</literal> or <literal classes="kbd">Ctrl + Shift + I</literal> (<literal classes="kbd">Cmd + Option + I</literal> on macOS),
                    then click on the Application tab in DevTools (it may be hidden behind a chevron
                    icon if the devtools pane is narrow). You can either check
                    <inline classes="role-button role-ui">Update on reload</inline> and reload the page, or click <inline classes="role-button role-ui">Unregister</inline>
                    next to the service worker that is currently registered, then reload the page.</paragraph>
                <figure align="center" ids="id3">
                    <image alt="Unregistering the service worker in Chromium-based browsers' DevTools" candidates="{'*': 'tutorials/export/img/exporting_for_web_reset_unregister_service_worker_chromium.webp'}" original_uri="img/exporting_for_web_reset_unregister_service_worker_chromium.webp" uri="tutorials/export/img/exporting_for_web_reset_unregister_service_worker_chromium.webp"></image>
                    <caption>Unregistering the service worker in Chromium-based browsers' DevTools</caption>
                </figure>
                <paragraph>The procedure is similar in Firefox. Open developer tools by pressing
                    <literal classes="kbd">F12</literal> or <literal classes="kbd">Ctrl + Shift + I</literal> (<literal classes="kbd">Cmd + Option + I</literal> on macOS),
                    click on the Application tab in DevTools (it may be hidden behind a chevron
                    icon if the devtools pane is narrow). Click <inline classes="role-button role-ui">Unregister</inline> next to the
                    service worker that is currently registered, then reload the page.</paragraph>
                <figure align="center" ids="id4">
                    <image alt="Unregistering the service worker in Firefox's DevTools" candidates="{'*': 'tutorials/export/img/exporting_for_web_reset_unregister_service_worker_firefox.webp'}" original_uri="img/exporting_for_web_reset_unregister_service_worker_firefox.webp" uri="tutorials/export/img/exporting_for_web_reset_unregister_service_worker_firefox.webp"></image>
                    <caption>Unregistering the service worker in Firefox's DevTools</caption>
                </figure>
            </section>
        </section>
        <section dupnames="export\ options" ids="id1">
            <title>Export options</title>
            <paragraph>You can find a full list of export options available in the
                <reference internal="True" refuri="../../classes/class_editorexportplatformweb#class-editorexportplatformweb"><inline classes="std std-ref">EditorExportPlatformWeb</inline></reference> class reference.</paragraph>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
