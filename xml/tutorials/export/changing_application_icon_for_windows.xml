<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.17.1 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/export/changing_application_icon_for_windows.rst" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-changing-application-icon-for-windows"></target>
    <section ids="changing-application-icon-for-windows doc-changing-application-icon-for-windows" names="changing\ application\ icon\ for\ windows 更改\ windows\ 的应用程序图标 doc_changing_application_icon_for_windows">
        <title>更改 Windows 的应用程序图标</title>
        <paragraph>默认情况下，导出项目的图标将是 Godot 图标。你很可能想要为你的项目更改它。在 Windows 上可以更改两种类型的图标：文件图标和任务栏图标。</paragraph>
        <section ids="creating-an-ico-file" names="creating\ an\ ico\ file 创建\ ico\ 文件">
            <title>创建 ICO 文件</title>
            <paragraph>Windows 无法使用 png 或 jpg 格式的应用图标。然而，它会使用 Windows专属的 ICO 格式。你可以在任何程序中创建应用图标，但需要用像 GIMP 这类程序转换成 ICO 文件。</paragraph>
            <paragraph><reference name="这个视频教程" refuri="https://www.youtube.com/watch?v=uqV3UfM-n5Y">这个视频教程</reference><target ids="id1" names="这个视频教程" refuri="https://www.youtube.com/watch?v=uqV3UfM-n5Y"></target>展示了怎么用 GIMP 导出 ICO 文件。</paragraph>
            <paragraph>也可以使用这个 <reference name="ImageMagick" refuri="https://www.imagemagick.org/">ImageMagick</reference><target ids="imagemagick" names="imagemagick" refuri="https://www.imagemagick.org/"></target> 命令，将 PNG 图像转换为 hiDPI 友好的 ICO 文件：</paragraph>
            <literal_block force="False" highlight_args="{}" language="none" linenos="False" xml:space="preserve">magick convert icon.png -define icon:auto-resize=256,128,64,48,32,16 icon.ico</literal_block>
            <paragraph>根据你所安装的 ImageMagick 的版本的不同，你可能会需要把 <literal>magick</literal> 去掉，运行以下命令：</paragraph>
            <literal_block force="False" highlight_args="{}" language="none" linenos="False" xml:space="preserve">convert icon.png -define icon:auto-resize=256,128,64,48,32,16 icon.ico</literal_block>
            <warning>
                <paragraph>为了使 ICO 文件有效地替换默认 Godot 图标，它必须包含默认 Godot 图标所包含的<emphasis>所有</emphasis>尺寸：16×16、32×32、48×48、64×64、128×128、256×256。如果该 ICO 文件未包含所有尺寸，没有被覆盖的尺寸将保留默认 Godot 图标。</paragraph>
                <paragraph>上面的 ImageMagick 命令考虑到了这一点。</paragraph>
            </warning>
        </section>
        <section ids="changing-the-taskbar-icon" names="changing\ the\ taskbar\ icon 更改任务栏图标">
            <title>更改任务栏图标</title>
            <paragraph>任务栏图标是项目运行时显示在任务栏上的图标。</paragraph>
            <image candidates="{'*': 'tutorials/export/img/icon_taskbar_icon.png'}" uri="tutorials/export/img/icon_taskbar_icon.png"></image>
            <paragraph>要更改任务栏图标，请前往<strong>项目 → 项目设置 → Application → Config → Windows Native Icon</strong>（应用程序 → 配置 → Windows 原生图标）。单击文件夹图标，然后选择所需的 ICO 文件。</paragraph>
            <image candidates="{'*': 'tutorials/export/img/icon_project_settings.png'}" uri="tutorials/export/img/icon_project_settings.png"></image>
            <paragraph>这个设置只会修改 Windows 导出的游戏图标。设置 macOS 的图标请使用 <literal>Macos Native Icon</literal>（macOS 原生图标）。其他平台请使用 <literal>Icon</literal>（图标）设置。</paragraph>
        </section>
        <section ids="changing-the-file-icon" names="changing\ the\ file\ icon 更改文件图标">
            <title>更改文件图标</title>
            <paragraph>从 Godot 3.5 开始，你可以使用 <reference name="godoticon" refuri="https://github.com/pkowal1982/godoticon">godoticon</reference> 来修改文件图标，无需外部工具。使用这种方法修改图标应该对内嵌 PCK 的可执行文件也有效。</paragraph>
            <warning>
                <paragraph>修改内嵌 PCK 文件的应用程序图标时存在<reference name="已知问题" refuri="https://github.com/godotengine/godot/issues/33466">已知问题</reference>。如果在“导出”对话框的 Windows 导出预设中勾选了 <strong>Embed Pck</strong> 选项，建议避免使用 rcedit。</paragraph>
            </warning>
            <paragraph>文件图标是你单击以启动游戏的可执行文件的图标。</paragraph>
            <image candidates="{'*': 'tutorials/export/img/icon_file_icon.png'}" uri="tutorials/export/img/icon_file_icon.png"></image>
            <paragraph>在导出选项中选择它之前，你需要额外安装一个名为 <strong>rcedit</strong> 的工具。你可以在<reference name="这里" refuri="https://github.com/electron/rcedit/releases">这里</reference><target ids="id1" names="这里" refuri="https://github.com/electron/rcedit/releases"></target>进行下载。</paragraph>
            <paragraph>下载后，你需要告诉 Godot 计算机上 rcedit 可执行文件的路径。请前往<strong>编辑器 → 编辑器设置 → Export → Windows</strong>。点击 <strong>rcedit</strong> 条目的文件夹图标。导航到并选择 rcedit 可执行文件。</paragraph>
            <note>
                <paragraph>Linux 和 macOS 用户还需要安装 <reference name="WINE" refuri="https://www.winehq.org/">WINE</reference><target ids="wine" names="wine" refuri="https://www.winehq.org/"></target> 才能使用 rcedit。</paragraph>
                <paragraph>On macOS 10.15 (Catalina) or later, make sure to use a 64-bit version of
                    both WINE and rcedit since 32-bit applications aren't supported anymore.</paragraph>
            </note>
            <image candidates="{'*': 'tutorials/export/img/icon_rcedit.png'}" uri="tutorials/export/img/icon_rcedit.png"></image>
            <paragraph>你现在应该已准备好所有内容来更改文件图标。为此，你需要在导出时指定图标。转到<strong>项目 → 导出</strong>。假设你已经创建了 Windows Desktop 预设，请在 <strong>Application → Icon</strong> 字段中选择 ICO 格式的图标。</paragraph>
            <warning>
                <paragraph>All the supplied metadata must be valid. Most importantly, the version
                    identifiers <strong>must</strong> take the form <literal>major.minor.patch.revision</literal> where
                    every component is required and is a positive integer. For instance,
                    <literal>1.2.0.0</literal> is valid but <literal>1.2.0</literal> is not.</paragraph>
                <paragraph>If you provide invalid metadata in the export preset, the application icon
                    won't change as rcedit will fail to change the executable's metadata.</paragraph>
            </warning>
            <image candidates="{'*': 'tutorials/export/img/icon_export_settings.png'}" uri="tutorials/export/img/icon_export_settings.png"></image>
            <note>
                <paragraph>如果 rcedit 修改图标失败，你可以在改变图标后<reference internal="True" refuri="../../contributing/development/compiling/compiling_for_windows#doc-compiling-for-windows"><inline classes="std std-ref">编译你自己的 Windows 导出模板</inline></reference>。实现方法是在编译导出模板<emphasis>之前</emphasis>用你自己的 ICO 文件替换 <reference name="platform/windows/godot.ico" refuri="https://github.com/godotengine/godot/blob/master/platform/windows/godot.ico">platform/windows/godot.ico</reference>。</paragraph>
                <paragraph>这样做之后，你就可以在项目的 Windows 导出预设中将你的导出模板指定为自定义导出模板。</paragraph>
            </note>
        </section>
        <section ids="testing-the-result" names="testing\ the\ result 测试结果">
            <title>测试结果</title>
            <paragraph>你现在可以导出项目了。如果一切正常，你应该看到：</paragraph>
            <image candidates="{'*': 'tutorials/export/img/icon_result.png'}" uri="tutorials/export/img/icon_result.png"></image>
            <note>
                <paragraph>如果你的图标没有正确显示，在 Windows 10 中，请尝试清理图标缓存。实现方法是打开<strong>运行</strong>对话框并输入 <literal>ie4uinit.exe -ClearIconCache</literal> 或 <literal>ie4uinit.exe -show</literal>。</paragraph>
            </note>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/zh_CN/?utm_source=widget"><image alt="翻译状态" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
