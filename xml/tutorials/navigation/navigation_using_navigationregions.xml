<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/navigation/navigation_using_navigationregions.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-navigation-using-navigationregions"></target>
    <section ids="using-navigationregions doc-navigation-using-navigationregions" names="using\ navigationregions doc_navigation_using_navigationregions">
        <title>Using NavigationRegions</title>
        <paragraph>NavigationRegions are the visual Node representation of a <strong>region</strong> of the navigation <strong>map</strong> on the NavigationServer.
            Each NavigationRegion node holds a resource for the navigation mesh data.</paragraph>
        <paragraph>Both 2D and 3D version are available as <reference internal="True" refuri="../../classes/class_navigationregion2d#class-navigationregion2d"><inline classes="std std-ref">NavigationRegion2D</inline></reference>
            and <reference internal="True" refuri="../../classes/class_navigationregion3d#class-navigationregion3d"><inline classes="std std-ref">NavigationRegion3D</inline></reference> respectively.</paragraph>
        <paragraph>Individual NavigationRegions upload their 2D NavigationPolygon or 3D NavigationMesh resource data to the NavigationServer.
            The NavigationServer map turns this information into a combined navigation map for pathfinding.</paragraph>
        <paragraph>To create a navigation region using the scene tree add a <literal>NavigationRegion2D</literal> or <literal>NavigationRegion3D</literal> node to the scene.
            All regions require a navigation mesh resource to function. See <reference internal="True" refuri="navigation_using_navigationmeshes#doc-navigation-using-navigationmeshes"><inline classes="std std-ref">Using navigation meshes</inline></reference> to learn how to create and apply navigation meshes.</paragraph>
        <paragraph>NavigationRegions will automatically push <literal>global_transform</literal> changes to the region on the NavigationServer which makes them suitable for moving platforms.
            The NavigationServer will attempt to connect the navigation meshes of individual regions when they are close enough. For more details see <reference internal="True" refuri="navigation_connecting_navmesh#doc-navigation-connecting-navmesh"><inline classes="std std-ref">Connecting navigation meshes</inline></reference>.
            To connect NavigationRegions over arbitrary distances see <reference internal="True" refuri="navigation_using_navigationlinks#doc-navigation-using-navigationlinks"><inline classes="std std-ref">Using NavigationLinks</inline></reference> to learn how to create and use <literal>NavigationLinks</literal>.</paragraph>
        <warning>
            <paragraph>While changing the transform of a NavigationRegion node does update the region position on the
                NavigationServer, changing the scale does not. A navigation mesh resource has no scale and needs
                to be fully updated when source geometry changes scale.</paragraph>
        </warning>
        <paragraph>Regions can be enabled / disabled and if disabled will not contribute to future pathfinding queries.</paragraph>
        <note>
            <paragraph>Existing paths will not be automatically updated when a region gets enabled / disabled.</paragraph>
        </note>
        <section ids="creating-new-navigation-regions" names="creating\ new\ navigation\ regions">
            <title>Creating new navigation regions</title>
            <paragraph>New NavigationRegion nodes will automatically register to the default world navigation map for their 2D/3D dimension.</paragraph>
            <paragraph>The region RID can then be obtained from NavigationRegion Nodes with <literal>get_rid()</literal>.</paragraph>
            <container classes="sphinx-tabs" type="tab-element">
                <div aria-label="Tabbed content" role="tablist">
                    <button aria-controls="panel-0-MkQgR0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-MkQgR0RTY3JpcHQ=" name="MkQgR0RTY3JpcHQ=" role="tab" tabindex="0">2D GDScript</button>
                    <button aria-controls="panel-0-MkQgQyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-MkQgQyM=" name="MkQgQyM=" role="tab" tabindex="-1">2D C#</button>
                    <button aria-controls="panel-0-M0QgR0RTY3JpcHQ=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-M0QgR0RTY3JpcHQ=" name="M0QgR0RTY3JpcHQ=" role="tab" tabindex="-1">3D GDScript</button>
                    <button aria-controls="panel-0-M0QgQyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-M0QgQyM=" name="M0QgQyM=" role="tab" tabindex="-1">3D C#</button>
                </div>
                <div aria-labelledby="tab-0-MkQgR0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-0-MkQgR0RTY3JpcHQ=" name="MkQgR0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">extends NavigationRegion2D

var navigationserver_region_rid: RID = get_rid()</literal_block>
                </div>
                <div aria-labelledby="tab-0-MkQgQyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-MkQgQyM=" name="MkQgQyM=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">public partial class MyNavigationRegion2D : NavigationRegion2D
{
    public override void _Ready()
    {
        Rid navigationServerRegionRid = GetRid();
    }
}</literal_block>
                </div>
                <div aria-labelledby="tab-0-M0QgR0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-M0QgR0RTY3JpcHQ=" name="M0QgR0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">extends NavigationRegion3D

var navigationserver_region_rid: RID = get_rid()</literal_block>
                </div>
                <div aria-labelledby="tab-0-M0QgQyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-M0QgQyM=" name="M0QgQyM=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">public partial class MyNavigationRegion3D : NavigationRegion3D
{
    public override void _Ready()
    {
        Rid navigationServerRegionRid = GetRid();
    }
}</literal_block>
                </div>
            </container>
            <paragraph>New regions can also be created with the NavigationServer API and added to any existing map.</paragraph>
            <paragraph>If regions are created with the NavigationServer API directly they need to be assigned a navigation map manually.</paragraph>
            <container classes="sphinx-tabs" type="tab-element">
                <div aria-label="Tabbed content" role="tablist">
                    <button aria-controls="panel-1-MkQgR0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-1-MkQgR0RTY3JpcHQ=" name="MkQgR0RTY3JpcHQ=" role="tab" tabindex="0">2D GDScript</button>
                    <button aria-controls="panel-1-MkQgQyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-1-MkQgQyM=" name="MkQgQyM=" role="tab" tabindex="-1">2D C#</button>
                    <button aria-controls="panel-1-M0QgR0RTY3JpcHQ=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-1-M0QgR0RTY3JpcHQ=" name="M0QgR0RTY3JpcHQ=" role="tab" tabindex="-1">3D GDScript</button>
                    <button aria-controls="panel-1-M0QgQyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-1-M0QgQyM=" name="M0QgQyM=" role="tab" tabindex="-1">3D C#</button>
                </div>
                <div aria-labelledby="tab-1-MkQgR0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-1-MkQgR0RTY3JpcHQ=" name="MkQgR0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">extends Node2D

func _ready() -&gt; void:
    var new_region_rid: RID = NavigationServer2D.region_create()
    var default_map_rid: RID = get_world_2d().get_navigation_map()
    NavigationServer2D.region_set_map(new_region_rid, default_map_rid)</literal_block>
                </div>
                <div aria-labelledby="tab-1-MkQgQyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-1-MkQgQyM=" name="MkQgQyM=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">public partial class MyNode2D : Node2D
{
    public override void _Ready()
    {
        Rid newRegionRid = NavigationServer2D.RegionCreate();
        Rid defaultMapRid = GetWorld2D().NavigationMap;
        NavigationServer2D.RegionSetMap(newRegionRid, defaultMapRid);
    }
}</literal_block>
                </div>
                <div aria-labelledby="tab-1-M0QgR0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-1-M0QgR0RTY3JpcHQ=" name="M0QgR0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">extends Node3D

func _ready() -&gt; void:
    var new_region_rid: RID = NavigationServer3D.region_create()
    var default_map_rid: RID = get_world_3d().get_navigation_map()
    NavigationServer3D.region_set_map(new_region_rid, default_map_rid)</literal_block>
                </div>
                <div aria-labelledby="tab-1-M0QgQyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-1-M0QgQyM=" name="M0QgQyM=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">public partial class MyNode3D : Node3D
{
    public override void _Ready()
    {
        Rid newRegionRid = NavigationServer3D.RegionCreate();
        Rid defaultMapRid = GetWorld3D().NavigationMap;
        NavigationServer3D.RegionSetMap(newRegionRid, defaultMapRid);
    }
}</literal_block>
                </div>
            </container>
            <note>
                <paragraph>Navigation regions can only be assigned to a single navigation map.
                    If an existing region is assigned to a new navigation map it will leave the old map.</paragraph>
            </note>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
