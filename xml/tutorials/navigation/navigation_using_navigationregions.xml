<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.17.1 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/navigation/navigation_using_navigationregions.rst" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-navigation-using-navigationregions"></target>
    <section ids="using-navigationregions doc-navigation-using-navigationregions" names="using\ navigationregions 使用导航区块（navigationregion） doc_navigation_using_navigationregions">
        <title>使用导航区块（NavigationRegion）</title>
        <paragraph>NavigationRegion 即导航区块，是对 NavigationServer 的导航<strong>地图</strong>中某个<strong>区块</strong>的可视化 Node 表示。每个 NavigationRegion 节点中都存放着导航网格数据资源。</paragraph>
        <paragraph>2D 和 3D 版本分别为 <reference internal="True" refuri="../../classes/class_navigationregion2d#class-navigationregion2d"><inline classes="std std-ref">NavigationRegion2D</inline></reference> 和 <reference internal="True" refuri="../../classes/class_navigationregion3d#class-navigationregion3d"><inline classes="std std-ref">NavigationRegion3D</inline></reference>。</paragraph>
        <paragraph>各个导航区域将其二维导航多边形或三维导航网格资源数据上传到导航服务器。导航服务器地图会将这些信息转化为用于寻路的组合导航地图。</paragraph>
        <paragraph>要使用场景树创建导航区域，请在场景中添加一个导航区块2D``NavigationRegion2D`` 或导航区块3D``NavigationRegion3D`` 节点。所有区域都需要导航网格资源才能运行。请参阅使用导航网格导航 <reference internal="True" refuri="navigation_using_navigationmeshes#doc-navigation-using-navigationmeshes"><inline classes="std std-ref">使用导航网格</inline></reference> 了解如何创建和应用导航网格。</paragraph>
        <paragraph>导航区块会自动将全局变换``global_transform``推送到导航服务器上的区块，使其适用于移动平台。当各个区域的导航网格足够接近时，导航服务器会尝试将它们连接起来。详情请参见连接导航网格 <reference internal="True" refuri="navigation_connecting_navmesh#doc-navigation-connecting-navmesh"><inline classes="std std-ref">连接导航网格</inline></reference>。要连接任意距离的导航区块，请参阅 使用导航链接 <inline classes="xref std std-ref">doc_navigation_using_navigationlinks`了解如何创建和使用导航链接``NavigationLinks`</inline>。</paragraph>
        <warning>
            <paragraph>改变导航区块节点的变换部件（transform）会更新导航服务器上的区块位置，但改变缩放比例则不会。导航网格资源没有缩放比例，因此当来源几何体缩放比例改变时需要完全更新。</paragraph>
        </warning>
        <paragraph>区块可以启用/禁用，如果禁用，则不会参与寻路查询。</paragraph>
        <note>
            <paragraph>启用/禁用区块时，现有路径不会自动更新。</paragraph>
        </note>
        <section ids="creating-new-navigation-regions" names="creating\ new\ navigation\ regions 新建导航区块">
            <title>新建导航区块</title>
            <paragraph>新的导航区块节点会在2D/3D 尺寸的默认世界导航地图上自动注册。</paragraph>
            <paragraph>然后就可以通过获取区块RID功能 <literal>get_region_rid()</literal> 从导航区块节点获取区域 RID。</paragraph>
            <container classes="sphinx-tabs" type="tab-element">
                <div aria-label="Tabbed content" role="tablist">
                    <button aria-controls="panel-0-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                </div>
                <div aria-labelledby="tab-0-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-0-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">extends NavigationRegion3D

var navigationserver_region_rid: RID = get_region_rid()</literal_block>
                </div>
            </container>
            <paragraph>还可以使用导航服务器接口创建新区块，并将其添加到任何现有地图中。</paragraph>
            <paragraph>如果直接使用导航服务器接口创建区块，则需要手动为其分配导航地图。</paragraph>
            <container classes="sphinx-tabs" type="tab-element">
                <div aria-label="Tabbed content" role="tablist">
                    <button aria-controls="panel-1-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-1-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                </div>
                <div aria-labelledby="tab-1-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-1-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">extends Node2D

var new_2d_region_rid: RID = NavigationServer2D.region_create()
var default_2d_map_rid: RID = get_world_2d().get_navigation_map()
NavigationServer2D.region_set_map(new_2d_region_rid, default_2d_map_rid)</literal_block>
                </div>
            </container>
            <container classes="sphinx-tabs" type="tab-element">
                <div aria-label="Tabbed content" role="tablist">
                    <button aria-controls="panel-2-R0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-2-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tab" tabindex="0">GDScript</button>
                </div>
                <div aria-labelledby="tab-2-R0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-2-R0RTY3JpcHQ=" name="R0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">extends Node3D

var new_3d_region_rid: RID = NavigationServer3D.region_create()
var default_3d_map_rid: RID = get_world_3d().get_navigation_map()
NavigationServer3D.region_set_map(new_3d_region_rid, default_3d_map_rid)</literal_block>
                </div>
            </container>
            <note>
                <paragraph>导航区块只能分配给一个导航地图。如果将现有区块分配到新地图，它就不属于旧地图了。</paragraph>
            </note>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/zh_CN/?utm_source=widget"><image alt="翻译状态" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
