<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/navigation/navigation_connecting_navmesh.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-navigation-connecting-navmesh"></target>
    <section ids="connecting-navigation-meshes doc-navigation-connecting-navmesh" names="connecting\ navigation\ meshes doc_navigation_connecting_navmesh">
        <title>Connecting navigation meshes</title>
        <paragraph>Different NavigationMeshes are automatically merged by the NavigationServer
            when at least two vertex positions of one edge exactly overlap.</paragraph>
        <paragraph>To connect over arbitrary distances see <reference internal="True" refuri="navigation_using_navigationlinks#doc-navigation-using-navigationlinks"><inline classes="std std-ref">Using NavigationLinks</inline></reference>.</paragraph>
        <image candidates="{'*': 'tutorials/navigation/img/navigation_vertex_merge.png'}" original_uri="img/navigation_vertex_merge.png" uri="tutorials/navigation/img/navigation_vertex_merge.png"></image>
        <paragraph>The same is true for multiple NavigationPolygon resources. As long as their
            outline points overlap exactly the NavigationServer will merge them.
            NavigationPolygon outlines must be from different NavigationPolygon resources to connect.</paragraph>
        <paragraph>Overlapping or intersecting outlines on the same NavigationPolygon
            will fail the navigation mesh creation. Overlapping or intersecting
            outlines from different NavigationPolygons will often fail to create the
            navigation region edge connections on the NavigationServer and should be avoided.</paragraph>
        <image candidates="{'*': 'tutorials/navigation/img/navigation_vertex_merge2.png'}" original_uri="img/navigation_vertex_merge2.png" uri="tutorials/navigation/img/navigation_vertex_merge2.png"></image>
        <warning>
            <paragraph>Exactly means exactly for the vertex position merge. Small float errors
                that happen quite regularly with imported meshes will prevent a successful vertex merge.</paragraph>
        </warning>
        <paragraph>Alternatively navigation meshes are not merged but still considered as <strong>connected</strong> by
            the NavigationServer when their edges are nearly parallel and within distance
            to each other. The connection distance is defined by the  <literal>edge_connection_margin</literal> for each
            navigation map. In many cases navigation mesh edges cannot properly connect when they partly overlap.
            Better avoid any navigation mesh overlap at all time for a consistent merge behavior.</paragraph>
        <image candidates="{'*': 'tutorials/navigation/img/navigation_edge_connection.png'}" original_uri="img/navigation_edge_connection.png" uri="tutorials/navigation/img/navigation_edge_connection.png"></image>
        <paragraph>If navigation debug is enabled and the NavigationServer active the established navigation mesh connections will be visualized.
            See <reference internal="True" refuri="navigation_debug_tools#doc-navigation-debug-tools"><inline classes="std std-ref">Navigation debug tools</inline></reference> for more info about navigation debug options.</paragraph>
        <paragraph>The default 2D <literal>edge_connection_margin</literal> can be changed in the ProjectSettings under <literal>navigation/2d/default_edge_connection_margin</literal>.</paragraph>
        <paragraph>The default 3D <literal>edge_connection_margin</literal> can be changed in the ProjectSettings under <literal>navigation/3d/default_edge_connection_margin</literal>.</paragraph>
        <paragraph>The edge connection margin value of any navigation map can also be changed at runtime with the NavigationServer API.</paragraph>
        <container classes="sphinx-tabs" type="tab-element">
            <div aria-label="Tabbed content" role="tablist">
                <button aria-controls="panel-0-MkQgR0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-MkQgR0RTY3JpcHQ=" name="MkQgR0RTY3JpcHQ=" role="tab" tabindex="0">2D GDScript</button>
                <button aria-controls="panel-0-MkQgQyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-MkQgQyM=" name="MkQgQyM=" role="tab" tabindex="-1">2D C#</button>
                <button aria-controls="panel-0-M0QgR0RTY3JpcHQ=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-M0QgR0RTY3JpcHQ=" name="M0QgR0RTY3JpcHQ=" role="tab" tabindex="-1">3D GDScript</button>
                <button aria-controls="panel-0-M0QgQyM=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-M0QgQyM=" name="M0QgQyM=" role="tab" tabindex="-1">3D C#</button>
            </div>
            <div aria-labelledby="tab-0-MkQgR0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-0-MkQgR0RTY3JpcHQ=" name="MkQgR0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">extends Node2D

func _ready() -&gt; void:
    # 2D margins are designed to work with 2D "pixel" values.
    var default_map_rid: RID = get_world_2d().get_navigation_map()
    NavigationServer2D.map_set_edge_connection_margin(default_map_rid, 50.0)</literal_block>
            </div>
            <div aria-labelledby="tab-0-MkQgQyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-MkQgQyM=" name="MkQgQyM=" role="tabpanel" tabindex="0">
                <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">using Godot;

public partial class MyNode2D : Node2D
{
    public override void _Ready()
    {
        // 2D margins are designed to work with 2D "pixel" values.
        Rid defaultMapRid = GetWorld2D().NavigationMap;
        NavigationServer2D.MapSetEdgeConnectionMargin(defaultMapRid, 50.0f);
    }
}</literal_block>
            </div>
            <div aria-labelledby="tab-0-M0QgR0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-M0QgR0RTY3JpcHQ=" name="M0QgR0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">extends Node3D

func _ready() -&gt; void:
    # 3D margins are designed to work with 3D world unit values.
    var default_map_rid: RID = get_world_3d().get_navigation_map()
    NavigationServer3D.map_set_edge_connection_margin(default_map_rid, 0.5)</literal_block>
            </div>
            <div aria-labelledby="tab-0-M0QgQyM=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-M0QgQyM=" name="M0QgQyM=" role="tabpanel" tabindex="0">
                <literal_block force="False" highlight_args="{}" language="csharp" linenos="False" xml:space="preserve">using Godot;

public partial class MyNode3D : Node3D
{
    public override void _Ready()
    {
        // 3D margins are designed to work with 3D world unit values.
        Rid defaultMapRid = GetWorld3D().NavigationMap;
        NavigationServer3D.MapSetEdgeConnectionMargin(defaultMapRid, 0.5f);
    }
}</literal_block>
            </div>
        </container>
        <note>
            <paragraph>Changing the edge connection margin will trigger a full update of all navigation mesh connections on the NavigationServer.</paragraph>
        </note>
        <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
    </section>
</document>
