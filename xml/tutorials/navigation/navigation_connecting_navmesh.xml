<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.17.1 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/navigation/navigation_connecting_navmesh.rst" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-navigation-connecting-navmesh"></target>
    <section ids="connecting-navigation-meshes doc-navigation-connecting-navmesh" names="connecting\ navigation\ meshes 连接导航网格 doc_navigation_connecting_navmesh">
        <title>连接导航网格</title>
        <paragraph>如果不同的 NavigationMesh 至少有一条边的两个顶点位于完全重合的位置，那么 NavigationServer 就会自动将这两个网格合并。</paragraph>
        <paragraph>要连接任意距离的两个位置，见 <reference internal="True" refuri="navigation_using_navigationlinks#doc-navigation-using-navigationlinks"><inline classes="std std-ref">使用 NavigationLink</inline></reference>。</paragraph>
        <image candidates="{'*': 'tutorials/navigation/img/navigation_vertex_merge.png'}" uri="tutorials/navigation/img/navigation_vertex_merge.png"></image>
        <paragraph>对于多个NavigationPolygon资源也是如此。只要它们的轮廓点完全重叠，导览服务器就会合并它们。NavigationPolygon轮廓必须来自不同的NavigationPolygon资源才能连接。</paragraph>
        <paragraph>同一NavigationPolygon上的重叠或相交轮廓将导致导览网格建立失败。来自不同导览多边形的重叠或相交轮廓通常无法在导览服务器上建立导览区域边缘连接，因此应避免。</paragraph>
        <image candidates="{'*': 'tutorials/navigation/img/navigation_vertex_merge2.png'}" uri="tutorials/navigation/img/navigation_vertex_merge2.png"></image>
        <warning>
            <paragraph>精确意味着精确地进行顶点位置合并。汇入的网格经常发生的小 float 错误将阻止成功的顶点合并。</paragraph>
        </warning>
        <paragraph>或者，当导航网格的边几乎平行且彼此相距一定距离时，导航服务器不会合并导航网格，但仍将其视为**连接**。连接距离由每个导航地图的“edge_connectionmargin”定义。在许多情况下，导航网格边在部分重叠时无法正确连接。为了实现一致的合并行为，最好始终避免任何导航网格重叠。</paragraph>
        <image candidates="{'*': 'tutorials/navigation/img/navigation_edge_connection.png'}" uri="tutorials/navigation/img/navigation_edge_connection.png"></image>
        <paragraph>如果启用了导览调试并且导览服务器处于活动状态，则已建立的导览网格联机将可视化。有关导览调试选项的更多信息，请参阅 <reference internal="True" refuri="navigation_debug_tools#doc-navigation-debug-tools"><inline classes="std std-ref">导航调试工具</inline></reference> 。</paragraph>
        <paragraph>默认的 2D <literal>edge_connection_margin</literal> 可以在 ProjectSettings 的 <literal>navigation/2d/default_edge_connection_margin</literal> 中修改。</paragraph>
        <paragraph>默认的 3D <literal>edge_connection_margin</literal> 可以在 ProjectSettings 的 <literal>navigation/3d/default_edge_connection_margin</literal> 中修改。</paragraph>
        <paragraph>任何导览地图的边缘联机边距值也可以在执行时使用NavigationServer API进行变更。</paragraph>
        <container classes="sphinx-tabs" type="tab-element">
            <div aria-label="Tabbed content" role="tablist">
                <button aria-controls="panel-0-MkQgR0RTY3JpcHQ=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-MkQgR0RTY3JpcHQ=" name="MkQgR0RTY3JpcHQ=" role="tab" tabindex="0">2D GDScript</button>
                <button aria-controls="panel-0-M0QgR0RTY3JpcHQ=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-M0QgR0RTY3JpcHQ=" name="M0QgR0RTY3JpcHQ=" role="tab" tabindex="-1">3D GDScript</button>
            </div>
            <div aria-labelledby="tab-0-MkQgR0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-0-MkQgR0RTY3JpcHQ=" name="MkQgR0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">extends Node2D

func _ready() -&gt; void:
    # 2D margins are designed to work with 2D "pixel" values.
    var default_map_rid: RID = get_world_2d().get_navigation_map()
    NavigationServer2D.map_set_edge_connection_margin(default_map_rid, 50.0)</literal_block>
            </div>
            <div aria-labelledby="tab-0-M0QgR0RTY3JpcHQ=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-M0QgR0RTY3JpcHQ=" name="M0QgR0RTY3JpcHQ=" role="tabpanel" tabindex="0">
                <literal_block force="False" highlight_args="{}" language="gdscript" linenos="False" xml:space="preserve">extends Node3D

func _ready() -&gt; void:
    # 3D margins are designed to work with 3D world unit values.
    var default_map_rid: RID = get_world_3d().get_navigation_map()
    NavigationServer3D.map_set_edge_connection_margin(default_map_rid, 0.5)</literal_block>
            </div>
        </container>
        <note>
            <paragraph>更改边缘连接边距将触发导览服务器上所有导览网格连接的完整更新。</paragraph>
        </note>
        <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/zh_CN/?utm_source=widget"><image alt="翻译状态" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
    </section>
</document>
