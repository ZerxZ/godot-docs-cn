<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/3d/physical_light_and_camera_units.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-physical-light-and-camera-units"></target>
    <section ids="physical-light-and-camera-units doc-physical-light-and-camera-units" names="physical\ light\ and\ camera\ units doc_physical_light_and_camera_units">
        <title>Physical light and camera units</title>
        <section ids="why-use-physical-light-and-camera-units" names="why\ use\ physical\ light\ and\ camera\ units?">
            <title>Why use physical light and camera units?</title>
            <paragraph>Godot uses arbitrary units for many physical properties that apply to light like
                color, energy, camera field of view, and exposure. By default, these properties
                use arbitrary units, because using accurate physical units comes with a few
                tradeoffs that aren't worth it for many games. As Godot favors ease of use by
                default, physical light units are disabled by default.</paragraph>
            <section ids="advantages-of-physical-units" names="advantages\ of\ physical\ units">
                <title>Advantages of physical units</title>
                <paragraph>If you aim for photorealism in your project, using real world units as a basis
                    can help make things easier to adjust. References for real world materials,
                    lights and scene brightness are wildly available on websites such as
                    <reference name="Physically Based" refuri="https://physicallybased.info/">Physically Based</reference>.</paragraph>
                <paragraph>Using real world units in Godot can also be useful when porting a scene from
                    other 3D software that uses physical light units (such as Blender).</paragraph>
            </section>
            <section ids="disadvantages-of-physical-units" names="disadvantages\ of\ physical\ units">
                <title>Disadvantages of physical units</title>
                <paragraph>The biggest disadvantage of using physical light units is you will have to pay
                    close attention to the dynamic range in use at a given time. You can run into
                    floating point precision errors when mixing very high light intensities with
                    very low light intensities.</paragraph>
                <paragraph>In practice, this means that you will have to manually manage your exposure
                    settings to ensure that you aren't over-exposing or under-exposing your scene
                    too much. Auto-exposure can help you balance the light in a scene to bring it
                    into a normal range, but it can't recover lost precision from a dynamic range
                    that is too high.</paragraph>
                <paragraph>Using physical light and camera units will not automatically make your project
                    look <emphasis>better</emphasis>. Sometimes, moving away from realism can actually make a scene
                    look better to the human eye. Also, using physical units requires a greater
                    amount of rigor compared to non-physical units. Most benefits of physical units
                    can only be obtained if the units are correctly set to match real world
                    reference.</paragraph>
                <note>
                    <paragraph>Physical light units are only available in 3D rendering, not 2D.</paragraph>
                </note>
            </section>
        </section>
        <section ids="setting-up-physical-light-units" names="setting\ up\ physical\ light\ units">
            <title>Setting up physical light units</title>
            <paragraph>Physical light units can be enabled separately from physical camera units.</paragraph>
            <paragraph>To enable physical light units correctly, there are 4 steps required:</paragraph>
            <enumerated_list enumtype="arabic" prefix="" suffix=".">
                <list_item>
                    <paragraph>Enable the project setting.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Configure the camera.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Configure the environment.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Configure Light3D nodes.</paragraph>
                </list_item>
            </enumerated_list>
            <paragraph>Since physical light and camera units only require a handful of calculations to
                handle unit conversion, enabling them doesn't have any noticeable performance
                impact on the CPU. However, on the GPU side, physical camera units currently
                enforce depth of field. This has a moderate performance impact. To alleviate
                this performance impact, depth of field quality can be decreased in the advanced
                Project Settings.</paragraph>
            <section ids="enable-the-project-setting" names="enable\ the\ project\ setting">
                <title>Enable the project setting</title>
                <paragraph>Open the Project Settings, enable the <strong>Advanced</strong> toggle then enable
                    <strong>Rendering &gt; Lights And Shadows &gt; Use Physical Light Units</strong>. Restart the editor.</paragraph>
            </section>
            <section ids="configure-the-camera" names="configure\ the\ camera">
                <title>Configure the camera</title>
                <warning>
                    <paragraph>When physical light units are enabled and if you have a WorldEnvironment
                        node in your scene (i.e. the editor Environment is disabled), you <strong>must</strong>
                        have a <reference internal="True" refuri="../../classes/class_cameraattributes#class-cameraattributes"><inline classes="std std-ref">CameraAttributes</inline></reference> resource assigned to the
                        WorldEnvironment node. Otherwise, the 3D editor viewport will appear
                        extremely bright if you have a visible DirectionalLight3D node.</paragraph>
                </warning>
                <paragraph>On the Camera3D node, you can add a <reference internal="True" refuri="../../classes/class_cameraattributes#class-cameraattributes"><inline classes="std std-ref">CameraAttributes</inline></reference>
                    resource to its <strong>Attributes</strong> property. This resource is used to control the
                    camera's depth of field and exposure. When using
                    <reference internal="True" refuri="../../classes/class_cameraattributesphysical#class-cameraattributesphysical"><inline classes="std std-ref">CameraAttributesPhysical</inline></reference>, its focal length property is also used to
                    adjust the camera's field of view.</paragraph>
                <paragraph>When physical light units are enabled, the following additional properties
                    become available in CameraAttributesPhysical's <strong>Exposure</strong> section:</paragraph>
                <bullet_list bullet="-">
                    <list_item>
                        <paragraph><strong>Aperture:</strong> The size of the aperture of the camera, measured in f-stops. An
                            f-stop is a unitless ratio between the focal length of the camera and the
                            diameter of the aperture. A high aperture setting will result in a smaller
                            aperture which leads to a dimmer image and sharper focus. A low aperture
                            results in a wide aperture which lets in more light resulting in a brighter,
                            less-focused image.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph><strong>Shutter Speed:</strong> The time for shutter to open and close, measured in
                            <emphasis>inverse seconds</emphasis> (<literal>1/N</literal>). A lower value will let in more light leading to a
                            brighter image, while a higher value will let in less light leading to a
                            darker image. <emphasis>When getting or setting this property with a script, the unit
                                is in seconds instead of inverse seconds.</emphasis></paragraph>
                    </list_item>
                    <list_item>
                        <paragraph><strong>Sensitivity:</strong> The sensitivity of camera sensors, measured in ISO. A higher
                            sensitivity results in a brighter image. When auto exposure is enabled, this
                            can be used as a method of exposure compensation. Doubling the value will
                            increase the exposure value (measured in EV100) by 1 stop.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph><strong>Multiplier:</strong> A <emphasis>non-physical</emphasis> exposure multiplier. Higher values will
                            increase the scene's brightness. This can be used for post-processing
                            adjustments or for animation purposes.</paragraph>
                    </list_item>
                </bullet_list>
                <paragraph>The default <strong>Aperture</strong> value of 16 f-stops is appropriate for outdoors at
                    daytime (i.e. for use with a default DirectionalLight3D). For indoor lighting, a
                    value between 2 and 4 is more appropriate.</paragraph>
                <paragraph>Typical shutter speed used in photography and movie production is 1/50 (0.02
                    seconds). Night-time photography generally uses a shutter around 1/10 (0.1
                    seconds), while sports photography uses a shutter speed between 1/250 (0.004
                    seconds) and 1/1000 (0.001 seconds) to reduce motion blur.</paragraph>
                <paragraph>In real life, sensitivity is usually set between 50 ISO and 400 ISO for daytime
                    outdoor photography depending on weather conditions. Higher values are used for
                    indoor or night-time photography.</paragraph>
                <note>
                    <paragraph>Unlike real life cameras, the adverse effects of increasing ISO sensitivity
                        or decreasing shutter speed (such as visible grain or light trails) are not
                        simulated in Godot.</paragraph>
                </note>
                <paragraph>See <reference internal="True" refid="doc-physical-light-and-camera-units-setting-up-physical-camera-units"><inline classes="std std-ref">Setting up physical camera units</inline></reference>
                    for a description of CameraAttributesPhysical properties that are also available when
                    <strong>not</strong> using physical light units.</paragraph>
            </section>
            <section ids="configure-the-environment" names="configure\ the\ environment">
                <title>Configure the environment</title>
                <warning>
                    <paragraph>The default configuration is designed for daytime outdoor scenes. Night-time
                        and indoor scenes will need adjustments to the DirectionalLight3D and
                        WorldEnvironment background intensity to look correct. Otherwise, positional
                        lights will be barely visible at their default intensity.</paragraph>
                </warning>
                <paragraph>If you haven't added a <reference internal="True" refuri="../../classes/class_worldenvironment#class-worldenvironment"><inline classes="std std-ref">WorldEnvironment</inline></reference> and <reference internal="True" refuri="../../classes/class_camera3d#class-camera3d"><inline classes="std std-ref">Camera3D</inline></reference>
                    node to the current scene yet, do so now by clicking the 3 vertical dots at the
                    top of the 3D editor viewport. Click <strong>Add Sun to Scene</strong>, open the dialog again
                    then click <strong>Add Environment to Scene</strong>.</paragraph>
                <paragraph>After enabling physical light units, a new property becomes available to edit in
                    the <reference internal="True" refuri="../../classes/class_environment#class-environment"><inline classes="std std-ref">Environment</inline></reference> resource:</paragraph>
                <bullet_list bullet="-">
                    <list_item>
                        <paragraph><strong>Background Intensity:</strong> The background sky's intensity in
                            <reference name="nits" refuri="https://en.wikipedia.org/wiki/Candela_per_square_metre">nits</reference>
                            (candelas per square meter). This also affects ambient and reflected light if
                            their respective modes are set to <strong>Background</strong>. If a custom <strong>Background Energy</strong>
                            is set, this energy is multiplied by the intensity.</paragraph>
                    </list_item>
                </bullet_list>
            </section>
            <section ids="configure-the-light-nodes" names="configure\ the\ light\ nodes">
                <title>Configure the light nodes</title>
                <paragraph>After enabling physical light units, 2 new properties become available in Light3D nodes:</paragraph>
                <bullet_list bullet="-">
                    <list_item>
                        <paragraph><strong>Intensity:</strong> The light's intensity in <reference name="lux" refuri="https://en.wikipedia.org/wiki/Lux">lux</reference> (DirectionalLight3D) or
                            <reference name="lumens" refuri="https://en.wikipedia.org/wiki/Lumen_(unit)">lumens</reference> (OmniLight3D/SpotLight3D).
                            If a custom <strong>Energy</strong> is set, this energy is multiplied by the intensity.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph><strong>Temperature:</strong> The light's <emphasis>color temperature</emphasis> defined in Kelvin.
                            If a custom <strong>Color</strong> is set, this color is multiplied by the color temperature.</paragraph>
                    </list_item>
                </bullet_list>
                <paragraph><strong>OmniLight3D/SpotLight3D intensity</strong></paragraph>
                <paragraph>Lumens are a measure of luminous flux, which is the total amount of visible
                    light emitted by a light source per unit of time.</paragraph>
                <paragraph>For SpotLight3Ds, we assume that the area outside the visible cone is surrounded
                    by a perfect light absorbing material. Accordingly, the apparent brightness of
                    the cone area does <emphasis>not</emphasis> change as the cone increases and decreases in size.</paragraph>
                <paragraph>A typical household lightbulb can range from around 600 lumens to 1200 lumens.
                    A candle is about 13 lumens, while a streetlight can be approximately 60000 lumens.</paragraph>
                <paragraph><strong>DirectionalLight3D intensity</strong></paragraph>
                <paragraph>Lux is a measure pf luminous flux per unit area, it is equal to one lumen per
                    square metre. Lux is the measure of how much light hits a surface at a given
                    time.</paragraph>
                <paragraph>With DirectionalLight3D, on a clear sunny day, a surface in direct sunlight may
                    receive approximately 100000 lux. A typical room in a home may receive
                    approximately 50 lux, while the moonlit ground may receive approximately 0.1
                    lux.</paragraph>
                <paragraph><strong>Color temperature</strong></paragraph>
                <paragraph>6500 Kelvin is white. Higher values result in colder (bluer) colors, while lower
                    values result in warmer (more orange) colors.</paragraph>
                <paragraph>The sun on a cloudy day is approximately 6500 Kelvin. On a clear day, the sun is
                    between 5500 to 6000 Kelvin. On a clear day at sunrise or sunset, the sun ranges
                    to around 1850 Kelvin.</paragraph>
                <figure align="center" ids="id1">
                    <image alt="Color temperature chart from 1,000 Kelvin (left) to 12,500 Kelvin (right)" candidates="{'*': 'tutorials/3d/img/physical_light_units_color_temperature_chart.webp'}" original_uri="img/physical_light_units_color_temperature_chart.webp" uri="tutorials/3d/img/physical_light_units_color_temperature_chart.webp"></image>
                    <caption>Color temperature chart from 1,000 Kelvin (left) to 12,500 Kelvin (right)</caption>
                </figure>
                <paragraph>Other Light3D properties such as <strong>Energy</strong> and <strong>Color</strong> remain editable for
                    animation purposes, and when you occasionally need to create lights with
                    non-realistic properties.</paragraph>
                <target refid="doc-physical-light-and-camera-units-setting-up-physical-camera-units"></target>
            </section>
        </section>
        <section ids="setting-up-physical-camera-units doc-physical-light-and-camera-units-setting-up-physical-camera-units" names="setting\ up\ physical\ camera\ units doc_physical_light_and_camera_units_setting_up_physical_camera_units">
            <title>Setting up physical camera units</title>
            <paragraph>Physical camera units can be enabled separately from physical light units.</paragraph>
            <paragraph>After adding a <reference internal="True" refuri="../../classes/class_cameraattributesphysical#class-cameraattributesphysical"><inline classes="std std-ref">CameraAttributesPhysical</inline></reference> resource to the <strong>Camera
                    Attributes</strong> property of a Camera3D nodes, some properties such as <strong>FOV</strong> will
                no longer be editable. Instead, these properties are now governed by the
                CameraAttributesPhysical's properties, such as focal length and aperture.</paragraph>
            <paragraph>CameraAttributesPhysical offers the following properties in its <strong>Frustum</strong> section:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><strong>Focus Distance:</strong> Distance from camera of object that will be in focus,
                        measured in meters. Internally, this will be clamped to be at least 1
                        millimeter larger than the <strong>Focal Length</strong>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Focal Length:</strong> Distance between camera lens and camera aperture, measured
                        in millimeters. Controls field of view and depth of field. A larger focal
                        length will result in a smaller field of view and a narrower depth of field
                        meaning fewer objects will be in focus. A smaller focal length will result in
                        a wider field of view and a larger depth of field, which means more objects will be
                        in focus. This property overrides the Camera3D's <strong>FOV</strong> and <strong>Keep Aspect</strong>
                        properties, making them read-only in the inspector.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Near/Far:</strong> The near and far clip distances in meters. These behave the same
                        as the Camera3D properties of the same name. Lower <strong>Near</strong> values allow the
                        camera to display objects that are very close, at the cost of potential
                        precision (Z-fighting) issues in the distance. Higher <strong>Far</strong> values allow the
                        camera to see further away, also at the cost of potential precision
                        (Z-fighting) issues in the distance.</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>The default focal length of 35 mm corresponds to a wide angle lens. It still
                results in a field of view that is noticeably narrower compared to the default
                "practical" vertical FOV of 75 degrees. This is because non-gaming use cases
                such as filmmaking and photography favor using a narrower field of view for a
                more cinematic appearance.</paragraph>
            <paragraph>Common focal length values used in filmmaking and photography are:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><strong>Fisheye (ultrawide angle):</strong> Below 15 mm. Nearly no depth of field visible.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Wide angle:</strong> Between 15 mm and 50 mm. Reduced depth of field.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Standard:</strong> Between 50 mm and 100 mm. Standard depth of field.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Telephoto:</strong> Greater than 100 mm. Increased depth of field.</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>Like when using the <strong>Keep Height</strong> aspect mode, the effective field of view
                depends on the viewport's aspect ratio, with wider aspect ratios automatically
                resulting in a wider <emphasis>horizontal</emphasis> field of view.</paragraph>
            <paragraph>Automatic exposure adjustment based on the camera's average brightness level can
                also be enabled in the <strong>Auto Exposure</strong> section, with the following properties:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><strong>Min Sensitivity:</strong> The darkest brightness the camera is allowed to get to,
                        measured in EV100.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Max Sensitivity:</strong> The brightest the camera is allowed to get to, measured in EV100.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Speed:</strong> The speed of the auto exposure effect. Affects the time needed for
                        the camera to perform auto exposure. Higher values allow for faster
                        transitions, but the resulting adjustments may look distracting depending on
                        the scene.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><strong>Scale:</strong> The scale of the auto exposure effect. Affects the intensity of
                        auto exposure.</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>EV100 is an exposure value (EV) measured at an ISO sensitivity of 100. See
                <reference name="this table" refuri="https://en.wikipedia.org/wiki/Exposure_value#Tabulated_exposure_values">this table</reference>
                for common EV100 values found in real life.</paragraph>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
