<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/3d/particles/trails.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-3d-particles-trails"></target>
    <section ids="d-particle-trails doc-3d-particles-trails" names="3d\ particle\ trails doc_3d_particles_trails">
        <title>3D Particle trails</title>
        <figure>
            <image alt="Particle trails" candidates="{'*': 'tutorials/3d/particles/img/particle_trails.webp'}" original_uri="img/particle_trails.webp" uri="tutorials/3d/particles/img/particle_trails.webp"></image>
        </figure>
        <figure align="right" ids="id1">
            <image alt="Particle trail params" candidates="{'*': 'tutorials/3d/particles/img/particle_trail_params.webp'}" original_uri="img/particle_trail_params.webp" uri="tutorials/3d/particles/img/particle_trail_params.webp"></image>
            <caption>Setting up particle trails</caption>
        </figure>
        <paragraph>Godot provides several types of trails you can add to a particle system. Before you can
            work with trails, you need to set up a couple of parameters first. Create a new particle
            system and assign a process material <reference internal="True" refuri="creating_a_3d_particle_system#doc-creating-3d-particle-system"><inline classes="std std-ref">as described before</inline></reference>.
            In the <literal>Trails</literal> group of the particle system, check the box next to <literal>Enabled</literal> and
            increase the emission duration by setting <literal>Lifetime</literal> to something like <literal>0.8</literal>. On
            the process material, set <literal>Direction</literal> to <literal>(X=0,Y=1.0,Z=0)</literal> and <literal>Initial Velocity</literal> to
            <literal>10.0</literal> for both <literal>Min</literal> and <literal>Max</literal>.</paragraph>
        <paragraph>The only thing that's still missing is a mesh for the draw pass. The type of mesh that you
            set here controls what kind of particle trail you will end up with.</paragraph>
        <section ids="ribbon-trails" names="ribbon\ trails">
            <title>Ribbon trails</title>
            <figure align="right" ids="id2">
                <image alt="Particle ribbon" candidates="{'*': 'tutorials/3d/particles/img/particle_ribbon_mesh.webp'}" original_uri="img/particle_ribbon_mesh.webp" uri="tutorials/3d/particles/img/particle_ribbon_mesh.webp"></image>
                <caption>Important ribbon mesh parameters</caption>
            </figure>
            <paragraph>The simplest type of particle trail is the ribbon trail. Navigate to the <literal>Draw Passes</literal>
                section and select <literal>New RibbonTrailMesh</literal> from the options for <literal>Pass 1</literal>. A
                <reference internal="True" refuri="../../../classes/class_ribbontrailmesh#class-ribbontrailmesh"><inline classes="std std-ref">RibbonTrailMesh</inline></reference> is a simple quad that is divided into
                sections and then stretched and repeated along those sections.</paragraph>
            <paragraph>Assign a new <reference internal="True" refuri="../standard_material_3d#doc-standard-material-3d"><inline classes="std std-ref">Standard Material</inline></reference> to the <literal>Material</literal>
                property and enable <literal>Use Particle Trails</literal> in the <literal>Transform</literal> property group. The
                particles should now be emitting in trails.</paragraph>
            <paragraph>You have two options for the ribbon mesh <literal>Shape</literal> parameter. <literal>Cross</literal> creates two
                perpendicular quads, making the particle trail a little more three-dimensional. This
                really only makes sense if you don't draw the trails in <literal>Particle Billboard</literal> mode
                and helps when looking at the particles from different angles. The <literal>Flat</literal> option
                limits the mesh to a single quad and works best with billboard particles.</paragraph>
            <paragraph>The <literal>Size</literal> parameter controls the trail's width. Use it to make trails wider or
                more narrow.</paragraph>
            <paragraph><literal>Sections</literal>, <literal>Section Length</literal> and <literal>Section Segments</literal> all work together to
                control how smooth the particle trail looks. When a particle trail does not travel
                in a straight line, the more sections it has the smoother it looks as it bends and swirls.
                <literal>Section Length</literal> controls the length of each section. Multiply this value by
                the number of sections to know the trail's total length.</paragraph>
            <figure ids="id3">
                <image alt="Particle ribbon sections" candidates="{'*': 'tutorials/3d/particles/img/particle_ribbon_sections.webp'}" original_uri="img/particle_ribbon_sections.webp" uri="tutorials/3d/particles/img/particle_ribbon_sections.webp"></image>
                <caption>3 sections, 1m section length (left) vs. 12 sections, 0.25m section length (right). Notice how the total length of the trails stays the same.</caption>
            </figure>
            <paragraph>The <literal>Section Segments</literal> parameter further subdivides each section into segments.
                It has no effect on the smoothness of the trail's sections, though. Instead, it controls
                the smoothness of the particle trail's overall shape. The <literal>Curve</literal> property defines
                this shape. Click the box next to <literal>Curve</literal> and assign or create a new curve. The
                trail will be shaped just like the curve with the curve's value at <literal>0.0</literal> at the
                trail's head and the curve's value at <literal>1.0</literal> at the trail's tail.</paragraph>
            <figure ids="id4">
                <image alt="Particle ribbon curves" candidates="{'*': 'tutorials/3d/particles/img/particle_ribbon_curve.webp'}" original_uri="img/particle_ribbon_curve.webp" uri="tutorials/3d/particles/img/particle_ribbon_curve.webp"></image>
                <caption>Particle trails shaped by different curves. The trails move from left to right.</caption>
            </figure>
            <paragraph>Depending on the complexity of the curve, the particle trail's shape will not look
                very smooth when the number of sections is low. This is where the <literal>Section Segments</literal> property
                comes in. Increasing the amount of section segments adds more vertices to the trail's
                sides so that it can follow the curve more closely.</paragraph>
            <figure ids="id5">
                <image alt="Particle ribbon segments" candidates="{'*': 'tutorials/3d/particles/img/particle_ribbon_segments.webp'}" original_uri="img/particle_ribbon_segments.webp" uri="tutorials/3d/particles/img/particle_ribbon_segments.webp"></image>
                <caption>Particle trail shape smoothness: 1 segment per section (top), 12 segments per section (bottom)</caption>
            </figure>
        </section>
        <section ids="tube-trails" names="tube\ trails">
            <title>Tube trails</title>
            <paragraph>Tube trails share a lot of their properties with ribbon trails. The big difference between them
                is that tube trails emit cylindrical meshes instead of quads.</paragraph>
            <figure ids="id6">
                <image alt="Particle tube trails" candidates="{'*': 'tutorials/3d/particles/img/particle_tube.webp'}" original_uri="img/particle_tube.webp" uri="tutorials/3d/particles/img/particle_tube.webp"></image>
                <caption>Tube trails emit cylindrical particles</caption>
            </figure>
            <paragraph>To create a tube trail, navigate to the <literal>Draw Passes</literal> section and select <literal>New TubeTrailMesh</literal>
                from the options for <literal>Pass 1</literal>. A <reference internal="True" refuri="../../../classes/class_tubetrailmesh#class-tubetrailmesh"><inline classes="std std-ref">TubeTrailMesh</inline></reference> is a cylinder
                that is divided into sections and then stretched and repeated along those sections. Assign a
                new <reference internal="True" refuri="../standard_material_3d#doc-standard-material-3d"><inline classes="std std-ref">Standard Material</inline></reference> to the <literal>Material</literal> property and enable
                <literal>Use Particle Trails</literal> in the <literal>Transform</literal> property group. The particles should now be emitting
                in long, cylindrical trails.</paragraph>
            <figure align="right" ids="id7">
                <image alt="Particle tube" candidates="{'*': 'tutorials/3d/particles/img/particle_tube_mesh.webp'}" original_uri="img/particle_tube_mesh.webp" uri="tutorials/3d/particles/img/particle_tube_mesh.webp"></image>
                <caption>Important tube mesh parameters</caption>
            </figure>
            <paragraph>The <literal>Radius</literal> and <literal>Radial Steps</literal> properties are to tube trails what <literal>Size</literal> is to ribbon trails.
                <literal>Radius</literal> defines the radius of the tube and increases or decreases its overall size. <literal>Radial Steps</literal>
                controls the number of sides around the tube's circumference. A higher value increases the resolution
                of the tube's cap.</paragraph>
            <paragraph><literal>Sections</literal> and <literal>Section Length</literal> work the same for tube trails and ribbon trails. They control how
                smooth the tube trail looks when it is bending and twisting instead of moving in a straight line.
                Increasing the number of sections will make it look smoother. Change the <literal>Section Length</literal> property
                to change the length of each section and with it the total length of the trail. <literal>Section Rings</literal>
                is the tube equivalent of the <literal>Section Segments</literal> property for ribbons. It subdivides the sections
                and adds more geometry to the tube to better fit the custom shape defined in the <literal>Curve</literal> property.</paragraph>
            <paragraph>You can shape tube trails with curves, just as you can with ribbon trails. Click the box next to the
                <literal>Curve</literal> property and assign or create a new curve. The trail will be shaped like the curve with
                the curve's value at <literal>0.0</literal> at the trail's head and the curve's value at <literal>1.0</literal> at the trail's tail.</paragraph>
            <figure ids="id8">
                <image alt="Particle tubes" candidates="{'*': 'tutorials/3d/particles/img/particle_tube_curve.webp'}" original_uri="img/particle_tube_curve.webp" uri="tutorials/3d/particles/img/particle_tube_curve.webp"></image>
                <caption>Particle tube trails with a custom curve shape: 4 radial steps, 3 sections, 1 section ring (left),
                    12 radial steps, 9 sections, 3 section rings (right)</caption>
            </figure>
            <paragraph>An important property you might want to set is <literal>Transform Align</literal> in the particle
                system's <literal>Drawing</literal> group. If you leave it as is, the tubes will not preserve volume; they
                flatten out as they move because their Y-axis keeps pointing up even as they change direction.
                This can cause a lot of rendering artifacts. Set the property to <literal>Y to Velocity</literal> instead
                and each particle trail keeps its Y-axis aligned along the direction of its movement.</paragraph>
            <figure ids="id9">
                <image alt="Particle tubes aligned" candidates="{'*': 'tutorials/3d/particles/img/particle_tube_align.webp'}" original_uri="img/particle_tube_align.webp" uri="tutorials/3d/particles/img/particle_tube_align.webp"></image>
                <caption>Particle tube trails without alignment (left) and with Y-axis aligned to velocity (right)</caption>
            </figure>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
