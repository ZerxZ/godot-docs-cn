<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.17.1 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/3d/particles/trails.rst" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-3d-particles-trails"></target>
    <section ids="d-particle-trails doc-3d-particles-trails" names="3d\ particle\ trails 3d\ 粒子尾迹 doc_3d_particles_trails">
        <title>3D 粒子尾迹</title>
        <figure>
            <image alt="粒子拖尾" candidates="{'*': 'tutorials/3d/particles/img/particle_trails.webp'}" uri="tutorials/3d/particles/img/particle_trails.webp"></image>
        </figure>
        <figure align="right" ids="id1">
            <image alt="粒子尾迹参数" candidates="{'*': 'tutorials/3d/particles/img/particle_trail_params.webp'}" uri="tutorials/3d/particles/img/particle_trail_params.webp"></image>
            <caption>Setting up particle trails</caption>
        </figure>
        <paragraph>Godot provides several types of trails you can add to a particle system. Before you can
            work with trails, you need to set up a couple of parameters first. Create a new particle
            system and assign a process material <reference internal="True" refuri="creating_a_3d_particle_system#doc-creating-3d-particle-system"><inline classes="std std-ref">as described before</inline></reference>.
            In the <literal>Trails</literal> group of the particle system, check the box next to <literal>Enabled</literal> and
            increase the emission duration by setting <literal>Lifetime</literal> to something like <literal>0.8</literal>. On
            the process material, set <literal>Direction</literal> to <literal>(X=0,Y=1.0,Z=0)</literal> and <literal>Initial Velocity</literal> to
            <literal>10.0</literal> for both <literal>Min</literal> and <literal>Max</literal>.</paragraph>
        <paragraph>The only thing that's still missing is a mesh for the draw pass. The type of mesh that you
            set here controls what kind of particle trail you will end up with.</paragraph>
        <section ids="ribbon-trails" names="ribbon\ trails">
            <title>Ribbon trails</title>
            <figure align="right" ids="id2">
                <image alt="Particle ribbon" candidates="{'*': 'tutorials/3d/particles/img/particle_ribbon_mesh.webp'}" uri="tutorials/3d/particles/img/particle_ribbon_mesh.webp"></image>
                <caption>Important ribbon mesh parameters</caption>
            </figure>
            <paragraph>The simplest type of particle trail is the ribbon trail. Navigate to the <literal>Draw Passes</literal>
                section and select <literal>New RibbonTrailMesh</literal> from the options for <literal>Pass 1</literal>. A
                <reference internal="True" refuri="../../../classes/class_ribbontrailmesh#class-ribbontrailmesh"><inline classes="std std-ref">RibbonTrailMesh</inline></reference> is a simple quad that is divided into
                sections and then stretched and repeated along those sections.</paragraph>
            <paragraph>Assign a new <reference internal="True" refuri="../standard_material_3d#doc-standard-material-3d"><inline classes="std std-ref">Standard Material</inline></reference> to the <literal>Material</literal>
                property and enable <literal>Use Particle Trails</literal> in the <literal>Transform</literal> property group. The
                particles should now be emitting in trails.</paragraph>
            <paragraph>You have two options for the ribbon mesh <literal>Shape</literal> parameter. <literal>Cross</literal> creates two
                perpendicular quads, making the particle trail a little more three-dimensional. This
                really only makes sense if you don't draw the trails in <literal>Particle Billboard</literal> mode
                and helps when looking at the particles from different angles. The <literal>Flat</literal> option
                limits the mesh to a single quad and works best with billboard particles.</paragraph>
            <paragraph>The <literal>Size</literal> parameter controls the trail's width. Use it to make trails wider or
                more narrow.</paragraph>
            <paragraph><literal>Sections</literal>, <literal>Section Length</literal> and <literal>Section Segments</literal> all work together to
                control how smooth the particle trail looks. When a particle trail does not travel
                in a straight line, the more sections it has the smoother it looks as it bends and swirls.
                <literal>Section Length</literal> controls the length of each section. Multiply this value by
                the number of sections to know the trail's total length.</paragraph>
            <figure ids="id3">
                <image alt="Particle ribbon sections" candidates="{'*': 'tutorials/3d/particles/img/particle_ribbon_sections.webp'}" uri="tutorials/3d/particles/img/particle_ribbon_sections.webp"></image>
                <caption>3 sections, 1m section length (left) vs. 12 sections, 0.25m section length (right). Notice how the total length of the trails stays the same.</caption>
            </figure>
            <paragraph><literal>Section Segments</literal> 参数进一步将每个部分细分为段。不过，它对尾迹部分的平滑度没有影响。相反，它控制粒子尾迹整体形状的平滑度。 <literal>Curve</literal> 属性定义此形状。点击“曲线”旁边的框，然后指定或创建新曲线。尾迹的形状将与曲线一样，曲线的值在尾迹的头部为 <literal>1.0</literal> ，曲线的值在尾部为 <literal>1.0</literal> 。</paragraph>
            <figure ids="id4">
                <image alt="Particle ribbon curves" candidates="{'*': 'tutorials/3d/particles/img/particle_ribbon_curve.webp'}" uri="tutorials/3d/particles/img/particle_ribbon_curve.webp"></image>
                <caption>由不同曲线形成的粒子尾迹。尾迹从左向右移动。</caption>
            </figure>
            <paragraph>根据曲线的复杂程度，当部分数较少时，粒子尾迹的形状看起来不会非常平滑。这就是 <literal>Section Segments</literal> 属性的用武之地。增加节段的数量会在尾迹的两侧添加更多折点，以便它可以更紧密地跟随曲线。</paragraph>
            <figure ids="id5">
                <image alt="Particle ribbon segments" candidates="{'*': 'tutorials/3d/particles/img/particle_ribbon_segments.webp'}" uri="tutorials/3d/particles/img/particle_ribbon_segments.webp"></image>
                <caption>颗粒尾迹形状平滑度：每节 1 段（顶部），每节 12 段（底部）</caption>
            </figure>
        </section>
        <section ids="tube-trails" names="tube\ trails 管状尾迹">
            <title>管状尾迹</title>
            <paragraph>管状尾迹与带状尾迹共享许多属性。它们之间的最大区别在于管状轨迹发出圆柱形网格而不是四边形。</paragraph>
            <figure ids="id6">
                <image alt="Particle tube trails" candidates="{'*': 'tutorials/3d/particles/img/particle_tube.webp'}" uri="tutorials/3d/particles/img/particle_tube.webp"></image>
                <caption>管状尾迹发出圆柱形粒子</caption>
            </figure>
            <paragraph>要创建管状尾迹，请导航到 <literal>Draw Passes</literal> 部分，然后从 <literal>Pass 1</literal> 选项中选择 <literal>New TubeTrailMesh</literal> 。一个 <inline classes="xref std std-ref">TubeTrailMesh&lt;class_TubeTrailMesh&gt;`是一个圆柱体，它被分成几个部分，然后沿着这些部分拉伸和重复。为 ``Material`</inline> 属性分配一个新的 <reference internal="True" refuri="../standard_material_3d#doc-standard-material-3d"><inline classes="std std-ref">Standard Material</inline></reference>，并在 <literal>Transform</literal> 属性分组中启用 <literal>Use Particle Trails</literal> 。粒子现在应该以长圆柱形轨迹发射。</paragraph>
            <figure align="right" ids="id7">
                <image alt="Particle tube" candidates="{'*': 'tutorials/3d/particles/img/particle_tube_mesh.webp'}" uri="tutorials/3d/particles/img/particle_tube_mesh.webp"></image>
                <caption>关键管状网格参数</caption>
            </figure>
            <paragraph><literal>Radius</literal> 和 <literal>Radial Steps</literal> 属性之于管状尾迹，就像 <literal>Size</literal> 之于带状尾迹一样。 <literal>Radius</literal> 定义管的半径，并增加或减少其整体尺寸。 <literal>Radial Steps</literal> 控制管圆周周围的边数。较高的值会提高管盖部的分辨率。</paragraph>
            <paragraph><literal>Sections</literal> 和 <literal>Section Length</literal> 对于管状尾迹和带状尾迹的工作方式相同。它们控制管道轨迹在弯曲和扭曲而不是沿直线移动时看起来有多平滑。增加节的数量将使其看起来更平滑。更改 <literal>Section Length</literal> 属性可更改每个节的长度以及轨迹的总长度。 <literal>Section Rings</literal> 是带状尾迹的 <literal>Section Segments</literal> 属性的管状尾迹等效项。它细分了小节，并为管添加了更多的几何形状，以更好地适应 <literal>Curve</literal> 属性中定义的自定义形状。</paragraph>
            <paragraph>你可以用曲线塑造管状尾迹，就像塑造带状尾迹一样。点击 <literal>Curve</literal> 属性旁边的框，然后指定或创建新曲线。尾迹的形状与曲线相似，曲线的值在尾迹的头部为 <literal>0.0</literal> ，曲线的值在尾迹尾部为 <literal>1.0</literal> 。</paragraph>
            <figure ids="id8">
                <image alt="Particle tubes" candidates="{'*': 'tutorials/3d/particles/img/particle_tube_curve.webp'}" uri="tutorials/3d/particles/img/particle_tube_curve.webp"></image>
                <caption>Particle tube trails with a custom curve shape: 4 radial steps, 3 sections, 1 section ring (left),
                    12 radial steps, 9 sections, 3 section rings (right)</caption>
            </figure>
            <paragraph>你可能想要设置的一个重要属性是粒子系统的 <literal>Drawing</literal> 分组中的 <literal>Transform Align</literal> 。如果保持原样，管子将无法保持体积;它们在移动时变平，因为即使它们改变方向，它们的 Y 轴也会一直指向上方。这可能会导致大量渲染伪影。将属性设置为 <literal>Y to Velocity</literal> ，每个粒子尾迹都沿其运动方向保持其 Y 轴对齐。</paragraph>
            <figure ids="id9">
                <image alt="Particle tubes aligned" candidates="{'*': 'tutorials/3d/particles/img/particle_tube_align.webp'}" uri="tutorials/3d/particles/img/particle_tube_align.webp"></image>
                <caption>未对齐的粒子管状尾迹（左）和 Y 轴与速度对齐的（右）</caption>
            </figure>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/zh_CN/?utm_source=widget"><image alt="翻译状态" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
