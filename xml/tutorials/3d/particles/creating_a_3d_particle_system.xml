<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.17.1 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/3d/particles/creating_a_3d_particle_system.rst" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-creating-3d-particle-system"></target>
    <section ids="creating-a-3d-particle-system doc-creating-3d-particle-system" names="creating\ a\ 3d\ particle\ system 创建\ 3d\ 粒子系统 doc_creating_3d_particle_system">
        <title>创建 3D 粒子系统</title>
        <figure align="right" ids="id1">
            <image candidates="{'*': 'tutorials/3d/particles/img/particle_node_new.webp'}" uri="tutorials/3d/particles/img/particle_node_new.webp"></image>
            <caption>所需的粒子节点属性</caption>
        </figure>
        <paragraph>创建粒子系统的第一步是向场景中添加一个 <literal>GPUParticles3D</literal> 节点。 为了能看到粒子，还需要在该节点上设置两个参数 <literal>Process Material</literal> 材质 和至少一个 <literal>Draw Pass</literal> 绘制通道。</paragraph>
        <section ids="the-process-material" names="the\ process\ material 处理材质">
            <title>处理材质</title>
            <paragraph>要将处理材质添加到粒子节点，请转到检查器面板中的 <literal>Process Material</literal> 。单击 <literal>Process Material</literal> 旁边的框，然后从下拉菜单中选择 <literal>新建 ParticleProcessMaterial</literal> 。</paragraph>
            <figure align="right" ids="id2">
                <image candidates="{'*': 'tutorials/3d/particles/img/particle_new_process_material.webp'}" uri="tutorials/3d/particles/img/particle_new_process_material.webp"></image>
                <caption>创建处理材质</caption>
            </figure>
            <paragraph><reference internal="True" refuri="../../../classes/class_particleprocessmaterial#class-particleprocessmaterial"><inline classes="std std-ref">ParticleProcessMaterial</inline></reference> 是一种特殊的材质。它不是用于绘制对象，是在 GPU 上更新粒子数据和行为，而不是 CPU，这可以带来巨大的性能提升。单击新添加的材质会显示一个长长的属性列表，可以设置这些属性来控制粒子的行为。</paragraph>
        </section>
        <section ids="draw-passes" names="draw\ passes 绘图阶段">
            <title>绘图阶段</title>
            <figure align="right" ids="id3">
                <image candidates="{'*': 'tutorials/3d/particles/img/particle_first_draw_pass.webp'}" uri="tutorials/3d/particles/img/particle_first_draw_pass.webp"></image>
                <caption>至少需要一个绘制阶段</caption>
            </figure>
            <paragraph>为了让粒子可视化，至少需要定义一个绘制通道。 在检查器面板中找到 <literal>Draw Passes</literal> 部分。 点击 <literal>Pass 1</literal> 旁边的方框，然后从下拉菜单中选择新建四边形网格 ( <literal>New QuadMesh</literal> )。 之后点击该网格并将其 <literal>Size</literal> 属性中的 <literal>x</literal> 和 <literal>y</literal> 都设置为 0.1。 减小网格尺寸可以帮助我们更容易区分各个单独的粒子网格。</paragraph>
            <paragraph>每个粒子系统最多可以使用 4 个绘制通道。每个通道可以渲染一个不同的网格，并使用自己独特的材质。所有绘制通道都使用由处理材质计算的数据，这是一种用于组合复杂效果的高效方法：一次计算粒子的行为，然后将其提供给多个渲染通道。</paragraph>
            <figure ids="id4">
                <image candidates="{'*': 'tutorials/3d/particles/img/particle_two_draw_passes.webp'}" uri="tutorials/3d/particles/img/particle_two_draw_passes.webp"></image>
                <caption>使用多个绘制通道：黄色矩形 (pass1) 和蓝色球体 (pass 2)</caption>
            </figure>
            <paragraph>如果遵循了上述步骤，你的粒子系统现在应该会以类似瀑布的方式发射粒子，其向下移动并在几秒后消失。这是所有粒子效果的基础。请查看<reference internal="True" refuri="properties#doc-3d-particles-properties"><inline classes="std std-ref">粒子</inline></reference>和<reference internal="True" refuri="process_material_properties#doc-process-material-properties"><inline classes="std std-ref">粒子材质</inline></reference>属性的文档，了解如何制作更有趣的粒子效果。</paragraph>
            <figure>
                <image candidates="{'*': 'tutorials/3d/particles/img/particle_basic_system.webp'}" uri="tutorials/3d/particles/img/particle_basic_system.webp"></image>
            </figure>
        </section>
        <section ids="particle-conversion" names="particle\ conversion 粒子转换">
            <title>粒子转换</title>
            <figure align="right" ids="id5">
                <image candidates="{'*': 'tutorials/3d/particles/img/particle_convert_cpu.webp'}" uri="tutorials/3d/particles/img/particle_convert_cpu.webp"></image>
                <caption>将 GPU 粒子转换为 CPU 粒子</caption>
            </figure>
            <paragraph>你可以通过视口菜单中的条目随时将 GPU 粒子转换为 CPU 粒子。请注意，并非 GPU 粒子的所有功能都可用于 CPU 粒子，因而粒子系统生成的外观和行为将与原始粒子系统有所不同。</paragraph>
            <paragraph>如果你不再需要使用 CPU 粒子，也可以将其转换为 GPU 粒子，这也是通过视口菜单完成。</paragraph>
            <paragraph>在转换过程中失去的一些显著特性包括：</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>多重绘制通道</paragraph>
                </list_item>
                <list_item>
                    <paragraph>湍流</paragraph>
                </list_item>
                <list_item>
                    <paragraph>子发射器</paragraph>
                </list_item>
                <list_item>
                    <paragraph>轨迹</paragraph>
                </list_item>
                <list_item>
                    <paragraph>吸引器</paragraph>
                </list_item>
                <list_item>
                    <paragraph>碰撞</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>你还会丢失以下属性：</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><literal>数量比例</literal></paragraph>
                </list_item>
                <list_item>
                    <paragraph><literal>插值</literal></paragraph>
                </list_item>
                <list_item>
                    <paragraph><literal>摩擦阻尼</literal></paragraph>
                </list_item>
                <list_item>
                    <paragraph><literal>发射形状偏移</literal></paragraph>
                </list_item>
                <list_item>
                    <paragraph><literal>发射形状缩放</literal></paragraph>
                </list_item>
                <list_item>
                    <paragraph><literal>继承速度比例</literal></paragraph>
                </list_item>
                <list_item>
                    <paragraph><literal>速度枢轴</literal></paragraph>
                </list_item>
                <list_item>
                    <paragraph><literal>定向速度</literal></paragraph>
                </list_item>
                <list_item>
                    <paragraph><literal>径向速度</literal></paragraph>
                </list_item>
                <list_item>
                    <paragraph><literal>速度限制</literal></paragraph>
                </list_item>
                <list_item>
                    <paragraph><literal>Scale Over Velocity</literal></paragraph>
                </list_item>
            </bullet_list>
            <paragraph>要在不支持现代图形 API 的较旧设备上发布游戏时，可能有必要将 GPU 粒子转换为 CPU 粒子。</paragraph>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/zh_CN/?utm_source=widget"><image alt="翻译状态" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
