<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/3d/particles/complex_shapes.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-3d-particles-complex-shapes"></target>
    <section ids="complex-emission-shapes doc-3d-particles-complex-shapes" names="complex\ emission\ shapes doc_3d_particles_complex_shapes">
        <title>Complex emission shapes</title>
        <figure>
            <image alt="Complex emission shapes" candidates="{'*': 'tutorials/3d/particles/img/particle_complex_emission.webp'}" original_uri="img/particle_complex_emission.webp" uri="tutorials/3d/particles/img/particle_complex_emission.webp"></image>
        </figure>
        <paragraph>When it is not enough to emit particles from one of the simple shapes available
            in the <reference internal="True" refuri="process_material_properties#doc-process-material-properties-shapes"><inline classes="std std-ref">process material</inline></reference>, Godot provides
            a way to emit particles from arbitrary, complex shapes. The shapes are generated from
            meshes in the scene and stored as textures in the particle process material. This is a
            very versatile workflow that has allowed users to use particle systems for things that
            go beyond traditional use cases, like foliage, leaves on a tree, or complex
            holographic effects.</paragraph>
        <note>
            <paragraph>When you create emission points from meshes, you can only select a single node as
                emission source. If you want particles to emit from multiple shapes, you either
                have to create several particle systems or combine the meshes into one in an
                external DCC software.</paragraph>
        </note>
        <figure align="right" ids="id1">
            <image alt="Creating emission points" candidates="{'*': 'tutorials/3d/particles/img/particle_create_emission_points.webp'}" original_uri="img/particle_create_emission_points.webp" uri="tutorials/3d/particles/img/particle_create_emission_points.webp"></image>
            <caption>Create particle emission points...</caption>
        </figure>
        <figure align="right" ids="id2">
            <image alt="Select mesh for emission" candidates="{'*': 'tutorials/3d/particles/img/particle_select_emission_mesh.webp'}" original_uri="img/particle_select_emission_mesh.webp" uri="tutorials/3d/particles/img/particle_select_emission_mesh.webp"></image>
            <caption>...from a mesh instance as the source</caption>
        </figure>
        <figure align="right" ids="id3">
            <image alt="Set emission density" candidates="{'*': 'tutorials/3d/particles/img/particle_emission_density.webp'}" original_uri="img/particle_emission_density.webp" uri="tutorials/3d/particles/img/particle_emission_density.webp"></image>
            <caption>More points = higher particle density</caption>
        </figure>
        <paragraph>To make use of this feature, start by creating a particle system in the current scene.
            Add a mesh instance that serves as the source of the particle emission points. With the
            particle system selected, navigate to the viewport menu and select the <emphasis>GPUParticles3D</emphasis>
            entry. From there, select <literal>Create Emission Points From Node</literal>.</paragraph>
        <paragraph>A dialog window will pop up and ask you to select a node as the emission source.
            Choose one of the mesh instances in the scene and confirm your selection. The next
            dialog window deals with the amount of points and how to generate them.</paragraph>
        <paragraph><literal>Emission Points</literal> controls the total number of points that you are about to generate.
            Particles will spawn from these points, so what to enter here depends on the
            size of the source mesh (how much area you have to cover) and the desired density of
            the particles.</paragraph>
        <paragraph><literal>Emission Source</literal> offers 3 different options for how the points are generated.
            Select <literal>Surface Points</literal> if all you want to do is distribute the emission points across the
            surface of the mesh. Select <literal>Surface Points + Normal (Directed)</literal> if you also want to
            generate information about the surface normals and make particles move in the direction
            that the normals point at. The last option, <literal>Volume</literal>, creates emission points everywhere
            inside the mesh, not just across its surface.</paragraph>
        <paragraph>The emission points are stored in the particle system's local coordinate system, so
            you can move the particle node around and the emission points will follow. This might be
            useful when you want to use the same particle system in several different places. On the
            other hand, you might have to regenerate the emission points when you move either
            the particle system or the source mesh.</paragraph>
        <section ids="emission-shape-textures" names="emission\ shape\ textures">
            <title>Emission shape textures</title>
            <figure align="right" ids="id4">
                <image alt="Emission textures" candidates="{'*': 'tutorials/3d/particles/img/particle_emission_textures.webp'}" original_uri="img/particle_emission_textures.webp" uri="tutorials/3d/particles/img/particle_emission_textures.webp"></image>
                <caption>The available emission shape textures</caption>
            </figure>
            <paragraph>All the data for complex particle emission shapes is stored in a set of textures. How
                many, depends on the type of emission shape you use. If you set the <literal>Shape</literal> property
                in the <literal>Emission Shape</literal> group on the particle process material to <literal>Points</literal>, you
                have access to 2 texture properties, the <literal>Point Texture</literal> and the <literal>Color Texture</literal>.
                Set it to <literal>Directed Points</literal> and there is a third property called <literal>Normal Texture</literal>.</paragraph>
            <paragraph><literal>Point Texture</literal> contains all possible emission points that were generated in the
                previous step. A point is randomly selected for every particle when it spawns.
                <literal>Normal Texture</literal>, if it exists, provides a direction vector at that same location.
                If the <literal>Color Texture</literal> property is also set, it provides color for the particle,
                sampled at the same location as the other two textures and modulating any other color
                that was set up on the process material.</paragraph>
            <paragraph>There is also the <literal>Point Count</literal> property that you can use to change the number of
                emission points at any time after creating the emission shape. This includes dynamically
                at runtime while the playing the game.</paragraph>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
