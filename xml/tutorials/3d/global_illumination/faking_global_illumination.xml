<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.17.1 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/3d/global_illumination/faking_global_illumination.rst" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-faking-global-illumination"></target>
    <section ids="faking-global-illumination doc-faking-global-illumination" names="faking\ global\ illumination 伪造全局光照 doc_faking_global_illumination">
        <title>伪造全局光照</title>
        <section ids="why-fake-global-illumination" names="why\ fake\ global\ illumination? 为什么要伪造全局光照？">
            <title>为什么要伪造全局光照？</title>
            <paragraph>Godot 提供了多种全局照明 (GI) 技术，各有其优点和缺点。 尽管如此，仍然可以避免使用任何 GI 技术并使用手工制作的方法。 使用“手工”方法进行全局照明而不是 VoxelGI、SDFGI 或烘焙光照贴图，有几个原因：</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>你需要具有良好的渲染性能，但无法承受潜在的繁琐的光照贴图烘焙过程。</paragraph>
                </list_item>
                <list_item>
                    <paragraph>你需要一种完全实时 <emphasis>且</emphasis> 可在程序生成的关卡中工作的 GI 方法。</paragraph>
                </list_item>
                <list_item>
                    <paragraph>你需要一种完全实时的 GI 方法 <emphasis>并且</emphasis> 不会出现明显的漏光问题。</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>下面描述的方法仅涵盖间接漫反射照明，而不涵盖镜面反射照明。 对于镜面反射照明，请考虑使用 ReflectionProbes，它通常足够便宜，且可以与这种假 GI 方法结合使用。</paragraph>
            <seealso>
                <paragraph>不确定用灯光伪造全局照明是否适合你的需求？ 请参阅 <reference internal="True" refuri="introduction_to_global_illumination#doc-introduction-to-global-illumination-comparison"><inline classes="std std-ref">我应该使用哪种全局光照技术？</inline></reference> 以了解 Godot 4 中可用的 GI 技术的比较。</paragraph>
            </seealso>
        </section>
        <section ids="faking-directionallight3d-global-illumination" names="faking\ directionallight3d\ global\ illumination 伪造\ directionallight3d\ 的全局光照">
            <title>伪造 DirectionalLight3D 的全局光照</title>
            <paragraph>虽然天空会提供自己的定向照明，但场景的主要 DirectionalLight3D 节点通常会发出大量的光。 当使用 GI 技术时，这种光会在固体表面上反射，并会在大多数户外阴影表面上反射回来。</paragraph>
            <paragraph>我们可以通过添加第二个 DirectionalLight3D 节点来伪造这一点，并进行以下更改：</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>将灯光旋转 180 度。 这使得它能够表现由主 DirectionalLight3D 节点反射的光照。</paragraph>
                </list_item>
                <list_item>
                    <paragraph>将 <strong>阴影（Shadows）</strong> 设置为 <strong>关闭</strong> 。这减少了辅助光源的性能负担，同时也允许阴影区域接收 <emphasis>一些</emphasis> 光照（这正是我们想要的）。</paragraph>
                </list_item>
                <list_item>
                    <paragraph>将 <strong>能量（Energy）</strong> 设置为原始值的 10-40% 。没有 "完美的" 值，所以请根据光线和你特有的材质颜色，尝试各种能量值。</paragraph>
                </list_item>
                <list_item>
                    <paragraph>将 <strong>镜面反射（Specular）</strong> 设置为 <literal>0.0</literal> 。间接光照不应发出可见的镜面反射波瓣，因此我们需要完全禁用辅助光的镜面反射光照。</paragraph>
                </list_item>
            </bullet_list>
            <note>
                <paragraph>这种方法最适合大多数户外场景。 当进入室内时，辅助 DirectionalLight3D 的灯光仍然可见，因为该灯光禁用了阴影。</paragraph>
                <paragraph>这可以通过在进入室内区域时，平滑地减少辅助 DirectionalLight3D 的能量（并在离开室内区域时执行相反的操作）来解决。 例如，可以使用 Area3D 节点和 AnimationPlayer 来实现。</paragraph>
            </note>
        </section>
        <section ids="faking-positional-light-global-illumination" names="faking\ positional\ light\ global\ illumination 伪造位置灯光的全局光照">
            <title>伪造位置灯光的全局光照</title>
            <paragraph>对于位置光源（OmniLight3D 和 SpotLight3D），可以采用与 DirectionalLight3D 相同的方法。 然而，这将需要更多的手动处理，因为该方法需要对场景中的每个位置光照节点重复此操作，才能让效果看起来不错。</paragraph>
            <paragraph>在理想情况下，应在大量光线照射到足够明亮表面的每个位置，都添加额外的 OmniLight3D。 然而，由于时间限制，这个设想并不总是容易实现（特别是在执行程序关卡生成时）。</paragraph>
            <paragraph>如果你赶时间，可以将辅助 OmniLight3D 节点放置在与主 OmniLight3D 节点相同的位置。 你可以将此节点添加为主 OmniLight3D 节点的子节点，以便轻松同时移动和隐藏这两个节点。</paragraph>
            <paragraph>在辅助 OmniLight3D 节点上执行以下修改：</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>将灯光的 <strong>范围</strong> 提高25-50%。这使辅助光能够照亮原先的光线所未照亮的区域。</paragraph>
                </list_item>
                <list_item>
                    <paragraph>将 <strong>阴影（Shadows）</strong> 设置为 <strong>关闭</strong> 。这减少了辅助光源的性能负担，同时也允许阴影区域接收 <emphasis>一些</emphasis> 光照（这正是我们想要的）。</paragraph>
                </list_item>
                <list_item>
                    <paragraph>将 <strong>能量</strong> 设置为原先值的 10-40%。不存在“完美”值，因此请根据光线及其周围环境尝试各种能量值。</paragraph>
                </list_item>
                <list_item>
                    <paragraph>将 <strong>镜面反射</strong> 设置为0。间接照明不应发出可见的镜面光波瓣（lobe），因此我们需要完全禁用辅助光的镜面照明。</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>对于 SpotLight3D，可以使用相同的技巧。 在这种情况下，辅助 OmniLight3D 的放置方式应能够反射 <emphasis>大多数</emphasis> 光线将被反射的位置。 这通常是靠近 SpotLight3D 的主要影响位置。</paragraph>
            <paragraph>在下面的示例中，SpotLight3D 节点用于照亮房间的地板。 然而，由于没有间接照明，房间的其余部分仍然完全黑暗。 在现实生活中，房间的墙壁和天花板会被周围反射的光照亮。 使用位于 SpotLight3D 的原点和地板之间的 OmniLight3D 节点可以模拟此效果：</paragraph>
            <image candidates="{'*': 'tutorials/3d/global_illumination/img/faking_global_illumination_comparison.webp'}" uri="tutorials/3d/global_illumination/img/faking_global_illumination_comparison.webp"></image>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/zh_CN/?utm_source=widget"><image alt="翻译状态" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/zh_CN/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
