<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/tutorials/3d/global_illumination/faking_global_illumination.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-faking-global-illumination"></target>
    <section ids="faking-global-illumination doc-faking-global-illumination" names="faking\ global\ illumination doc_faking_global_illumination">
        <title>Faking global illumination</title>
        <section ids="why-fake-global-illumination" names="why\ fake\ global\ illumination?">
            <title>Why fake global illumination?</title>
            <paragraph>Godot provides several global illumination (GI) techniques, all with their advantages
                and drawbacks. Nonetheless, it remains possible to avoid using any GI technique
                and use a handmade approach instead. There are a few reasons for using a
                "handmade" approach to global illumination instead of VoxelGI, SDFGI or
                baked lightmaps:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>You need to have good rendering performance, but can't afford going through
                        a potentially cumbersome lightmap baking process.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>You need an approach to GI that is fully real-time <emphasis>and</emphasis> works in procedurally
                        generated levels.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>You need an approach to GI that is fully real-time <emphasis>and</emphasis> does not suffer from
                        significant light leaks.</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>The approaches described below only cover indirect diffuse lighting, not
                specular lighting. For specular lighting, consider using ReflectionProbes which
                are usually cheap enough to be used in conjunction with this fake GI approach.</paragraph>
            <seealso>
                <paragraph>Not sure if faking global illumination with lights is suited to your needs?
                    See <reference internal="True" refuri="introduction_to_global_illumination#doc-introduction-to-global-illumination-comparison"><inline classes="std std-ref">Which global illumination technique should I use?</inline></reference> for a
                    comparison of GI techniques available in Godot 4.</paragraph>
            </seealso>
        </section>
        <section ids="faking-directionallight3d-global-illumination" names="faking\ directionallight3d\ global\ illumination">
            <title>Faking DirectionalLight3D global illumination</title>
            <paragraph>While the sky provides its own directional lighting, the scene's main DirectionalLight3D
                node typically emits a large amount of light. When using a GI technique, this light
                would be reflected on solid surfaces and would bounce back on most outdoors shaded surfaces.</paragraph>
            <paragraph>We can fake this by adding a second DirectionalLight3D node with the following changes:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Rotate the light by 180 degrees. This allows it to represent lighting bounced
                        by the main DirectionalLight3D node.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Set <strong>Shadows</strong> to <strong>Off</strong>. This reduces the secondary light's performance burden
                        while also allowing shaded areas to receive <emphasis>some</emphasis> lighting (which is what we want here).</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Set <strong>Energy</strong> to 10-40% of the original value. There is no "perfect" value,
                        so experiment with various energy values depending on the light and your typical
                        material colors.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Set <strong>Specular</strong> to <literal>0.0</literal>. Indirect lighting shouldn't emit visible specular
                        lobes, so we need to disable specular lighting entirely for the secondary light.</paragraph>
                </list_item>
            </bullet_list>
            <note>
                <paragraph>This approach works best in scenes that are mostly outdoors. When going indoors,
                    the secondary DirectionalLight3D's light will still be visible as this light
                    has shadows disabled.</paragraph>
                <paragraph>This can be worked around by smoothly decreasing the secondary DirectionalLight3D's
                    energy when entering an indoor area (and doing the opposite when leaving the indoor area).
                    For instance, this can be achieved using an Area3D node and AnimationPlayer.</paragraph>
            </note>
        </section>
        <section ids="faking-positional-light-global-illumination" names="faking\ positional\ light\ global\ illumination">
            <title>Faking positional light global illumination</title>
            <paragraph>It's possible to follow the same approach as DirectionalLight3D for positional
                lights (OmniLight3D and SpotLight3D). However, this will require more manual
                work as this operation needs to be repeated for every positional light node in
                the scene to look good.</paragraph>
            <paragraph>In an ideal scenario, additional OmniLight3Ds should be added at every location
                where a significant amount of light hits a bright enough surface. However, due
                to time constraints, this isn't always easily feasible (especially when
                performing procedural level generation).</paragraph>
            <paragraph>If you're in a hurry, you can place a secondary OmniLight3D node at the same position
                as the main OmniLight3D node.
                You can add this node as a child of the main OmniLight3D node to make it easy to
                move and hide both nodes at the same time.</paragraph>
            <paragraph>In the secondary OmniLight3D node, perform the following changes:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Increase the light's <strong>Range</strong> by 25-50%. This allows the secondary light to lighten
                        what was previously not lit by the original light.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Set <strong>Shadows</strong> to <strong>Off</strong>. This reduces the secondary light's performance burden
                        while also allowing shaded areas to receive <emphasis>some</emphasis> lighting (which is what we want here).</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Set <strong>Energy</strong> to 10-40% of the original value. There is no "perfect" value,
                        so experiment with various energy values depending on the light and its surroundings.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Set <strong>Specular</strong> to 0. Indirect lighting shouldn't emit visible specular lobes,
                        so we need to disable specular lighting entirely for the secondary light.</paragraph>
                </list_item>
            </bullet_list>
            <paragraph>For SpotLight3D, the same trick can be used. In this case, the secondary OmniLight3D
                should be placed in a way that reflects where <emphasis>most</emphasis> light will be bounced.
                This is usually close to the SpotLight3D's primary impact location.</paragraph>
            <paragraph>In the example below, a SpotLight3D node is used to light up the room's floor.
                However, since there is no indirect lighting, the rest of the room remains
                entirely dark. In real life, the room's walls and ceiling would be lit up by
                light bouncing around. Using an OmniLight3D node positioned between the
                SpotLight3D's origin and the floor allows simulating this effect:</paragraph>
            <image candidates="{'*': 'tutorials/3d/global_illumination/img/faking_global_illumination_comparison.webp'}" original_uri="img/faking_global_illumination_comparison.webp" uri="tutorials/3d/global_illumination/img/faking_global_illumination_comparison.webp"></image>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
