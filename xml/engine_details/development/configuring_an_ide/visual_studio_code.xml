<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/engine_details/development/configuring_an_ide/visual_studio_code.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-configuring-an-ide-vscode"></target>
    <section dupnames="visual\ studio\ code" ids="visual-studio-code doc-configuring-an-ide-vscode" names="doc_configuring_an_ide_vscode">
        <title>Visual Studio Code</title>
        <note>
            <paragraph>This documentation is for contributions to the game engine, and not using
                Visual Studio Code as a C# or GDScript editor. To code C# or GDScript in an external editor, see
                <reference internal="True" refuri="../../../tutorials/scripting/c_sharp/c_sharp_basics#doc-c-sharp-setup-external-editor"><inline classes="std std-ref">the C# guide to configure an external editor</inline></reference> or
                <reference internal="True" refuri="../../../tutorials/editor/external_editor#doc-external-editor"><inline classes="std std-ref">the GDScript guide to using an external text editor</inline></reference>.</paragraph>
        </note>
        <paragraph><reference name="Visual Studio Code" refuri="https://code.visualstudio.com">Visual Studio Code</reference><target ids="id1" names="visual\ studio\ code" refuri="https://code.visualstudio.com"></target> is a free cross-platform code editor
            by <reference name="Microsoft" refuri="https://microsoft.com">Microsoft</reference><target ids="microsoft" names="microsoft" refuri="https://microsoft.com"></target> (not to be confused with <reference internal="True" refuri="visual_studio#doc-configuring-an-ide-vs"><inline classes="std std-ref">Visual Studio</inline></reference>).</paragraph>
        <section ids="importing-the-project" names="importing\ the\ project">
            <title>Importing the project</title>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Make sure the C/C++ extension is installed. You can find instructions in
                        the <reference name="official documentation" refuri="https://code.visualstudio.com/docs/languages/cpp">official documentation</reference><target ids="official-documentation" names="official\ documentation" refuri="https://code.visualstudio.com/docs/languages/cpp"></target>.
                        Alternatively, <reference name="clangd" refuri="https://open-vsx.org/extension/llvm-vs-code-extensions/vscode-clangd">clangd</reference><target ids="clangd" names="clangd" refuri="https://open-vsx.org/extension/llvm-vs-code-extensions/vscode-clangd"></target>
                        can be used instead.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>When using the clangd extension, run <literal>scons compiledb=yes</literal>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>From the Visual Studio Code's main screen open the Godot root folder with
                        <strong>File &gt; Open Folder...</strong>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Press <literal classes="kbd">Ctrl + Shift + P</literal> to open the command prompt window and enter <emphasis>Configure Task</emphasis>.</paragraph>
                </list_item>
            </bullet_list>
            <figure align="center">
                <image candidates="{'*': 'engine_details/development/configuring_an_ide/img/vscode_configure_task.png'}" original_uri="img/vscode_configure_task.png" uri="engine_details/development/configuring_an_ide/img/vscode_configure_task.png"></image>
            </figure>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Select the <strong>Create tasks.json file from template</strong> option.</paragraph>
                </list_item>
            </bullet_list>
            <figure align="center">
                <image candidates="{'*': 'engine_details/development/configuring_an_ide/img/vscode_create_tasksjson.png'}" original_uri="img/vscode_create_tasksjson.png" uri="engine_details/development/configuring_an_ide/img/vscode_create_tasksjson.png"></image>
            </figure>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Then select <strong>Others</strong>.</paragraph>
                </list_item>
            </bullet_list>
            <figure align="center">
                <image candidates="{'*': 'engine_details/development/configuring_an_ide/img/vscode_create_tasksjson_others.png'}" original_uri="img/vscode_create_tasksjson_others.png" uri="engine_details/development/configuring_an_ide/img/vscode_create_tasksjson_others.png"></image>
            </figure>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>If there is no such option as <strong>Create tasks.json file from template</strong> available, either delete the file if it already exists in your folder or create a <literal>.vscode/tasks.json</literal> file manually. See <reference name="Tasks in Visual Studio Code" refuri="https://code.visualstudio.com/docs/editor/tasks#_custom-tasks">Tasks in Visual Studio Code</reference><target ids="tasks-in-visual-studio-code" names="tasks\ in\ visual\ studio\ code" refuri="https://code.visualstudio.com/docs/editor/tasks#_custom-tasks"></target> for more details on tasks.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Within the <literal>tasks.json</literal> file find the <literal>"tasks"</literal> array and add a new section to it:</paragraph>
                    <container classes="literal-block-wrapper" ids="id2" literal_block="True">
                        <caption>.vscode/tasks.json</caption>
                        <literal_block force="False" highlight_args="{}" language="js" linenos="False" xml:space="preserve">{
  "label": "build",
  "group": "build",
  "type": "shell",
  "command": "scons",
  "args": [
    // enable for debugging with breakpoints
    "dev_build=yes",
  ],
  "problemMatcher": "$msCompile"
}</literal_block>
                    </container>
                </list_item>
            </bullet_list>
            <figure align="center" classes="figure-w480" ids="id3">
                <image candidates="{'*': 'engine_details/development/configuring_an_ide/img/vscode_3_tasks.json.png'}" original_uri="img/vscode_3_tasks.json.png" uri="engine_details/development/configuring_an_ide/img/vscode_3_tasks.json.png"></image>
                <caption>An example of a filled out <literal>tasks.json</literal>.</caption>
            </figure>
            <paragraph>Arguments can be different based on your own setup and needs. See
                <reference internal="True" refuri="../compiling/introduction_to_the_buildsystem#doc-introduction-to-the-buildsystem"><inline classes="std std-ref">Introduction to the buildsystem</inline></reference> for a full list of arguments.</paragraph>
        </section>
        <section ids="debugging-the-project" names="debugging\ the\ project">
            <title>Debugging the project</title>
            <paragraph>To run and debug the project you need to create a new configuration in the <literal>launch.json</literal> file.</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Press <literal classes="kbd">Ctrl + Shift + D</literal> to open the Run panel.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>If <literal>launch.json</literal> file is missing you will be prompted to create a new one.</paragraph>
                </list_item>
            </bullet_list>
            <figure align="center">
                <image candidates="{'*': 'engine_details/development/configuring_an_ide/img/vscode_1_create_launch.json.png'}" original_uri="img/vscode_1_create_launch.json.png" uri="engine_details/development/configuring_an_ide/img/vscode_1_create_launch.json.png"></image>
            </figure>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Select <strong>C++ (GDB/LLDB)</strong>. There may be another platform-specific option here. If selected,
                        adjust the configuration example provided accordingly.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Within the <literal>launch.json</literal> file find the <literal>"configurations"</literal> array and add a new section to it:</paragraph>
                </list_item>
            </bullet_list>
            <container classes="sphinx-tabs" type="tab-element">
                <div aria-label="Tabbed content" role="tablist">
                    <button aria-controls="panel-0-TGludXhCU0Q=" aria-selected="true" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-TGludXhCU0Q=" name="TGludXhCU0Q=" role="tab" tabindex="0">LinuxBSD</button>
                    <button aria-controls="panel-0-TGludXhCU0RfZ2Ri" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-TGludXhCU0RfZ2Ri" name="TGludXhCU0RfZ2Ri" role="tab" tabindex="-1">LinuxBSD_gdb</button>
                    <button aria-controls="panel-0-V2luZG93cw==" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-V2luZG93cw==" name="V2luZG93cw==" role="tab" tabindex="-1">Windows</button>
                    <button aria-controls="panel-0-bWFjT1NfeDg2XzY0" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-bWFjT1NfeDg2XzY0" name="bWFjT1NfeDg2XzY0" role="tab" tabindex="-1">macOS_x86_64</button>
                    <button aria-controls="panel-0-bWFjT1NfYXJtNjQ=" aria-selected="false" classes="sphinx-tabs-tab code-tab group-tab" ids="tab-0-bWFjT1NfYXJtNjQ=" name="bWFjT1NfYXJtNjQ=" role="tab" tabindex="-1">macOS_arm64</button>
                </div>
                <div aria-labelledby="tab-0-TGludXhCU0Q=" classes="sphinx-tabs-panel code-tab group-tab" ids="panel-0-TGludXhCU0Q=" name="TGludXhCU0Q=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="js" linenos="False" xml:space="preserve">{
  "name": "Launch Project",
  "type": "lldb",
  "request": "launch",
  // Change to godot.linuxbsd.editor.dev.x86_64.llvm for llvm-based builds.
  "program": "${workspaceFolder}/bin/godot.linuxbsd.editor.dev.x86_64",
  // Change the arguments below for the project you want to test with.
  // To run the project instead of editing it, remove the "--editor" argument.
  "args": [ "--editor", "--path", "path-to-your-godot-project-folder" ],
  "stopAtEntry": false,
  "cwd": "${workspaceFolder}",
  "environment": [],
  "externalConsole": false,
  "preLaunchTask": "build"
}</literal_block>
                </div>
                <div aria-labelledby="tab-0-TGludXhCU0RfZ2Ri" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-TGludXhCU0RfZ2Ri" name="TGludXhCU0RfZ2Ri" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="js" linenos="False" xml:space="preserve">{
  "name": "Launch Project",
  "type": "cppdbg",
  "request": "launch",
  // Change to godot.linuxbsd.editor.dev.x86_64.llvm for llvm-based builds.
  "program": "${workspaceFolder}/bin/godot.linuxbsd.editor.dev.x86_64",
  // Change the arguments below for the project you want to test with.
  // To run the project instead of editing it, remove the "--editor" argument.
  "args": [ "--editor", "--path", "path-to-your-godot-project-folder" ],
  "stopAtEntry": false,
  "cwd": "${workspaceFolder}",
  "environment": [],
  "externalConsole": false,
  "setupCommands":
  [
    {
      "description": "Enable pretty-printing for gdb",
      "text": "-enable-pretty-printing",
      "ignoreFailures": true
    },
    {
        "description": "Load custom pretty-printers for Godot types.",
        "text": "source ${workspaceRoot}/misc/utility/godot_gdb_pretty_print.py"
    }
  ],
  "preLaunchTask": "build"
}</literal_block>
                </div>
                <div aria-labelledby="tab-0-V2luZG93cw==" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-V2luZG93cw==" name="V2luZG93cw==" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="js" linenos="False" xml:space="preserve">{
  "name": "Launch Project",
  "type": "cppvsdbg",
  "request": "launch",
  "program": "${workspaceFolder}/bin/godot.windows.editor.dev.x86_64.exe",
  // Change the arguments below for the project you want to test with.
  // To run the project instead of editing it, remove the "--editor" argument.
  "args": [ "--editor", "--path", "path-to-your-godot-project-folder" ],
  "stopAtEntry": false,
  "cwd": "${workspaceFolder}",
  "environment": [],
  "console": "internalConsole",
  "visualizerFile": "${workspaceFolder}/platform/windows/godot.natvis",
  "preLaunchTask": "build"
}</literal_block>
                </div>
                <div aria-labelledby="tab-0-bWFjT1NfeDg2XzY0" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-bWFjT1NfeDg2XzY0" name="bWFjT1NfeDg2XzY0" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="js" linenos="False" xml:space="preserve">{
  "name": "Launch Project",
  "type": "lldb",
  "request": "launch",
  "program": "${workspaceFolder}/bin/godot.macos.editor.x86_64",
  // Change the arguments below for the project you want to test with.
  // To run the project instead of editing it, remove the "--editor" argument.
  "args": ["--editor", "--path", "path-to-your-godot-project-folder"],
  "cwd": "${workspaceFolder}",
  "preLaunchTask": "build"
}</literal_block>
                </div>
                <div aria-labelledby="tab-0-bWFjT1NfYXJtNjQ=" classes="sphinx-tabs-panel code-tab group-tab" hidden="true" ids="panel-0-bWFjT1NfYXJtNjQ=" name="bWFjT1NfYXJtNjQ=" role="tabpanel" tabindex="0">
                    <literal_block force="False" highlight_args="{}" language="js" linenos="False" xml:space="preserve">{
  "name": "Launch Project",
  "type": "lldb",
  "request": "launch",
  "program": "${workspaceFolder}/bin/godot.macos.editor.arm64",
  // Change the arguments below for the project you want to test with.
  // To run the project instead of editing it, remove the "--editor" argument.
  "args": ["--editor", "--path", "path-to-your-godot-project-folder"],
  "cwd": "${workspaceFolder}",
  "preLaunchTask": "build"
}</literal_block>
                </div>
            </container>
            <figure align="center" classes="figure-w480" ids="id4">
                <image candidates="{'*': 'engine_details/development/configuring_an_ide/img/vscode_2_launch.json.png'}" original_uri="img/vscode_2_launch.json.png" uri="engine_details/development/configuring_an_ide/img/vscode_2_launch.json.png"></image>
                <caption>An example of a filled out <literal>launch.json</literal>.</caption>
            </figure>
            <note>
                <paragraph>Due to sporadic performance issues, it is recommended to use LLDB over GDB on Unix-based systems.
                    Make sure that the <reference name="CodeLLDB extension" refuri="https://marketplace.visualstudio.com/items?itemName=vadimcn.vscode-lldb">CodeLLDB extension</reference><target ids="codelldb-extension" names="codelldb\ extension" refuri="https://marketplace.visualstudio.com/items?itemName=vadimcn.vscode-lldb"></target>
                    is installed for configurations using <title_reference>lldb</title_reference>.</paragraph>
                <paragraph>If you encounter issues with lldb, you may consider using gdb (see the LinuxBSD_gdb configuration).</paragraph>
                <paragraph>Do note that lldb may work better with LLVM-based builds. See <reference internal="True" refuri="../compiling/compiling_for_linuxbsd#doc-compiling-for-linuxbsd"><inline classes="std std-ref">Compiling for Linux, *BSD</inline></reference> for further information.</paragraph>
            </note>
            <paragraph>The name under <literal>program</literal> depends on your build configuration,
                e.g. <literal>godot.linuxbsd.editor.dev.x86_64</literal> for 64-bit LinuxBSD platform with
                <literal>target=editor</literal> and <literal>dev_build=yes</literal>.</paragraph>
        </section>
        <section ids="configuring-intellisense" names="configuring\ intellisense">
            <title>Configuring Intellisense</title>
            <paragraph>For the C/C++ extension:</paragraph>
            <paragraph>To fix include errors you may be having, you need to configure some settings in the <literal>c_cpp_properties.json</literal> file.</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>First, make sure to build the project since some files need to be generated.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Edit the C/C++ Configuration file either with the UI or with text:</paragraph>
                </list_item>
            </bullet_list>
            <figure align="center">
                <image candidates="{'*': 'engine_details/development/configuring_an_ide/img/vscode_edit_configurations.webp'}" original_uri="img/vscode_edit_configurations.webp" uri="engine_details/development/configuring_an_ide/img/vscode_edit_configurations.webp"></image>
            </figure>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Add an include path for your platform, for example, <literal>${workspaceFolder}/platform/windows</literal>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Add defines for the editor <literal>TOOLS_ENABLED</literal>, debug builds <literal>DEBUG_ENABLED</literal>, and tests <literal>TESTS_ENABLED</literal>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>Make sure the compiler path is configured correctly to the compiler you are using. See <reference internal="True" refuri="../compiling/introduction_to_the_buildsystem#doc-introduction-to-the-buildsystem"><inline classes="std std-ref">Introduction to the buildsystem</inline></reference> for further information on your platform.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>The <literal>c_cpp_properties.json</literal> file should look similar to this for Windows:</paragraph>
                    <container classes="literal-block-wrapper" ids="id5" literal_block="True">
                        <caption>.vscode/c_cpp_properties.json</caption>
                        <literal_block force="False" highlight_args="{}" language="js" linenos="False" xml:space="preserve">{
  "configurations": [
    {
      "name": "Win32",
      "includePath": [
        "${workspaceFolder}/**",
        "${workspaceFolder}/platform/windows"
      ],
      "defines": [
        "_DEBUG",
        "UNICODE",
        "_UNICODE",
        "TOOLS_ENABLED",
        "DEBUG_ENABLED",
        "TESTS_ENABLED"
      ],
      "windowsSdkVersion": "10.0.22621.0",
      "compilerPath": "C:/Program Files/Microsoft Visual Studio/2022/Community/VC/Tools/MSVC/14.39.33519/bin/Hostx64/x64/cl.exe",
      "cStandard": "c17",
      "cppStandard": "c++17",
      "intelliSenseMode": "windows-msvc-x64"
    }
  ],
  "version": 4
}</literal_block>
                    </container>
                </list_item>
                <list_item>
                    <paragraph>Alternatively, you can use the scons argument <literal>compiledb=yes</literal> and set the compile commands setting <literal>compileCommands</literal> to <literal>compile_commands.json</literal>, found in the advanced section of the C/C++ Configuration UI.</paragraph>
                    <bullet_list bullet="-">
                        <list_item>
                            <paragraph>This argument can be added to your build task in <literal>tasks.json</literal> since it will need to be run whenever files are added or moved.</paragraph>
                        </list_item>
                    </bullet_list>
                </list_item>
            </bullet_list>
            <paragraph>If you run into any issues, ask for help in one of
                <reference name="Godot's community channels" refuri="https://godotengine.org/community">Godot's community channels</reference>.</paragraph>
            <tip>
                <paragraph>To get linting on class reference XML files, install the
                    <reference name="vscode-xml extension" refuri="https://marketplace.visualstudio.com/items?itemName=redhat.vscode-xml">vscode-xml extension</reference>.</paragraph>
            </tip>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
