<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/engine_details/development/debugging/macos_debug.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <section ids="debugging-on-macos" names="debugging\ on\ macos">
        <title>Debugging on macOS</title>
        <section ids="debugging-godot-editor" names="debugging\ godot\ editor">
            <title>Debugging Godot editor</title>
            <paragraph>Attaching a debugger to the signed macOS process requires the "com.apple.security.get-task-allow" entitlement, which is not enabled by default, since apps can't be notarized as long as it is enabled.
                If you want to debug an official build of the editor it should be re-signed with the proper entitlements.</paragraph>
            <paragraph>Create an <literal>editor.entitlements</literal> text file with the following contents:</paragraph>
            <literal_block force="False" highlight_args="{}" language="xml" linenos="False" xml:space="preserve">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;
&lt;plist version="1.0"&gt;
    &lt;dict&gt;
        &lt;key&gt;com.apple.security.cs.allow-dyld-environment-variables&lt;/key&gt;
        &lt;true/&gt;
        &lt;key&gt;com.apple.security.cs.allow-jit&lt;/key&gt;
        &lt;true/&gt;
        &lt;key&gt;com.apple.security.cs.allow-unsigned-executable-memory&lt;/key&gt;
        &lt;true/&gt;
        &lt;key&gt;com.apple.security.cs.disable-executable-page-protection&lt;/key&gt;
        &lt;true/&gt;
        &lt;key&gt;com.apple.security.cs.disable-library-validation&lt;/key&gt;
        &lt;true/&gt;
        &lt;key&gt;com.apple.security.device.audio-input&lt;/key&gt;
        &lt;true/&gt;
        &lt;key&gt;com.apple.security.device.camera&lt;/key&gt;
        &lt;true/&gt;
        &lt;key&gt;com.apple.security.get-task-allow&lt;/key&gt;
        &lt;true/&gt;
    &lt;/dict&gt;
&lt;/plist&gt;</literal_block>
            <paragraph>Then use the following command to re-sign the editor:</paragraph>
            <literal_block force="False" language="gdscript" linenos="False" xml:space="preserve">codesign -s - --deep --force --options=runtime --entitlements ./editor.entitlements ./path/to/Godot.app</literal_block>
        </section>
        <section ids="debugging-exported-project" names="debugging\ exported\ project">
            <title>Debugging exported project</title>
            <paragraph>To allow debugging, select the <literal>codesign\debugging</literal> (<literal>com.apple.security.get-task-allow</literal>) entitlement during the export. When it is selected, notarization is not supported and should be disabled.</paragraph>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
