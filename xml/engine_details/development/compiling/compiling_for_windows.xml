<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/engine_details/development/compiling/compiling_for_windows.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-compiling-for-windows"></target>
    <section ids="compiling-for-windows doc-compiling-for-windows" names="compiling\ for\ windows doc_compiling_for_windows">
        <title>Compiling for Windows</title>
        <seealso>
            <paragraph>This page describes how to compile Windows editor and export template binaries from source.
                If you're looking to export your project to Windows instead, read <reference internal="True" refuri="../../../tutorials/export/exporting_for_windows#doc-exporting-for-windows"><inline classes="std std-ref">Exporting for Windows</inline></reference>.</paragraph>
        </seealso>
        <section ids="requirements" names="requirements">
            <title>Requirements</title>
            <paragraph>For compiling under Windows, the following is required:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>A C++ compiler. Use one of the following:</paragraph>
                    <block_quote>
                        <bullet_list bullet="-">
                            <list_item>
                                <paragraph><reference name="Visual Studio Community" refuri="https://www.visualstudio.com/vs/community/">Visual Studio Community</reference><target ids="visual-studio-community" names="visual\ studio\ community" refuri="https://www.visualstudio.com/vs/community/"></target>,
                                    version 2019 or later. Visual Studio 2022 is recommended.
                                    <strong>Make sure to enable C++ in the list of workflows to install.</strong>
                                    If you've already installed Visual Studio without C++ support, run the installer
                                    again; it should present you a <strong>Modify</strong> button.
                                    Supports <literal>x86_64</literal>, <literal>x86_32</literal>, and <literal>arm64</literal>.</paragraph>
                            </list_item>
                            <list_item>
                                <paragraph><reference name="MinGW-w64" refuri="https://mingw-w64.org/">MinGW-w64</reference><target ids="mingw-w64" names="mingw-w64" refuri="https://mingw-w64.org/"></target> with GCC can be used as an alternative to
                                    Visual Studio. Be sure to install/configure it to use the <literal>posix</literal> thread model.
                                    <strong>Important:</strong> When using MinGW to compile the <literal>master</literal> branch, you need GCC 9 or later.
                                    Supports <literal>x86_64</literal> and <literal>x86_32</literal> only.</paragraph>
                            </list_item>
                            <list_item>
                                <paragraph><reference name="MinGW-LLVM" refuri="https://github.com/mstorsjo/llvm-mingw/releases">MinGW-LLVM</reference><target ids="mingw-llvm" names="mingw-llvm" refuri="https://github.com/mstorsjo/llvm-mingw/releases"></target> with clang can be used as
                                    an alternative to Visual Studio and MinGW-w64.
                                    Supports <literal>x86_64</literal>, <literal>x86_32</literal>, and <literal>arm64</literal>.</paragraph>
                            </list_item>
                        </bullet_list>
                    </block_quote>
                </list_item>
                <list_item>
                    <paragraph><reference name="Python 3.8+" refuri="https://www.python.org/downloads/windows/">Python 3.8+</reference><target ids="python-3-8" names="python\ 3.8+" refuri="https://www.python.org/downloads/windows/"></target>.
                        <strong>Make sure to enable the option to add Python to the</strong> <literal>PATH</literal> <strong>in the installer.</strong></paragraph>
                </list_item>
                <list_item>
                    <paragraph><reference name="SCons 4.0+" refuri="https://scons.org/pages/download.html">SCons 4.0+</reference><target ids="scons-4-0" names="scons\ 4.0+" refuri="https://scons.org/pages/download.html"></target> build system. Using the
                        latest release is recommended, especially for proper support of recent Visual
                        Studio releases.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><reference internal="True" refid="doc-compiling-for-windows-installing-d3d12-requirements"><inline classes="std std-ref">Direct3D 12 dependencies</inline></reference>
                        (can be skipped with the <literal>d3d12=no</literal> SCons option if Direct3D 12 support is not desired).</paragraph>
                </list_item>
            </bullet_list>
            <note>
                <paragraph>If you have <reference name="Scoop" refuri="https://scoop.sh/">Scoop</reference><target ids="scoop" names="scoop" refuri="https://scoop.sh/"></target> installed, you can easily
                    install MinGW and other dependencies using the following command:</paragraph>
                <literal_block force="False" language="shell" linenos="False" xml:space="preserve">scoop install python mingw</literal_block>
                <paragraph>Scons will still need to be installed via pip</paragraph>
            </note>
            <note>
                <paragraph>If you have <reference name="MSYS2" refuri="https://www.msys2.org/">MSYS2</reference><target ids="msys2" names="msys2" refuri="https://www.msys2.org/"></target> installed, you can easily
                    install MinGW and other dependencies using the following command:</paragraph>
                <literal_block force="False" language="shell" linenos="False" xml:space="preserve">pacman -S mingw-w64-x86_64-gcc mingw-w64-i686-gcc make python-pip</literal_block>
                <paragraph>For each MSYS2 MinGW subsystem, you should then run
                    <title_reference>pip3 install scons</title_reference> in its shell.</paragraph>
            </note>
            <seealso>
                <paragraph>To get the Godot source code for compiling, see
                    <reference internal="True" refuri="getting_source#doc-getting-source"><inline classes="std std-ref">Getting the source</inline></reference>.</paragraph>
                <paragraph>For a general overview of SCons usage for Godot, see
                    <reference internal="True" refuri="introduction_to_the_buildsystem#doc-introduction-to-the-buildsystem"><inline classes="std std-ref">Introduction to the buildsystem</inline></reference>.</paragraph>
            </seealso>
        </section>
        <section ids="setting-up-scons" names="setting\ up\ scons">
            <title>Setting up SCons</title>
            <paragraph>To install SCons, open the command prompt and run the following command:</paragraph>
            <literal_block force="False" language="shell" linenos="False" xml:space="preserve">python -m pip install scons</literal_block>
            <paragraph>If you are prompted with the message
                <literal>Defaulting to user installation because normal site-packages is not
writeable</literal>, you may have to run that command again using elevated
                permissions. Open a new command prompt as an Administrator then run the command
                again to ensure that SCons is available from the <literal>PATH</literal>.</paragraph>
            <paragraph>To check whether you have installed Python and SCons correctly, you can
                type <literal>python --version</literal> and <literal>scons --version</literal> into a command prompt
                (<literal>cmd.exe</literal>).</paragraph>
            <paragraph>If the commands above don't work, make sure to add Python to your <literal>PATH</literal>
                environment variable after installing it, then check again.
                You can do so by running the Python installer again and enabling the option
                to add Python to the <literal>PATH</literal>.</paragraph>
            <paragraph>If SCons cannot detect your Visual Studio installation, it might be that your
                SCons version is too old. Update it to the latest version with
                <literal>python -m pip install --upgrade scons</literal>.</paragraph>
            <target refid="doc-compiling-for-windows-install-vs"></target>
        </section>
        <section ids="downloading-godot-s-source doc-compiling-for-windows-install-vs" names="downloading\ godot's\ source doc_compiling_for_windows_install_vs">
            <title>Downloading Godot's source</title>
            <paragraph>Refer to <reference internal="True" refuri="getting_source#doc-getting-source"><inline classes="std std-ref">Getting the source</inline></reference> for detailed instructions.</paragraph>
            <paragraph>The tutorial will assume from now on that you placed the source code in
                <literal>C:\godot</literal>.</paragraph>
            <warning>
                <paragraph>To prevent slowdowns caused by continuous virus scanning during compilation,
                    add the Godot source folder to the list of exceptions in your antivirus
                    software.</paragraph>
                <paragraph>For Windows Defender, hit the <literal classes="kbd">Windows</literal> key, type "Windows Security"
                    then hit <literal classes="kbd">Enter</literal>. Click on <strong>Virus &amp; threat protection</strong> on the left
                    panel. Under <strong>Virus &amp; threat protection settings</strong> click on <strong>Manage Settings</strong>
                    and scroll down to <strong>Exclusions</strong>. Click <strong>Add or remove exclusions</strong> then
                    add the Godot source folder.</paragraph>
            </warning>
        </section>
        <section ids="compiling" names="compiling">
            <title>Compiling</title>
            <section ids="selecting-a-compiler" names="selecting\ a\ compiler">
                <title>Selecting a compiler</title>
                <paragraph>SCons will automatically find and use an existing Visual Studio installation.
                    If you do not have Visual Studio installed, it will attempt to use
                    MinGW instead. If you already have Visual Studio installed and want to
                    use MinGW-w64, pass <literal>use_mingw=yes</literal> to the SCons command line. Note that MSVC
                    builds cannot be performed from the MSYS2 or MinGW shells. Use either
                    <literal>cmd.exe</literal> or PowerShell instead. If you are using MinGW-LLVM, pass both
                    <literal>use_mingw=yes</literal> and <literal>use_llvm=yes</literal> to the SCons command line.</paragraph>
                <tip>
                    <paragraph>During development, using the Visual Studio compiler is usually a better
                        idea, as it links the Godot binary much faster than MinGW. However, MinGW
                        can produce more optimized binaries using link-time optimization (see
                        below), making it a better choice for production use. This is particularly
                        the case for the GDScript VM which performs much better with MinGW compared
                        to MSVC. Therefore, it's recommended to use MinGW to produce builds that you
                        distribute to players.</paragraph>
                    <paragraph>All official Godot binaries are built in
                        <reference name="custom containers" refuri="https://github.com/godotengine/build-containers">custom containers</reference>
                        using MinGW.</paragraph>
                </tip>
            </section>
            <section ids="running-scons" names="running\ scons">
                <title>Running SCons</title>
                <paragraph>After opening a command prompt, change to the root directory of
                    the engine source code (using <literal>cd</literal>) and type:</paragraph>
                <literal_block force="False" highlight_args="{}" language="doscon" linenos="False" xml:space="preserve">C:\godot&gt; scons platform=windows</literal_block>
                <note>
                    <paragraph>When compiling with multiple CPU threads, SCons may warn about
                        pywin32 being missing. You can safely ignore this warning.</paragraph>
                </note>
                <tip>
                    <paragraph>If you are compiling Godot to make changes or contribute to the engine,
                        you may want to use the SCons options <literal>dev_build=yes</literal> or <literal>dev_mode=yes</literal>.
                        See <reference internal="True" refuri="introduction_to_the_buildsystem#doc-introduction-to-the-buildsystem-development-and-production-aliases"><inline classes="std std-ref">Development and production aliases</inline></reference>
                        for more info.</paragraph>
                </tip>
                <paragraph>If all goes well, the resulting binary executable will be placed in
                    <literal>C:\godot\bin\</literal> with the name <literal>godot.windows.editor.x86_32.exe</literal> or
                    <literal>godot.windows.editor.x86_64.exe</literal>. By default, SCons will build a binary matching
                    your CPU architecture, but this can be overridden using <literal>arch=x86_64</literal>,
                    <literal>arch=x86_32</literal>, or <literal>arch=arm64</literal>.</paragraph>
                <paragraph>This executable file contains the whole engine and runs without any
                    dependencies. Running it will bring up the Project Manager.</paragraph>
                <tip>
                    <paragraph>If you are compiling Godot for production use, you can
                        make the final executable smaller and faster by adding the
                        SCons option <literal>production=yes</literal>. This enables additional compiler
                        optimizations and link-time optimization.</paragraph>
                    <paragraph>LTO takes some time to run and requires up to 30 GB of available RAM
                        while compiling (depending on toolchain). If you're running out of memory
                        with the above option, use <literal>production=yes lto=none</literal> or <literal>production=yes lto=thin</literal>
                        (LLVM only) for a lightweight but less effective form of LTO.</paragraph>
                </tip>
                <note>
                    <paragraph>If you want to use separate editor settings for your own Godot builds
                        and official releases, you can enable
                        <reference internal="True" refuri="../../../tutorials/io/data_paths#doc-data-paths-self-contained-mode"><inline classes="std std-ref">Self-contained mode</inline></reference> by creating a file called
                        <literal>._sc_</literal> or <literal>_sc_</literal> in the <literal>bin/</literal> folder.</paragraph>
                </note>
                <target refid="doc-compiling-for-windows-installing-d3d12-requirements"></target>
            </section>
        </section>
        <section ids="installing-direct3d-12-requirements doc-compiling-for-windows-installing-d3d12-requirements" names="installing\ direct3d\ 12\ requirements doc_compiling_for_windows_installing_d3d12_requirements">
            <title>Installing Direct3D 12 requirements</title>
            <paragraph>By default, Windows builds of Godot contain support for the Direct3D 12 graphics
                API. Compiling with Direct3D 12 support requires additional dependencies
                to be installed. If you wish to skip this step, you can use the <literal>d3d12=no</literal>
                SCons option; Vulkan and OpenGL support will remain available if you do so.</paragraph>
            <paragraph>You can install the required dependencies by running
                <literal>python misc/scripts/install_d3d12_sdk_windows.py</literal>
                in the Godot source repository. After running this script, compile Godot as usual.
                This will use the default paths for the various dependencies, which match the
                ones used in the script.</paragraph>
            <paragraph>You can find the detailed steps below if you wish to set up dependencies
                manually, but the above script handles everything for you (including the
                optional PIX and Agility SDK components).</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><reference name="godot-nir-static library" refuri="https://github.com/godotengine/godot-nir-static/releases/">godot-nir-static library</reference><target ids="godot-nir-static-library" names="godot-nir-static\ library" refuri="https://github.com/godotengine/godot-nir-static/releases/"></target>.
                        We compile the Mesa libraries you will need into a static library. Download it
                        anywhere, unzip it and remember the path to the unzipped folder, you will
                        need it below.</paragraph>
                </list_item>
            </bullet_list>
            <note>
                <paragraph>You can optionally build the godot-nir-static libraries yourself with
                    the following steps:</paragraph>
                <enumerated_list enumtype="arabic" prefix="" suffix=".">
                    <list_item>
                        <paragraph>Install the Python package <reference name="mako" refuri="https://www.makotemplates.org">mako</reference><target ids="mako" names="mako" refuri="https://www.makotemplates.org"></target>
                            which is needed to generate some files.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Clone the <reference name="godot-nir-static" refuri="https://github.com/godotengine/godot-nir-static">godot-nir-static</reference><target ids="godot-nir-static" names="godot-nir-static" refuri="https://github.com/godotengine/godot-nir-static"></target>
                            directory and navigate to it.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Run the following:</paragraph>
                    </list_item>
                </enumerated_list>
                <literal_block force="False" language="shell" linenos="False" xml:space="preserve">git submodule update --init
./update_mesa.sh
scons</literal_block>
                <paragraph>If you are building with MinGW-w64, add <literal>use_mingw=yes</literal> to the <literal>scons</literal>
                    command, you can also specify the build architecture using <literal>arch={architecture}</literal>.
                    If you are building with MinGW-LLVM, add both <literal>use_mingw=yes</literal> and
                    <literal>use_llvm=yes</literal> to the <literal>scons</literal> command.</paragraph>
                <paragraph>If you are building with MinGW and the binaries are not located in
                    the <literal>PATH</literal>, add <literal>mingw_prefix="/path/to/mingw"</literal> to the <literal>scons</literal>
                    command.</paragraph>
                <paragraph>The Mesa static library should be built using the same compiler and the
                    same CRT (if you are building with MinGW) you are using for building
                    Godot.</paragraph>
            </note>
            <paragraph>Optionally, you can compile with the following for additional features:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><reference name="PIX" refuri="https://devblogs.microsoft.com/pix/download">PIX</reference><target ids="pix" names="pix" refuri="https://devblogs.microsoft.com/pix/download"></target> is a performance tuning
                        and debugging application for Direct3D12 applications. If you compile-in
                        support for it, you can get much more detailed information through PIX that
                        will help you optimize your game and troubleshoot graphics bugs. To use it,
                        download the WinPixEventRuntime package. You will be taken to a NuGet package
                        page where you can click "Download package" to get it. Once downloaded, change
                        the file extension to .zip and unzip the file to some path.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><reference name="Agility SDK" refuri="https://devblogs.microsoft.com/directx/directx12agility">Agility SDK</reference><target ids="agility-sdk" names="agility\ sdk" refuri="https://devblogs.microsoft.com/directx/directx12agility"></target> can
                        be used to provide access to the latest Direct3D 12 features without relying
                        on driver updates. To use it, download the latest Agility SDK package. You
                        will be taken to a NuGet package page where you can click "Download package"
                        to get it. Once downloaded, change the file extension to .zip and unzip the
                        file to some path.</paragraph>
                </list_item>
            </bullet_list>
            <note>
                <paragraph>If you use a preview version of the Agility SDK, remember to enable
                    developer mode in Windows; otherwise it won't be used.</paragraph>
            </note>
            <note>
                <paragraph>If you want to use a PIX with MinGW build, navigate to PIX runtime
                    directory and use the following commands to generate import library:</paragraph>
                <literal_block force="False" language="shell" linenos="False" xml:space="preserve"># For x86-64:
gendef ./bin/x64/WinPixEventRuntime.dll
dlltool --machine i386:x86-64 --no-leading-underscore -d WinPixEventRuntime.def -D WinPixEventRuntime.dll -l ./bin/x64/libWinPixEventRuntime.a

# For ARM64:
gendef ./bin/ARM64/WinPixEventRuntime.dll
dlltool --machine arm64 --no-leading-underscore -d WinPixEventRuntime.def -D WinPixEventRuntime.dll -l ./bin/ARM64/libWinPixEventRuntime.a</literal_block>
            </note>
            <paragraph>When building Godot, you will need to tell SCons to use Direct3D 12 and where to
                look for the additional libraries:</paragraph>
            <literal_block force="False" highlight_args="{}" language="doscon" linenos="False" xml:space="preserve">C:\godot&gt; scons platform=windows d3d12=yes mesa_libs=&lt;...&gt;</literal_block>
            <paragraph>Or, with all options enabled:</paragraph>
            <literal_block force="False" highlight_args="{}" language="doscon" linenos="False" xml:space="preserve">C:\godot&gt; scons platform=windows d3d12=yes mesa_libs=&lt;...&gt; agility_sdk_path=&lt;...&gt; pix_path=&lt;...&gt;</literal_block>
            <note>
                <paragraph>For the Agility SDK's DLLs you have to explicitly choose the kind of
                    workflow. Single-arch is the default (DLLs copied to <literal>bin/</literal>). If you
                    pass <literal>agility_sdk_multi_arch=yes</literal> to SCons, you'll opt-in for
                    multi-arch. DLLs will be copied to the appropriate <literal>bin/&lt;arch&gt;/</literal>
                    subdirectories and at runtime the right one will be loaded.</paragraph>
            </note>
        </section>
        <section ids="compiling-with-accesskit-support" names="compiling\ with\ accesskit\ support">
            <title>Compiling with AccessKit support</title>
            <paragraph>AccessKit provides support for screen readers.</paragraph>
            <paragraph>By default, Godot is built with AccessKit dynamically linked. You can use it by placing
                <literal>accesskit.dll</literal> alongside the executable.</paragraph>
            <note>
                <paragraph>You can use dynamically linked AccessKit with export templates as well, rename
                    the DLL to <literal>accesskit.{architecture}.dll</literal>
                    and place them alongside the export template executables, and the libraries will
                    be automatically copied during the export process.</paragraph>
            </note>
            <paragraph>To compile Godot with statically linked AccessKit:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Download the pre-built static libraries from <reference name="godot-accesskit-c-static library" refuri="https://github.com/godotengine/godot-accesskit-c-static/releases">godot-accesskit-c-static library</reference><target ids="godot-accesskit-c-static-library" names="godot-accesskit-c-static\ library" refuri="https://github.com/godotengine/godot-accesskit-c-static/releases"></target>, and unzip them.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>When building Godot, add <literal>accesskit_sdk_path={path}</literal> to tell SCons where to look for the AccessKit libraries:</paragraph>
                    <block_quote>
                        <literal_block force="False" language="shell" linenos="False" xml:space="preserve">scons platform=windows accesskit_sdk_path=&lt;...&gt;</literal_block>
                    </block_quote>
                </list_item>
            </bullet_list>
            <note>
                <paragraph>You can optionally build the godot-angle-static libraries yourself with
                    the following steps:</paragraph>
                <enumerated_list enumtype="arabic" prefix="" suffix=".">
                    <list_item>
                        <paragraph>Clone the <reference name="godot-accesskit-c-static" refuri="https://github.com/godotengine/godot-accesskit-c-static/">godot-accesskit-c-static</reference><target ids="godot-accesskit-c-static" names="godot-accesskit-c-static" refuri="https://github.com/godotengine/godot-accesskit-c-static/"></target>
                            directory and navigate to it.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Run the following command:</paragraph>
                    </list_item>
                </enumerated_list>
                <literal_block force="False" language="shell" linenos="False" xml:space="preserve">cd accesskit-c
cmake -S . -B build -DCMAKE_BUILD_TYPE=Release
cmake --build build
cmake --install build</literal_block>
                <paragraph>The AccessKit static library should be built using the same compiler and the
                    same CRT (if you are building with MinGW) you are using for building
                    Godot.</paragraph>
            </note>
        </section>
        <section ids="compiling-with-angle-support" names="compiling\ with\ angle\ support">
            <title>Compiling with ANGLE support</title>
            <paragraph>ANGLE provides a translation layer from OpenGL ES 3.x to Direct3D 11 and can be used
                to improve support for the Compatibility renderer on some older GPUs with outdated
                OpenGL drivers and on Windows for ARM.</paragraph>
            <paragraph>By default, Godot is built with dynamically linked ANGLE, you can use it by placing
                <literal>libEGL.dll</literal> and <literal>libGLESv2.dll</literal> alongside the executable.</paragraph>
            <note>
                <paragraph>You can use dynamically linked ANGLE with export templates as well, rename
                    the DLLs to <literal>libEGL.{architecture}.dll</literal> and <literal>libGLESv2.{architecture}.dll</literal>
                    and place them alongside the export template executables, and the libraries will
                    be automatically copied during the export process.</paragraph>
            </note>
            <paragraph>To compile Godot with statically linked ANGLE:</paragraph>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph>Download the pre-built static libraries from <reference name="godot-angle-static library" refuri="https://github.com/godotengine/godot-angle-static/releases">godot-angle-static library</reference><target ids="godot-angle-static-library" names="godot-angle-static\ library" refuri="https://github.com/godotengine/godot-angle-static/releases"></target>, and unzip them.</paragraph>
                </list_item>
                <list_item>
                    <paragraph>When building Godot, add <literal>angle_libs={path}</literal> to tell SCons where to look for the ANGLE libraries:</paragraph>
                    <block_quote>
                        <literal_block force="False" language="shell" linenos="False" xml:space="preserve">scons platform=windows angle_libs=&lt;...&gt;</literal_block>
                    </block_quote>
                </list_item>
            </bullet_list>
            <note>
                <paragraph>You can optionally build the godot-angle-static libraries yourself with
                    the following steps:</paragraph>
                <enumerated_list enumtype="arabic" prefix="" suffix=".">
                    <list_item>
                        <paragraph>Clone the <reference name="godot-angle-static" refuri="https://github.com/godotengine/godot-angle-static">godot-angle-static</reference><target ids="godot-angle-static" names="godot-angle-static" refuri="https://github.com/godotengine/godot-angle-static"></target>
                            directory and navigate to it.</paragraph>
                    </list_item>
                    <list_item>
                        <paragraph>Run the following command:</paragraph>
                    </list_item>
                </enumerated_list>
                <literal_block force="False" language="shell" linenos="False" xml:space="preserve">git submodule update --init
./update_angle.sh
scons</literal_block>
                <paragraph>If you are buildng with MinGW, add <literal>use_mingw=yes</literal> to the command,
                    you can also specify the build architecture using <literal>arch={architecture}</literal>.
                    If you are building with MinGW-LLVM, add both <literal>use_mingw=yes</literal> and
                    <literal>use_llvm=yes</literal> to the <literal>scons</literal> command.</paragraph>
                <paragraph>If you are building with MinGW and the binaries are not located in
                    the <literal>PATH</literal>, add <literal>mingw_prefix="/path/to/mingw"</literal> to the <literal>scons</literal>
                    command.</paragraph>
                <paragraph>The ANGLE static library should be built using the same compiler and the
                    same CRT (if you are building with MinGW) you are using for building
                    Godot.</paragraph>
            </note>
        </section>
        <section ids="development-in-visual-studio" names="development\ in\ visual\ studio">
            <title>Development in Visual Studio</title>
            <paragraph>Using an IDE is not required to compile Godot, as SCons takes care of everything.
                But if you intend to do engine development or debugging of the engine's C++ code,
                you may be interested in configuring a code editor or an IDE.</paragraph>
            <paragraph>Folder-based editors don't require any particular setup to start working with Godot's
                codebase. To edit projects with Visual Studio they need to be set up as a solution.</paragraph>
            <paragraph>You can create a Visual Studio solution via SCons by running SCons with
                the <literal>vsproj=yes</literal> parameter, like this:</paragraph>
            <literal_block force="False" language="shell" linenos="False" xml:space="preserve">scons platform=windows vsproj=yes</literal_block>
            <paragraph>You will be able to open Godot's source in a Visual Studio solution now,
                and able to build Godot using Visual Studio's <strong>Build</strong> button.</paragraph>
            <seealso>
                <paragraph>See <reference internal="True" refuri="../configuring_an_ide/visual_studio#doc-configuring-an-ide-vs"><inline classes="std std-ref">Visual Studio</inline></reference> for further details.</paragraph>
            </seealso>
            <section dupnames="troubleshooting" ids="troubleshooting">
                <title>Troubleshooting</title>
                <paragraph>If you get a compilation failure when using MSVC, make sure to apply the
                    latest updates. You can do so by starting the Visual Studio IDE and using
                    <inline classes="role-button role-ui">Continue without code</inline>, then <inline classes="role-menu role-ui">Help &gt; Check for Updates</inline> in the
                    menu bar at the top. Install all updates, then try compiling again.</paragraph>
            </section>
        </section>
        <section ids="cross-compiling-for-windows-from-other-operating-systems" names="cross-compiling\ for\ windows\ from\ other\ operating\ systems">
            <title>Cross-compiling for Windows from other operating systems</title>
            <paragraph>If you are a Linux or macOS user, you need to install
                <reference name="MinGW-w64" refuri="https://www.mingw-w64.org/">MinGW-w64</reference>, which typically comes in 32-bit
                and 64-bit variants, or <reference name="MinGW-LLVM" refuri="https://github.com/mstorsjo/llvm-mingw/releases">MinGW-LLVM</reference><target dupnames="mingw-llvm" ids="id1" refuri="https://github.com/mstorsjo/llvm-mingw/releases"></target>,
                which comes as a single archive for all target architectures.
                The package names may differ based on your distribution, here are some known ones:</paragraph>
            <table>
                <tgroup cols="2">
                    <colspec colwidth="16"></colspec>
                    <colspec colwidth="62"></colspec>
                    <tbody>
                        <row>
                            <entry>
                                <paragraph><strong>Arch Linux</strong></paragraph>
                            </entry>
                            <entry>
                                <literal_block force="False" language="shell" linenos="False" xml:space="preserve">pacman -S mingw-w64</literal_block>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>Debian</strong> /
                                    <strong>Ubuntu</strong></paragraph>
                            </entry>
                            <entry>
                                <literal_block force="False" language="shell" linenos="False" xml:space="preserve">apt install mingw-w64</literal_block>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>Fedora</strong></paragraph>
                            </entry>
                            <entry>
                                <literal_block force="False" language="shell" linenos="False" xml:space="preserve">dnf install mingw64-gcc-c++ mingw64-winpthreads-static \
            mingw32-gcc-c++ mingw32-winpthreads-static</literal_block>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>macOS</strong></paragraph>
                            </entry>
                            <entry>
                                <literal_block force="False" language="shell" linenos="False" xml:space="preserve">brew install mingw-w64</literal_block>
                            </entry>
                        </row>
                        <row>
                            <entry>
                                <paragraph><strong>Mageia</strong></paragraph>
                            </entry>
                            <entry>
                                <literal_block force="False" language="shell" linenos="False" xml:space="preserve">urpmi mingw64-gcc-c++ mingw64-winpthreads-static \
      mingw32-gcc-c++ mingw32-winpthreads-static</literal_block>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
            <paragraph>Before attempting the compilation, SCons will check for
                the following binaries in your <literal>PATH</literal> environment variable:</paragraph>
            <literal_block force="False" language="shell" linenos="False" xml:space="preserve"># for MinGW-w64
i686-w64-mingw32-gcc
x86_64-w64-mingw32-gcc

# for MinGW-LLVM
aarch64-w64-mingw32-clang
i686-w64-mingw32-clang
x86_64-w64-mingw32-clang</literal_block>
            <paragraph>If the binaries are not located in the <literal>PATH</literal> (e.g. <literal>/usr/bin</literal>),
                you can define the following environment variable to give a hint to
                the build system:</paragraph>
            <literal_block force="False" language="shell" linenos="False" xml:space="preserve">export MINGW_PREFIX="/path/to/mingw"</literal_block>
            <paragraph>Where <literal>/path/to/mingw</literal> is the path containing the <literal>bin</literal> directory where
                <literal>i686-w64-mingw32-gcc</literal> and <literal>x86_64-w64-mingw32-gcc</literal> are located (e.g.
                <literal>/opt/mingw-w64</literal> if the binaries are located in <literal>/opt/mingw-w64/bin</literal>).</paragraph>
            <paragraph>To make sure you are doing things correctly, executing the following in
                the shell should result in a working compiler (the version output may
                differ based on your system):</paragraph>
            <literal_block force="False" language="shell" linenos="False" xml:space="preserve">${MINGW_PREFIX}/bin/x86_64-w64-mingw32-gcc --version
# x86_64-w64-mingw32-gcc (GCC) 13.2.0</literal_block>
            <note>
                <paragraph>If you are building with MinGW-LLVM, add <literal>use_llvm=yes</literal> to the <literal>scons</literal> command.</paragraph>
            </note>
            <note>
                <paragraph>When cross-compiling for Windows using MinGW-w64, keep in mind only
                    <literal>x86_64</literal> and <literal>x86_32</literal> architectures are supported. MinGW-LLVM supports
                    <literal>arm64</literal> as well. Be sure to specify the right <literal>arch=</literal> option when
                    invoking SCons if building from a different architecture.</paragraph>
            </note>
            <section dupnames="troubleshooting" ids="id2">
                <title>Troubleshooting</title>
                <paragraph>Cross-compiling from some Ubuntu versions may lead to
                    <reference name="this bug" refuri="https://github.com/godotengine/godot/issues/9258">this bug</reference><target ids="this-bug" names="this\ bug" refuri="https://github.com/godotengine/godot/issues/9258"></target>,
                    due to a default configuration lacking support for POSIX threading.</paragraph>
                <paragraph>You can change that configuration following those instructions, for 64-bit:</paragraph>
                <literal_block force="False" language="shell" linenos="False" xml:space="preserve">sudo update-alternatives --config x86_64-w64-mingw32-gcc
&lt;choose x86_64-w64-mingw32-gcc-posix from the list&gt;
sudo update-alternatives --config x86_64-w64-mingw32-g++
&lt;choose x86_64-w64-mingw32-g++-posix from the list&gt;</literal_block>
                <paragraph>And for 32-bit:</paragraph>
                <literal_block force="False" language="shell" linenos="False" xml:space="preserve">sudo update-alternatives --config i686-w64-mingw32-gcc
&lt;choose i686-w64-mingw32-gcc-posix from the list&gt;
sudo update-alternatives --config i686-w64-mingw32-g++
&lt;choose i686-w64-mingw32-g++-posix from the list&gt;</literal_block>
            </section>
        </section>
        <section ids="creating-windows-export-templates" names="creating\ windows\ export\ templates">
            <title>Creating Windows export templates</title>
            <paragraph>Windows export templates are created by compiling Godot without the editor,
                with the following flags:</paragraph>
            <literal_block force="False" highlight_args="{}" language="doscon" linenos="False" xml:space="preserve">C:\godot&gt; scons platform=windows target=template_debug arch=x86_32
C:\godot&gt; scons platform=windows target=template_release arch=x86_32
C:\godot&gt; scons platform=windows target=template_debug arch=x86_64
C:\godot&gt; scons platform=windows target=template_release arch=x86_64
C:\godot&gt; scons platform=windows target=template_debug arch=arm64
C:\godot&gt; scons platform=windows target=template_release arch=arm64</literal_block>
            <paragraph>If you plan on replacing the standard export templates, copy these to the
                following location, replacing <literal>&lt;version&gt;</literal> with the version identifier
                (such as <literal>4.2.1.stable</literal> or <literal>4.3.dev</literal>):</paragraph>
            <literal_block force="False" highlight_args="{}" language="none" linenos="False" xml:space="preserve">%APPDATA%\Godot\export_templates\&lt;version&gt;\</literal_block>
            <paragraph>With the following names:</paragraph>
            <literal_block force="False" language="shell" linenos="False" xml:space="preserve">windows_debug_x86_32_console.exe
windows_debug_x86_32.exe
windows_debug_x86_64_console.exe
windows_debug_x86_64.exe
windows_debug_arm64_console.exe
windows_debug_arm64.exe
windows_release_x86_32_console.exe
windows_release_x86_32.exe
windows_release_x86_64_console.exe
windows_release_x86_64.exe
windows_release_arm64_console.exe
windows_release_arm64.exe</literal_block>
            <paragraph>However, if you are using custom modules or custom engine code, you
                may instead want to configure your binaries as custom export templates
                in the project export menu. You must have <strong>Advanced Options</strong> enabled
                to set this.</paragraph>
            <image candidates="{'*': 'engine_details/development/compiling/img/wintemplates.webp'}" original_uri="img/wintemplates.webp" uri="engine_details/development/compiling/img/wintemplates.webp"></image>
            <paragraph>You don't need to copy them in this case, just reference the resulting
                files in the <literal>bin\</literal> directory of your Godot source folder, so the next
                time you build, you will automatically have the custom templates referenced.</paragraph>
            <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
        </section>
    </section>
</document>
