<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE document PUBLIC "+//IDN docutils.sourceforge.net//DTD Docutils Generic//EN//XML" "http://docutils.sourceforge.net/docs/ref/docutils.dtd">
<!-- Generated by Docutils 0.21.2 -->
<document source="/home/runner/work/godot-docs-cn/godot-docs-cn/godot-docs/docs/engine_details/development/compiling/compiling_for_ios.rst" translation_progress="{'total': 0, 'translated': 0}" xmlns:c="https://www.sphinx-doc.org/" xmlns:changeset="https://www.sphinx-doc.org/" xmlns:citation="https://www.sphinx-doc.org/" xmlns:cpp="https://www.sphinx-doc.org/" xmlns:index="https://www.sphinx-doc.org/" xmlns:js="https://www.sphinx-doc.org/" xmlns:math="https://www.sphinx-doc.org/" xmlns:py="https://www.sphinx-doc.org/" xmlns:rst="https://www.sphinx-doc.org/" xmlns:std="https://www.sphinx-doc.org/">
    <target refid="doc-compiling-for-ios"></target>
    <section ids="compiling-for-ios doc-compiling-for-ios" names="compiling\ for\ ios doc_compiling_for_ios">
        <title>Compiling for iOS</title>
        <seealso>
            <paragraph>This page describes how to compile iOS export template binaries from source.
                If you're looking to export your project to iOS instead, read <reference internal="True" refuri="../../../tutorials/export/exporting_for_ios#doc-exporting-for-ios"><inline classes="std std-ref">Exporting for iOS</inline></reference>.</paragraph>
        </seealso>
        <section ids="requirements" names="requirements">
            <title>Requirements</title>
            <bullet_list bullet="-">
                <list_item>
                    <paragraph><reference name="Python 3.8+" refuri="https://www.python.org/downloads/macos/">Python 3.8+</reference><target ids="python-3-8" names="python\ 3.8+" refuri="https://www.python.org/downloads/macos/"></target>.</paragraph>
                </list_item>
                <list_item>
                    <paragraph><reference name="SCons 4.0+" refuri="https://scons.org/pages/download.html">SCons 4.0+</reference><target ids="scons-4-0" names="scons\ 4.0+" refuri="https://scons.org/pages/download.html"></target> build system.</paragraph>
                </list_item>
                <list_item>
                    <definition_list>
                        <definition_list_item>
                            <term><reference name="Xcode" refuri="https://apps.apple.com/us/app/xcode/id497799835">Xcode</reference><target ids="xcode" names="xcode" refuri="https://apps.apple.com/us/app/xcode/id497799835"></target>.</term>
                            <definition>
                                <bullet_list bullet="-">
                                    <list_item>
                                        <paragraph>Launch Xcode once and install iOS support. If you have already launched
                                            Xcode and need to install iOS support, go to <emphasis>Xcode -&gt; Settings... -&gt; Platforms</emphasis>.</paragraph>
                                    </list_item>
                                    <list_item>
                                        <paragraph>Go to <emphasis>Xcode -&gt; Settings... -&gt; Locations -&gt; Command Line Tools</emphasis> and select
                                            an installed version. Even if one is already selected, re-select it.</paragraph>
                                    </list_item>
                                </bullet_list>
                            </definition>
                        </definition_list_item>
                    </definition_list>
                </list_item>
                <list_item>
                    <paragraph>Download and follow README instructions to build a static <literal>.xcframework</literal>
                        from the <reference name="MoltenVK SDK" refuri="https://github.com/KhronosGroup/MoltenVK#fetching-moltenvk-source-code">MoltenVK SDK</reference>.</paragraph>
                </list_item>
            </bullet_list>
            <note>
                <paragraph>If you have <reference name="Homebrew" refuri="https://brew.sh/">Homebrew</reference><target ids="homebrew" names="homebrew" refuri="https://brew.sh/"></target> installed, you can easily
                    install SCons using the following command:</paragraph>
                <literal_block force="False" language="shell" linenos="False" xml:space="preserve">brew install scons</literal_block>
                <paragraph>Installing Homebrew will also fetch the Command Line Tools
                    for Xcode automatically if you don't have them already.</paragraph>
                <paragraph>Similarly, if you have <reference name="MacPorts" refuri="https://www.macports.org/">MacPorts</reference><target ids="macports" names="macports" refuri="https://www.macports.org/"></target>
                    installed, you can easily install SCons using the
                    following command:</paragraph>
                <literal_block force="False" language="shell" linenos="False" xml:space="preserve">sudo port install scons</literal_block>
            </note>
            <seealso>
                <paragraph>To get the Godot source code for compiling, see
                    <reference internal="True" refuri="getting_source#doc-getting-source"><inline classes="std std-ref">Getting the source</inline></reference>.</paragraph>
                <paragraph>For a general overview of SCons usage for Godot, see
                    <reference internal="True" refuri="introduction_to_the_buildsystem#doc-introduction-to-the-buildsystem"><inline classes="std std-ref">Introduction to the buildsystem</inline></reference>.</paragraph>
            </seealso>
        </section>
        <section ids="compiling" names="compiling">
            <title>Compiling</title>
            <paragraph>Open a Terminal, go to the root folder of the engine source code and type
                the following to compile a debug build:</paragraph>
            <literal_block force="False" language="shell" linenos="False" xml:space="preserve">scons platform=ios target=template_debug generate_bundle=yes</literal_block>
            <paragraph>To compile a release build:</paragraph>
            <literal_block force="False" language="shell" linenos="False" xml:space="preserve">scons platform=ios target=template_release generate_bundle=yes</literal_block>
            <paragraph>To create an Xcode project like in the official builds, you need to use the
                template located in <literal>misc/dist/ios_xcode</literal>. The release and debug libraries
                should be placed in <literal>libgodot.ios.debug.xcframework</literal> and
                <literal>libgodot.ios.release.xcframework</literal> respectively. This process can be automated
                by using the <literal>generate_bundle=yes</literal> option on the <emphasis>last</emphasis> SCons command used to
                build export templates (so that all binaries can be included).</paragraph>
            <paragraph>The MoltenVK static <literal>.xcframework</literal> folder must also be placed in the
                <literal>ios_xcode</literal> folder once it has been created. MoltenVK is always statically
                linked on iOS; there is no dynamic linking option available, unlike macOS.</paragraph>
            <warning>
                <paragraph>Compiling for the iOS simulator is currently not supported as per
                    <reference name="GH-102149" refuri="https://github.com/godotengine/godot/issues/102149">GH-102149</reference>.</paragraph>
                <paragraph>Apple Silicon Macs can run iOS apps natively, so you can run exported iOS projects
                    directly on an Apple Silicon Mac without needing the iOS simulator.</paragraph>
            </warning>
        </section>
        <section ids="run" names="run">
            <title>Run</title>
            <paragraph>To run on a device, follow these instructions:
                <reference internal="True" refuri="../../../tutorials/export/exporting_for_ios#doc-exporting-for-ios"><inline classes="std std-ref">Exporting for iOS</inline></reference>.</paragraph>
            <paragraph>iOS exports can run directly on an Apple Silicon Mac. To run exported iOS project
                on Mac, open exported project in Xcode and select <literal>My Mac</literal> in the <literal>Run Destinations</literal>
                dropdown.</paragraph>
        </section>
        <section ids="troubleshooting" names="troubleshooting">
            <title>Troubleshooting</title>
            <section ids="fatal-error-cstdint-file-not-found" names="fatal\ error:\ 'cstdint'\ file\ not\ found">
                <title>Fatal error: 'cstdint' file not found</title>
                <paragraph>If you get a compilation error of this form early on, it's likely because
                    the Xcode command line tools installation needs to be repaired after
                    a macOS or Xcode update:</paragraph>
                <literal_block force="False" language="shell" linenos="False" xml:space="preserve">./core/typedefs.h:45:10: fatal error: 'cstdint' file not found
45 | #include &lt;cstdint&gt;
   |          ^~~~~~~~~</literal_block>
                <paragraph>Run these two commands to reinstall Xcode command line tools
                    (enter your administrator password as needed):</paragraph>
                <literal_block force="False" language="shell" linenos="False" xml:space="preserve">sudo rm -rf /Library/Developer/CommandLineTools
sudo xcode-select --install</literal_block>
                <paragraph>If it still does not work, try updating Xcode from the Mac App Store and try again.</paragraph>
                <substitution_definition names="weblate_widget"><reference refuri="https://hosted.weblate.org/engage/godot-engine/?utm_source=widget"><image alt="Translation status" candidates="{'?': 'https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png'}" height="66" uri="https://hosted.weblate.org/widgets/godot-engine/-/godot-docs/287x66-white.png" width="287"></image></reference></substitution_definition>
            </section>
        </section>
    </section>
</document>
