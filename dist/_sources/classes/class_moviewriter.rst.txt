:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/doc/classes/MovieWriter.xml.

.. _class_MovieWriter:

MovieWriter
===========

**ç»§æ‰¿ï¼š** :ref:`Object<class_Object>`

éå®æ—¶è§†é¢‘å½•åˆ¶ç¼–ç å™¨çš„æŠ½è±¡ç±»ã€‚

.. rst-class:: classref-introduction-group

æè¿°
----

Godot èƒ½å¤Ÿä½¿ç”¨éå®æ—¶æ¨¡æ‹ŸæŠ€æœ¯å½•åˆ¶è§†é¢‘ã€‚ä¸ ``--fixed-fps`` :doc:`å‘½ä»¤è¡Œå‚æ•° <../tutorials/editor/command_line_tutorial>`\ ç±»ä¼¼ï¼Œä¼šå¼ºåˆ¶è®© :ref:`Node._process<class_Node_private_method__process>` ç­‰å‡½æ•°æ¯ä¸€å¸§éƒ½æ”¶åˆ°ç›¸åŒçš„ ``delta``\ ï¼Œæ— è®ºå®é™…æ¸²æŸ“èŠ±è´¹äº†å¤šé•¿çš„æ—¶é—´ã€‚è¿™ä¸ªæŠ€æœ¯å¯ç”¨äºå½•åˆ¶é«˜ç”»è´¨çš„è§†é¢‘ï¼Œæ— è®ºä½ çš„ç¡¬ä»¶æ€§èƒ½å¦‚ä½•ï¼Œå¸§ç‡å§‹ç»ˆéƒ½æ˜¯æ’å®šçš„ã€‚

Godot å†…ç½®çš„ **MovieWriter** æœ‰ä¸¤ä¸ªï¼š

- ä½¿ç”¨ MJPEG è§†é¢‘å’Œæœªå‹ç¼©éŸ³é¢‘çš„ AVI å®¹å™¨ï¼ˆæ–‡ä»¶æ‰©å±•åä¸º ``.avi``\ ï¼‰ã€‚æœ‰æŸå‹ç¼©ã€æ–‡ä»¶å¤§å°ä¸­ç­‰ã€ç¼–ç é€Ÿåº¦è¾ƒå¿«ã€‚æœ‰æŸå‹ç¼©è´¨é‡å¯ä»¥é€šè¿‡ä¿®æ”¹ :ref:`ProjectSettings.editor/movie_writer/mjpeg_quality<class_ProjectSettings_property_editor/movie_writer/mjpeg_quality>` æ¥è°ƒæ•´ã€‚ç”Ÿæˆçš„æ–‡ä»¶å¯ä»¥ä½¿ç”¨å¤§å¤šæ•°è§†é¢‘æ’­æ”¾å™¨æŸ¥çœ‹ï¼Œä½†å¦‚æœè¦åœ¨ Web ä¸ŠæŸ¥çœ‹æˆ–è€…ç”¨ Godot çš„ :ref:`VideoStreamPlayer<class_VideoStreamPlayer>` æŸ¥çœ‹ï¼Œåˆ™å¿…é¡»å…ˆè¿›è¡Œæ ¼å¼çš„è½¬æ¢ã€‚MJPEG ä¸æ”¯æŒé€æ˜åº¦ã€‚AVI è¾“å‡ºçš„æ–‡ä»¶ç›®å‰æœ€å¤šä¸º 4 GB å¤§å°ã€‚

- è§†é¢‘ä½¿ç”¨ PNG å›¾åƒåºåˆ—ã€éŸ³é¢‘ä½¿ç”¨ WAVï¼ˆæ–‡ä»¶æ‰©å±•åä¸º ``.png``\ ï¼‰ã€‚æ— æŸå‹ç¼©ã€æ–‡ä»¶å¤§å°è¾ƒå¤§ã€ç¼–ç é€Ÿåº¦è¾ƒæ…¢ã€‚æ—¨åœ¨å½•åˆ¶åä½¿ç”¨ `FFmpeg <https://ffmpeg.org/>`__ ç­‰å…¶ä»–å·¥å…·ç¼–ç ä¸ºè§†é¢‘æ–‡ä»¶ã€‚ç›®å‰ä¸æ”¯æŒé€æ˜åº¦ï¼Œå³ä¾¿å°†æ ¹è§†å£è®¾ä¸ºé€æ˜ã€‚

å¦‚æœä½ éœ€è¦ç¼–ç ä¸ºå…¶ä»–æ ¼å¼ï¼Œæˆ–è€…å°†æµå¯¼å…¥åˆ°ç¬¬ä¸‰æ–¹è½¯ä»¶ä¸­ï¼Œä½ å¯ä»¥æ‰©å±• **MovieWriter** ç±»ï¼Œåˆ›å»ºè‡ªå·±çš„å½±ç‰‡å†™å…¥å™¨ã€‚å‡ºäºæ€§èƒ½è€ƒè™‘ï¼Œä¸€èˆ¬åº”è¯¥ä½¿ç”¨ GDExtension å®ç°ã€‚

\ **ç¼–è¾‘å™¨ä½¿ç”¨ï¼š**\ é»˜è®¤å½±ç‰‡æ–‡ä»¶è·¯å¾„å¯ä»¥åœ¨ :ref:`ProjectSettings.editor/movie_writer/movie_file<class_ProjectSettings_property_editor/movie_writer/movie_file>` æŒ‡å®šã€‚æˆ–è€…åœ¨è¿è¡Œå•ä¸ªåœºæ™¯æ—¶ï¼Œä¹Ÿå¯ä»¥åœ¨æ ¹èŠ‚ç‚¹ä¸Šæ·»åŠ å…ƒæ•°æ® ``movie_file``\ ï¼Œå¯ä»¥æŒ‡å®šå½•åˆ¶è¯¥åœºæ™¯æ—¶æ‰€ä½¿ç”¨çš„å½±ç‰‡æ–‡ä»¶è·¯å¾„ã€‚è®¾ç½®è·¯å¾„åï¼Œè¯·ç‚¹å‡»ç¼–è¾‘å™¨å³ä¸Šè§’çš„ç”µå½±èƒ¶å·å›¾æ ‡ï¼Œå¯åŠ¨ Movie Maker æ¨¡å¼ï¼Œç„¶åå’Œå¹³å¸¸ä¸€æ ·è¿è¡Œåœºæ™¯å³å¯ã€‚å¼•æ“ä¼šåœ¨å¯åŠ¨ç”»é¢ç»“æŸåå¼€å§‹å½•åˆ¶ï¼Œåªä¼šåœ¨å¼•æ“é€€å‡ºæ—¶åœæ­¢å½•åˆ¶ã€‚å†æ¬¡ç‚¹å‡»ç”µå½±èƒ¶å·å›¾æ ‡å¯ä»¥ç¦ç”¨ Movie Maker æ¨¡å¼ã€‚è¯·æ³¨æ„ï¼ŒMovie Maker æ¨¡å¼çš„å¼€å…³ä¸ä¼šå½±å“æ­£åœ¨è¿è¡Œçš„é¡¹ç›®å®ä¾‹ã€‚

\ **æ³¨æ„ï¼š**\ MovieWriter æ—¢å¯ä»¥åœ¨ç¼–è¾‘å™¨ä¸­ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨å¯¼å‡ºçš„é¡¹ç›®ä¸­ä½¿ç”¨ï¼Œä½†è¿™ä¸ªåŠŸèƒ½\ *ä¸åº”*\ ç”¨æ¥è®©æœ€ç»ˆç”¨æˆ·å½•åˆ¶æ¸¸æˆè§†é¢‘ã€‚å¸Œæœ›å½•åˆ¶æ¸¸æˆè§†é¢‘çš„ç©å®¶åº”è¯¥å®‰è£… `OBS Studio <https://obsproject.com/>`__ æˆ– `SimpleScreenRecorder <https://www.maartenbaert.be/simplescreenrecorder/>`__ ç­‰å·¥å…·ã€‚

.. rst-class:: classref-reftable-group

æ–¹æ³•
----

.. table::
   :widths: auto

   +--------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                            | :ref:`_get_audio_mix_rate<class_MovieWriter_private_method__get_audio_mix_rate>`\ (\ ) |virtual| |const|                                                                                               |
   +--------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`SpeakerMode<enum_AudioServer_SpeakerMode>` | :ref:`_get_audio_speaker_mode<class_MovieWriter_private_method__get_audio_speaker_mode>`\ (\ ) |virtual| |const|                                                                                       |
   +--------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                          | :ref:`_handles_file<class_MovieWriter_private_method__handles_file>`\ (\ path\: :ref:`String<class_String>`\ ) |virtual| |const|                                                                       |
   +--------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Error<enum_@GlobalScope_Error>`            | :ref:`_write_begin<class_MovieWriter_private_method__write_begin>`\ (\ movie_size\: :ref:`Vector2i<class_Vector2i>`, fps\: :ref:`int<class_int>`, base_path\: :ref:`String<class_String>`\ ) |virtual| |
   +--------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                           | :ref:`_write_end<class_MovieWriter_private_method__write_end>`\ (\ ) |virtual|                                                                                                                         |
   +--------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Error<enum_@GlobalScope_Error>`            | :ref:`_write_frame<class_MovieWriter_private_method__write_frame>`\ (\ frame_image\: :ref:`Image<class_Image>`, audio_frame_block\: ``const void*``\ ) |virtual|                                       |
   +--------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                           | :ref:`add_writer<class_MovieWriter_method_add_writer>`\ (\ writer\: :ref:`MovieWriter<class_MovieWriter>`\ ) |static|                                                                                  |
   +--------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

æ–¹æ³•è¯´æ˜
--------

.. _class_MovieWriter_private_method__get_audio_mix_rate:

.. rst-class:: classref-method

:ref:`int<class_int>` **_get_audio_mix_rate**\ (\ ) |virtual| |const| :ref:`ğŸ”—<class_MovieWriter_private_method__get_audio_mix_rate>`

å½“å¼•æ“è¯·æ±‚ç”¨äºå½•åˆ¶éŸ³é¢‘çš„éŸ³é¢‘é‡‡æ ·ç‡æ—¶è°ƒç”¨ã€‚è¿”å›çš„å€¼å¿…é¡»ä»¥ Hz ä¸ºå•ä½æŒ‡å®šã€‚å¦‚æœ :ref:`_get_audio_mix_rate<class_MovieWriter_private_method__get_audio_mix_rate>` æœªè¢«é‡å†™ï¼Œåˆ™é»˜è®¤ä¸º 48000 Hzã€‚

.. rst-class:: classref-item-separator

----

.. _class_MovieWriter_private_method__get_audio_speaker_mode:

.. rst-class:: classref-method

:ref:`SpeakerMode<enum_AudioServer_SpeakerMode>` **_get_audio_speaker_mode**\ (\ ) |virtual| |const| :ref:`ğŸ”—<class_MovieWriter_private_method__get_audio_speaker_mode>`

å½“å¼•æ“è¯·æ±‚ç”¨äºå½•åˆ¶éŸ³é¢‘çš„éŸ³é¢‘æ‰¬å£°å™¨æ¨¡å¼æ—¶è°ƒç”¨ã€‚è¿™å¯èƒ½ä¼šå½±å“ç”Ÿæˆçš„éŸ³é¢‘æ–‡ä»¶/æµä¸­çš„è¾“å‡ºé€šé“æ•°ã€‚å¦‚æœ :ref:`_get_audio_speaker_mode<class_MovieWriter_private_method__get_audio_speaker_mode>` æœªè¢«é‡å†™ï¼Œåˆ™é»˜è®¤ä¸º :ref:`AudioServer.SPEAKER_MODE_STEREO<class_AudioServer_constant_SPEAKER_MODE_STEREO>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_MovieWriter_private_method__handles_file:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **_handles_file**\ (\ path\: :ref:`String<class_String>`\ ) |virtual| |const| :ref:`ğŸ”—<class_MovieWriter_private_method__handles_file>`

å½“å¼•æ“ç¡®å®šè¯¥ **MovieWriter** æ˜¯å¦èƒ½å¤Ÿå¤„ç†ä½äº ``path`` çš„æ–‡ä»¶æ—¶è°ƒç”¨ã€‚å¦‚æœè¯¥ **MovieWriter** èƒ½å¤Ÿå¤„ç†ç»™å®šçš„æ–‡ä»¶è·¯å¾„ï¼Œåˆ™å¿…é¡»è¿”å› ``true``\ ï¼Œå¦åˆ™è¿”å› ``false``\ ã€‚é€šå¸¸ï¼Œ\ :ref:`_handles_file<class_MovieWriter_private_method__handles_file>` å¦‚ä¸‹è¢«é‡å†™ï¼Œä»¥å…è®¸ç”¨æˆ·ä½¿ç”¨ç»™å®šæ–‡ä»¶æ‰©å±•åï¼Œåœ¨ä»»ä½•è·¯å¾„ä¸‹è®°å½•ä¸€ä¸ªæ–‡ä»¶ï¼š

::

    func _handles_file(path):
        # å…è®¸æŒ‡å®šä¸€ä¸ªå¸¦æœ‰ `.mkv` æ–‡ä»¶æ‰©å±•åï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰çš„è¾“å‡ºæ–‡ä»¶ï¼Œ
        # åœ¨é¡¹ç›®è®¾ç½®ä¸­æˆ–ä½¿ç”¨ `--write-movie <path>` å‘½ä»¤è¡Œå‚æ•°ã€‚
        return path.get_extension().to_lower() == "mkv"

.. rst-class:: classref-item-separator

----

.. _class_MovieWriter_private_method__write_begin:

.. rst-class:: classref-method

:ref:`Error<enum_@GlobalScope_Error>` **_write_begin**\ (\ movie_size\: :ref:`Vector2i<class_Vector2i>`, fps\: :ref:`int<class_int>`, base_path\: :ref:`String<class_String>`\ ) |virtual| :ref:`ğŸ”—<class_MovieWriter_private_method__write_begin>`

åœ¨å¼•æ“å¼€å§‹å†™å…¥è§†é¢‘å’ŒéŸ³é¢‘æ•°æ®ä¹‹å‰è°ƒç”¨ä¸€æ¬¡ã€‚\ ``movie_size`` æ˜¯è¦ä¿å­˜çš„è§†é¢‘çš„å®½åº¦å’Œé«˜åº¦ã€‚\ ``fps`` æ˜¯æŒ‡å®šçš„æ¯ç§’å¸§æ•°ï¼Œåœ¨é¡¹ç›®è®¾ç½®ä¸­æˆ–ä½¿ç”¨ ``--fixed-fps <fps>``\ :doc:`ã€Šå‘½ä»¤è¡Œå‚æ•°ã€‹ <../tutorials/editor/command_line_tutorial>`\ æŒ‡å®šã€‚

.. rst-class:: classref-item-separator

----

.. _class_MovieWriter_private_method__write_end:

.. rst-class:: classref-method

|void| **_write_end**\ (\ ) |virtual| :ref:`ğŸ”—<class_MovieWriter_private_method__write_end>`

å½“å¼•æ“å®Œæˆå†™å…¥æ—¶è°ƒç”¨ã€‚å½“å¼•æ“é€šè¿‡æŒ‰ä¸‹çª—å£ç®¡ç†å™¨çš„å…³é—­æŒ‰é’®é€€å‡ºæ—¶ï¼Œæˆ–è°ƒç”¨ :ref:`SceneTree.quit<class_SceneTree_method_quit>` æ—¶ï¼Œä¼šå‘ç”Ÿè¿™ç§æƒ…å†µã€‚

\ **æ³¨æ„ï¼š**\ åœ¨è¿è¡Œç¼–è¾‘å™¨/é¡¹ç›®çš„ç»ˆç«¯ä¸Šï¼ŒæŒ‰ :kbd:`Ctrl + C`\ ï¼Œ\ *ä¸ä¼š*\ å¯¼è‡´ :ref:`_write_end<class_MovieWriter_private_method__write_end>` è¢«è°ƒç”¨ã€‚

.. rst-class:: classref-item-separator

----

.. _class_MovieWriter_private_method__write_frame:

.. rst-class:: classref-method

:ref:`Error<enum_@GlobalScope_Error>` **_write_frame**\ (\ frame_image\: :ref:`Image<class_Image>`, audio_frame_block\: ``const void*``\ ) |virtual| :ref:`ğŸ”—<class_MovieWriter_private_method__write_frame>`

åœ¨æ¯ä¸ªæ¸²æŸ“çš„å¸§ç»“æŸæ—¶è¢«è°ƒç”¨ã€‚åº”å†™å…¥ ``frame_image`` å’Œ ``audio_frame_block`` å‡½æ•°å‚æ•°ã€‚

.. rst-class:: classref-item-separator

----

.. _class_MovieWriter_method_add_writer:

.. rst-class:: classref-method

|void| **add_writer**\ (\ writer\: :ref:`MovieWriter<class_MovieWriter>`\ ) |static| :ref:`ğŸ”—<class_MovieWriter_method_add_writer>`

æ·»åŠ ä¸€ä¸ªå¯ä¾›å¼•æ“ä½¿ç”¨çš„ç¼–å†™å™¨ã€‚å¯ä»¥é€šè¿‡é‡å†™ :ref:`_handles_file<class_MovieWriter_private_method__handles_file>`\ ï¼Œæ¥è®¾ç½®æ”¯æŒçš„æ–‡ä»¶æ‰©å±•åã€‚

\ **æ³¨æ„ï¼š**\ :ref:`add_writer<class_MovieWriter_method_add_writer>` å¿…é¡»åœ¨å¼•æ“åˆå§‹åŒ–æœŸé—´å°½æ—©è°ƒç”¨æ‰èƒ½å·¥ä½œï¼Œå› ä¸ºç”µå½±ç¼–å†™è¢«è®¾è®¡ä¸ºä¸å¼•æ“çš„å…¶ä½™éƒ¨åˆ†åŒæ—¶å¯åŠ¨ã€‚

.. |virtual| replace:: :abbr:`virtual (æœ¬æ–¹æ³•é€šå¸¸éœ€è¦ç”¨æˆ·è¦†ç›–æ‰èƒ½ç”Ÿæ•ˆã€‚)`
.. |const| replace:: :abbr:`const (æœ¬æ–¹æ³•æ— å‰¯ä½œç”¨ï¼Œä¸ä¼šä¿®æ”¹è¯¥å®ä¾‹çš„ä»»ä½•æˆå‘˜å˜é‡ã€‚)`
.. |vararg| replace:: :abbr:`vararg (æœ¬æ–¹æ³•é™¤äº†èƒ½æ¥å—åœ¨æ­¤å¤„æè¿°çš„å‚æ•°å¤–ï¼Œè¿˜èƒ½å¤Ÿç»§ç»­æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ã€‚)`
.. |constructor| replace:: :abbr:`constructor (æœ¬æ–¹æ³•ç”¨äºæ„é€ æŸä¸ªç±»å‹ã€‚)`
.. |static| replace:: :abbr:`static (è°ƒç”¨æœ¬æ–¹æ³•æ— éœ€å®ä¾‹ï¼Œå¯ç›´æ¥ä½¿ç”¨ç±»åè¿›è¡Œè°ƒç”¨ã€‚)`
.. |operator| replace:: :abbr:`operator (æœ¬æ–¹æ³•æè¿°çš„æ˜¯ä½¿ç”¨æœ¬ç±»å‹ä½œä¸ºå·¦æ“ä½œæ•°çš„æœ‰æ•ˆè¿ç®—ç¬¦ã€‚)`
.. |bitfield| replace:: :abbr:`BitField (è¿™ä¸ªå€¼æ˜¯ç”±ä¸‹åˆ—ä½æ ‡å¿—æ„æˆä½æ©ç çš„æ•´æ•°ã€‚)`
.. |void| replace:: :abbr:`void (æ— è¿”å›å€¼ã€‚)`
