:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/4.2/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/4.2/doc/classes/CanvasItem.xml.

.. _class_CanvasItem:

CanvasItem
==========

**继承：** :ref:`Node<class_Node>` **<** :ref:`Object<class_Object>`

**派生：** :ref:`Control<class_Control>`, :ref:`Node2D<class_Node2D>`

2D 空间中所有对象的抽象基类。

.. rst-class:: classref-introduction-group

描述
----

2D 空间中所有对象的抽象基类。画布项目以树状排列；子节点继承并扩展其父节点的变换。\ **CanvasItem** 由 :ref:`Control<class_Control>` 扩展为 GUI 相关的节点，由 :ref:`Node2D<class_Node2D>` 扩展为 2D 游戏对象。

任何 **CanvasItem** 都可以进行绘图。绘图时，引擎会调用 :ref:`queue_redraw<class_CanvasItem_method_queue_redraw>`\ ，然后 :ref:`NOTIFICATION_DRAW<class_CanvasItem_constant_NOTIFICATION_DRAW>` 就会在空闲时被接收到以请求重绘。因此，画布项目不需要每一帧都重绘，这显著提升了性能。这个类还提供了几个用于在 **CanvasItem** 上绘图的函数（见 ``draw_*`` 函数）。不过这些函数都只能在 :ref:`_draw<class_CanvasItem_private_method__draw>` 及其对应的 :ref:`Object._notification<class_Object_private_method__notification>` 或连接到 :ref:`draw<class_CanvasItem_signal_draw>` 的方法内使用。

画布项目在其画布层上是按树状顺序绘制的。默认情况下，子项目位于其父项目的上方，因此根 **CanvasItem** 将被画在所有项目的后面。这种行为可以针对每个画布项目进行更改。

\ **CanvasItem** 可以隐藏，隐藏时也会隐藏其子项目。通过调整 **CanvasItem** 的各种其它属性，你还可以调制它的颜色（通过 :ref:`modulate<class_CanvasItem_property_modulate>` 或 :ref:`self_modulate<class_CanvasItem_property_self_modulate>`\ ）、更改 Z 索引、混合模式等。

.. rst-class:: classref-introduction-group

教程
----

- :doc:`Viewport 和画布变换 <../tutorials/2d/2d_transforms>`

- :doc:`2D 中的自定义绘图 <../tutorials/2d/custom_drawing_in_2d>`

- `音频频谱演示 <https://godotengine.org/asset-library/asset/528>`__

.. rst-class:: classref-reftable-group

属性
----

.. table::
   :widths: auto

   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`ClipChildrenMode<enum_CanvasItem_ClipChildrenMode>` | :ref:`clip_children<class_CanvasItem_property_clip_children>`             | ``0``                 |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`int<class_int>`                                     | :ref:`light_mask<class_CanvasItem_property_light_mask>`                   | ``1``                 |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`Material<class_Material>`                           | :ref:`material<class_CanvasItem_property_material>`                       |                       |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`Color<class_Color>`                                 | :ref:`modulate<class_CanvasItem_property_modulate>`                       | ``Color(1, 1, 1, 1)`` |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`Color<class_Color>`                                 | :ref:`self_modulate<class_CanvasItem_property_self_modulate>`             | ``Color(1, 1, 1, 1)`` |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`bool<class_bool>`                                   | :ref:`show_behind_parent<class_CanvasItem_property_show_behind_parent>`   | ``false``             |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`TextureFilter<enum_CanvasItem_TextureFilter>`       | :ref:`texture_filter<class_CanvasItem_property_texture_filter>`           | ``0``                 |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>`       | :ref:`texture_repeat<class_CanvasItem_property_texture_repeat>`           | ``0``                 |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`bool<class_bool>`                                   | :ref:`top_level<class_CanvasItem_property_top_level>`                     | ``false``             |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`bool<class_bool>`                                   | :ref:`use_parent_material<class_CanvasItem_property_use_parent_material>` | ``false``             |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`int<class_int>`                                     | :ref:`visibility_layer<class_CanvasItem_property_visibility_layer>`       | ``1``                 |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`bool<class_bool>`                                   | :ref:`visible<class_CanvasItem_property_visible>`                         | ``true``              |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`bool<class_bool>`                                   | :ref:`y_sort_enabled<class_CanvasItem_property_y_sort_enabled>`           | ``false``             |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`bool<class_bool>`                                   | :ref:`z_as_relative<class_CanvasItem_property_z_as_relative>`             | ``true``              |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`int<class_int>`                                     | :ref:`z_index<class_CanvasItem_property_z_index>`                         | ``0``                 |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+

.. rst-class:: classref-reftable-group

方法
----

.. table::
   :widths: auto

   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`_draw<class_CanvasItem_private_method__draw>` **(** **)** |virtual|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_animation_slice<class_CanvasItem_method_draw_animation_slice>` **(** :ref:`float<class_float>` animation_length, :ref:`float<class_float>` slice_begin, :ref:`float<class_float>` slice_end, :ref:`float<class_float>` offset=0.0 **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_arc<class_CanvasItem_method_draw_arc>` **(** :ref:`Vector2<class_Vector2>` center, :ref:`float<class_float>` radius, :ref:`float<class_float>` start_angle, :ref:`float<class_float>` end_angle, :ref:`int<class_int>` point_count, :ref:`Color<class_Color>` color, :ref:`float<class_float>` width=-1.0, :ref:`bool<class_bool>` antialiased=false **)**                                                                                                                                                                                                                                                                                                                                                                                                                                    |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_char<class_CanvasItem_method_draw_char>` **(** :ref:`Font<class_Font>` font, :ref:`Vector2<class_Vector2>` pos, :ref:`String<class_String>` char, :ref:`int<class_int>` font_size=16, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1) **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_char_outline<class_CanvasItem_method_draw_char_outline>` **(** :ref:`Font<class_Font>` font, :ref:`Vector2<class_Vector2>` pos, :ref:`String<class_String>` char, :ref:`int<class_int>` font_size=16, :ref:`int<class_int>` size=-1, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1) **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_circle<class_CanvasItem_method_draw_circle>` **(** :ref:`Vector2<class_Vector2>` position, :ref:`float<class_float>` radius, :ref:`Color<class_Color>` color **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_colored_polygon<class_CanvasItem_method_draw_colored_polygon>` **(** :ref:`PackedVector2Array<class_PackedVector2Array>` points, :ref:`Color<class_Color>` color, :ref:`PackedVector2Array<class_PackedVector2Array>` uvs=PackedVector2Array(), :ref:`Texture2D<class_Texture2D>` texture=null **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_dashed_line<class_CanvasItem_method_draw_dashed_line>` **(** :ref:`Vector2<class_Vector2>` from, :ref:`Vector2<class_Vector2>` to, :ref:`Color<class_Color>` color, :ref:`float<class_float>` width=-1.0, :ref:`float<class_float>` dash=2.0, :ref:`bool<class_bool>` aligned=true **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_end_animation<class_CanvasItem_method_draw_end_animation>` **(** **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_lcd_texture_rect_region<class_CanvasItem_method_draw_lcd_texture_rect_region>` **(** :ref:`Texture2D<class_Texture2D>` texture, :ref:`Rect2<class_Rect2>` rect, :ref:`Rect2<class_Rect2>` src_rect, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1) **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_line<class_CanvasItem_method_draw_line>` **(** :ref:`Vector2<class_Vector2>` from, :ref:`Vector2<class_Vector2>` to, :ref:`Color<class_Color>` color, :ref:`float<class_float>` width=-1.0, :ref:`bool<class_bool>` antialiased=false **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_mesh<class_CanvasItem_method_draw_mesh>` **(** :ref:`Mesh<class_Mesh>` mesh, :ref:`Texture2D<class_Texture2D>` texture, :ref:`Transform2D<class_Transform2D>` transform=Transform2D(1, 0, 0, 1, 0, 0), :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1) **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_msdf_texture_rect_region<class_CanvasItem_method_draw_msdf_texture_rect_region>` **(** :ref:`Texture2D<class_Texture2D>` texture, :ref:`Rect2<class_Rect2>` rect, :ref:`Rect2<class_Rect2>` src_rect, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1), :ref:`float<class_float>` outline=0.0, :ref:`float<class_float>` pixel_range=4.0, :ref:`float<class_float>` scale=1.0 **)**                                                                                                                                                                                                                                                                                                                                                                                                       |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_multiline<class_CanvasItem_method_draw_multiline>` **(** :ref:`PackedVector2Array<class_PackedVector2Array>` points, :ref:`Color<class_Color>` color, :ref:`float<class_float>` width=-1.0 **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_multiline_colors<class_CanvasItem_method_draw_multiline_colors>` **(** :ref:`PackedVector2Array<class_PackedVector2Array>` points, :ref:`PackedColorArray<class_PackedColorArray>` colors, :ref:`float<class_float>` width=-1.0 **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_multiline_string<class_CanvasItem_method_draw_multiline_string>` **(** :ref:`Font<class_Font>` font, :ref:`Vector2<class_Vector2>` pos, :ref:`String<class_String>` text, :ref:`HorizontalAlignment<enum_@GlobalScope_HorizontalAlignment>` alignment=0, :ref:`float<class_float>` width=-1, :ref:`int<class_int>` font_size=16, :ref:`int<class_int>` max_lines=-1, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1), |bitfield|\<:ref:`LineBreakFlag<enum_TextServer_LineBreakFlag>`\> brk_flags=3, |bitfield|\<:ref:`JustificationFlag<enum_TextServer_JustificationFlag>`\> justification_flags=3, :ref:`Direction<enum_TextServer_Direction>` direction=0, :ref:`Orientation<enum_TextServer_Orientation>` orientation=0 **)** |const|                                               |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_multiline_string_outline<class_CanvasItem_method_draw_multiline_string_outline>` **(** :ref:`Font<class_Font>` font, :ref:`Vector2<class_Vector2>` pos, :ref:`String<class_String>` text, :ref:`HorizontalAlignment<enum_@GlobalScope_HorizontalAlignment>` alignment=0, :ref:`float<class_float>` width=-1, :ref:`int<class_int>` font_size=16, :ref:`int<class_int>` max_lines=-1, :ref:`int<class_int>` size=1, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1), |bitfield|\<:ref:`LineBreakFlag<enum_TextServer_LineBreakFlag>`\> brk_flags=3, |bitfield|\<:ref:`JustificationFlag<enum_TextServer_JustificationFlag>`\> justification_flags=3, :ref:`Direction<enum_TextServer_Direction>` direction=0, :ref:`Orientation<enum_TextServer_Orientation>` orientation=0 **)** |const| |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_multimesh<class_CanvasItem_method_draw_multimesh>` **(** :ref:`MultiMesh<class_MultiMesh>` multimesh, :ref:`Texture2D<class_Texture2D>` texture **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_polygon<class_CanvasItem_method_draw_polygon>` **(** :ref:`PackedVector2Array<class_PackedVector2Array>` points, :ref:`PackedColorArray<class_PackedColorArray>` colors, :ref:`PackedVector2Array<class_PackedVector2Array>` uvs=PackedVector2Array(), :ref:`Texture2D<class_Texture2D>` texture=null **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_polyline<class_CanvasItem_method_draw_polyline>` **(** :ref:`PackedVector2Array<class_PackedVector2Array>` points, :ref:`Color<class_Color>` color, :ref:`float<class_float>` width=-1.0, :ref:`bool<class_bool>` antialiased=false **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_polyline_colors<class_CanvasItem_method_draw_polyline_colors>` **(** :ref:`PackedVector2Array<class_PackedVector2Array>` points, :ref:`PackedColorArray<class_PackedColorArray>` colors, :ref:`float<class_float>` width=-1.0, :ref:`bool<class_bool>` antialiased=false **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_primitive<class_CanvasItem_method_draw_primitive>` **(** :ref:`PackedVector2Array<class_PackedVector2Array>` points, :ref:`PackedColorArray<class_PackedColorArray>` colors, :ref:`PackedVector2Array<class_PackedVector2Array>` uvs, :ref:`Texture2D<class_Texture2D>` texture=null **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_rect<class_CanvasItem_method_draw_rect>` **(** :ref:`Rect2<class_Rect2>` rect, :ref:`Color<class_Color>` color, :ref:`bool<class_bool>` filled=true, :ref:`float<class_float>` width=-1.0 **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_set_transform<class_CanvasItem_method_draw_set_transform>` **(** :ref:`Vector2<class_Vector2>` position, :ref:`float<class_float>` rotation=0.0, :ref:`Vector2<class_Vector2>` scale=Vector2(1, 1) **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_set_transform_matrix<class_CanvasItem_method_draw_set_transform_matrix>` **(** :ref:`Transform2D<class_Transform2D>` xform **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_string<class_CanvasItem_method_draw_string>` **(** :ref:`Font<class_Font>` font, :ref:`Vector2<class_Vector2>` pos, :ref:`String<class_String>` text, :ref:`HorizontalAlignment<enum_@GlobalScope_HorizontalAlignment>` alignment=0, :ref:`float<class_float>` width=-1, :ref:`int<class_int>` font_size=16, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1), |bitfield|\<:ref:`JustificationFlag<enum_TextServer_JustificationFlag>`\> justification_flags=3, :ref:`Direction<enum_TextServer_Direction>` direction=0, :ref:`Orientation<enum_TextServer_Orientation>` orientation=0 **)** |const|                                                                                                                                                                                      |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_string_outline<class_CanvasItem_method_draw_string_outline>` **(** :ref:`Font<class_Font>` font, :ref:`Vector2<class_Vector2>` pos, :ref:`String<class_String>` text, :ref:`HorizontalAlignment<enum_@GlobalScope_HorizontalAlignment>` alignment=0, :ref:`float<class_float>` width=-1, :ref:`int<class_int>` font_size=16, :ref:`int<class_int>` size=1, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1), |bitfield|\<:ref:`JustificationFlag<enum_TextServer_JustificationFlag>`\> justification_flags=3, :ref:`Direction<enum_TextServer_Direction>` direction=0, :ref:`Orientation<enum_TextServer_Orientation>` orientation=0 **)** |const|                                                                                                                                        |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_style_box<class_CanvasItem_method_draw_style_box>` **(** :ref:`StyleBox<class_StyleBox>` style_box, :ref:`Rect2<class_Rect2>` rect **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_texture<class_CanvasItem_method_draw_texture>` **(** :ref:`Texture2D<class_Texture2D>` texture, :ref:`Vector2<class_Vector2>` position, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1) **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_texture_rect<class_CanvasItem_method_draw_texture_rect>` **(** :ref:`Texture2D<class_Texture2D>` texture, :ref:`Rect2<class_Rect2>` rect, :ref:`bool<class_bool>` tile, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1), :ref:`bool<class_bool>` transpose=false **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`draw_texture_rect_region<class_CanvasItem_method_draw_texture_rect_region>` **(** :ref:`Texture2D<class_Texture2D>` texture, :ref:`Rect2<class_Rect2>` rect, :ref:`Rect2<class_Rect2>` src_rect, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1), :ref:`bool<class_bool>` transpose=false, :ref:`bool<class_bool>` clip_uv=true **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`force_update_transform<class_CanvasItem_method_force_update_transform>` **(** **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`RID<class_RID>`                 | :ref:`get_canvas<class_CanvasItem_method_get_canvas>` **(** **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`RID<class_RID>`                 | :ref:`get_canvas_item<class_CanvasItem_method_get_canvas_item>` **(** **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Transform2D<class_Transform2D>` | :ref:`get_canvas_transform<class_CanvasItem_method_get_canvas_transform>` **(** **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2<class_Vector2>`         | :ref:`get_global_mouse_position<class_CanvasItem_method_get_global_mouse_position>` **(** **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Transform2D<class_Transform2D>` | :ref:`get_global_transform<class_CanvasItem_method_get_global_transform>` **(** **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Transform2D<class_Transform2D>` | :ref:`get_global_transform_with_canvas<class_CanvasItem_method_get_global_transform_with_canvas>` **(** **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2<class_Vector2>`         | :ref:`get_local_mouse_position<class_CanvasItem_method_get_local_mouse_position>` **(** **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Transform2D<class_Transform2D>` | :ref:`get_screen_transform<class_CanvasItem_method_get_screen_transform>` **(** **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Transform2D<class_Transform2D>` | :ref:`get_transform<class_CanvasItem_method_get_transform>` **(** **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Rect2<class_Rect2>`             | :ref:`get_viewport_rect<class_CanvasItem_method_get_viewport_rect>` **(** **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Transform2D<class_Transform2D>` | :ref:`get_viewport_transform<class_CanvasItem_method_get_viewport_transform>` **(** **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`               | :ref:`get_visibility_layer_bit<class_CanvasItem_method_get_visibility_layer_bit>` **(** :ref:`int<class_int>` layer **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`World2D<class_World2D>`         | :ref:`get_world_2d<class_CanvasItem_method_get_world_2d>` **(** **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`hide<class_CanvasItem_method_hide>` **(** **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`               | :ref:`is_local_transform_notification_enabled<class_CanvasItem_method_is_local_transform_notification_enabled>` **(** **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`               | :ref:`is_transform_notification_enabled<class_CanvasItem_method_is_transform_notification_enabled>` **(** **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`               | :ref:`is_visible_in_tree<class_CanvasItem_method_is_visible_in_tree>` **(** **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2<class_Vector2>`         | :ref:`make_canvas_position_local<class_CanvasItem_method_make_canvas_position_local>` **(** :ref:`Vector2<class_Vector2>` screen_point **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`InputEvent<class_InputEvent>`   | :ref:`make_input_local<class_CanvasItem_method_make_input_local>` **(** :ref:`InputEvent<class_InputEvent>` event **)** |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`move_to_front<class_CanvasItem_method_move_to_front>` **(** **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`queue_redraw<class_CanvasItem_method_queue_redraw>` **(** **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`set_notify_local_transform<class_CanvasItem_method_set_notify_local_transform>` **(** :ref:`bool<class_bool>` enable **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`set_notify_transform<class_CanvasItem_method_set_notify_transform>` **(** :ref:`bool<class_bool>` enable **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`set_visibility_layer_bit<class_CanvasItem_method_set_visibility_layer_bit>` **(** :ref:`int<class_int>` layer, :ref:`bool<class_bool>` enabled **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | void                                  | :ref:`show<class_CanvasItem_method_show>` **(** **)**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
   +---------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

信号
----

.. _class_CanvasItem_signal_draw:

.. rst-class:: classref-signal

**draw** **(** **)**

当该 **CanvasItem** 必须重绘时发出，发生在相关的 :ref:`NOTIFICATION_DRAW<class_CanvasItem_constant_NOTIFICATION_DRAW>` 通知\ *之后*\ ，调用 :ref:`_draw<class_CanvasItem_private_method__draw>` *之前*\ 。

\ **注意：**\ 延迟连接无法使用 ``draw_*`` 方法进行绘制。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_signal_hidden:

.. rst-class:: classref-signal

**hidden** **(** **)**

当隐藏时发出。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_signal_item_rect_changed:

.. rst-class:: classref-signal

**item_rect_changed** **(** **)**

当 CanvasItem 的 :ref:`Rect2<class_Rect2>` 边界（位置或大小）发生变化时，或者当发生可能影响这些边界的操作（例如，更改 :ref:`Sprite2D.texture<class_Sprite2D_property_texture>`\ ）时发出。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_signal_visibility_changed:

.. rst-class:: classref-signal

**visibility_changed** **(** **)**

当可见性（隐藏/可见）更改时发出。

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

枚举
----

.. _enum_CanvasItem_TextureFilter:

.. rst-class:: classref-enumeration

enum **TextureFilter**:

.. _class_CanvasItem_constant_TEXTURE_FILTER_PARENT_NODE:

.. rst-class:: classref-enumeration-constant

:ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **TEXTURE_FILTER_PARENT_NODE** = ``0``

该 **CanvasItem** 将从其父级继承过滤器。

.. _class_CanvasItem_constant_TEXTURE_FILTER_NEAREST:

.. rst-class:: classref-enumeration-constant

:ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **TEXTURE_FILTER_NEAREST** = ``1``

纹理过滤仅从最近的像素读取。这使得纹理从近距离看是像素化的，从远处看是颗粒状的（由于多级渐远纹理没有被采样）。

.. _class_CanvasItem_constant_TEXTURE_FILTER_LINEAR:

.. rst-class:: classref-enumeration-constant

:ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **TEXTURE_FILTER_LINEAR** = ``2``

纹理过滤在最近的 4 个像素之间进行混合。这使得纹理从近处看起来很平滑，从远处看起来却有颗粒感（由于多级渐远纹理没有被采样）。

.. _class_CanvasItem_constant_TEXTURE_FILTER_NEAREST_WITH_MIPMAPS:

.. rst-class:: classref-enumeration-constant

:ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **TEXTURE_FILTER_NEAREST_WITH_MIPMAPS** = ``3``

纹理过滤从最近的像素读取并在最近的 2 个多级渐远纹理之间进行混合（或者如果 :ref:`ProjectSettings.rendering/textures/default_filters/use_nearest_mipmap_filter<class_ProjectSettings_property_rendering/textures/default_filters/use_nearest_mipmap_filter>` 为 ``true``\ ，则使用最近的多级渐远纹理）。这使得纹理从近处看起来像素化，从远处看起来平滑。

将此用于可能以低缩放查看的非像素艺术纹理（例如，由于 :ref:`Camera2D<class_Camera2D>` 缩放或精灵缩放），因为多级渐远纹理对于平滑小于屏幕像素的像素很重要。

.. _class_CanvasItem_constant_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS:

.. rst-class:: classref-enumeration-constant

:ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **TEXTURE_FILTER_LINEAR_WITH_MIPMAPS** = ``4``

纹理过滤在最近的 4 个像素和最近的 2 个多级渐远纹理之间进行混合（或者如果 :ref:`ProjectSettings.rendering/textures/default_filters/use_nearest_mipmap_filter<class_ProjectSettings_property_rendering/textures/default_filters/use_nearest_mipmap_filter>` 为 ``true``\ ，则使用最近的多级渐远纹理）。这使得纹理从近处看起来平滑，从远处看起来也平滑。

将此用于可能以低缩放查看的非像素艺术纹理（例如，由于 :ref:`Camera2D<class_Camera2D>` 缩放或精灵缩放），因为多级渐远纹理对于平滑小于屏幕像素的像素很重要。

.. _class_CanvasItem_constant_TEXTURE_FILTER_NEAREST_WITH_MIPMAPS_ANISOTROPIC:

.. rst-class:: classref-enumeration-constant

:ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **TEXTURE_FILTER_NEAREST_WITH_MIPMAPS_ANISOTROPIC** = ``5``

纹理过滤从最近的像素读取并根据表面和相机视图之间的角度在 2 个多级渐远纹理之间进行混合（或者如果 :ref:`ProjectSettings.rendering/textures/default_filters/use_nearest_mipmap_filter<class_ProjectSettings_property_rendering/textures/default_filters/use_nearest_mipmap_filter>` 为 ``true``\ ，则使用最近的多级渐远纹理）。这使得纹理从近处看起来像素化，从远处看起来平滑。各向异性过滤提高了几乎与相机位于一条线的表面上的纹理质量，但速度稍慢。各向异性过滤级别可以通过调整 :ref:`ProjectSettings.rendering/textures/default_filters/anisotropic_filtering_level<class_ProjectSettings_property_rendering/textures/default_filters/anisotropic_filtering_level>` 来改变。

\ **注意：**\ 该纹理过滤在 2D 项目中很少有用。\ :ref:`TEXTURE_FILTER_NEAREST_WITH_MIPMAPS<class_CanvasItem_constant_TEXTURE_FILTER_NEAREST_WITH_MIPMAPS>` 在这种情况下通常更合适。

.. _class_CanvasItem_constant_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS_ANISOTROPIC:

.. rst-class:: classref-enumeration-constant

:ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **TEXTURE_FILTER_LINEAR_WITH_MIPMAPS_ANISOTROPIC** = ``6``

纹理过滤在最近的 4 个像素之间进行混合，并基于表面与相机视图之间的角度在 2 个多级渐远纹理之间进行混合（或者如果 :ref:`ProjectSettings.rendering/textures/default_filters/use_nearest_mipmap_filter<class_ProjectSettings_property_rendering/textures/default_filters/use_nearest_mipmap_filter>` 为 ``true``\ ，则使用最近的多级渐远纹理）。这使得纹理从近处看起来平滑，从远处看起来也平滑。各向异性过滤提高了几乎与相机位于一条线的表面上的纹理质量，但速度稍慢。各向异性过滤级别可以通过调整 :ref:`ProjectSettings.rendering/textures/default_filters/anisotropic_filtering_level<class_ProjectSettings_property_rendering/textures/default_filters/anisotropic_filtering_level>` 来改变。

\ **注意：**\ 该纹理过滤在 2D 项目中很少有用。\ :ref:`TEXTURE_FILTER_LINEAR_WITH_MIPMAPS<class_CanvasItem_constant_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS>` 在这种情况下通常更合适。

.. _class_CanvasItem_constant_TEXTURE_FILTER_MAX:

.. rst-class:: classref-enumeration-constant

:ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **TEXTURE_FILTER_MAX** = ``7``

代表 :ref:`TextureFilter<enum_CanvasItem_TextureFilter>` 枚举的大小。

.. rst-class:: classref-item-separator

----

.. _enum_CanvasItem_TextureRepeat:

.. rst-class:: classref-enumeration

enum **TextureRepeat**:

.. _class_CanvasItem_constant_TEXTURE_REPEAT_PARENT_NODE:

.. rst-class:: classref-enumeration-constant

:ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>` **TEXTURE_REPEAT_PARENT_NODE** = ``0``

该 **CanvasItem** 将从其父级继承过滤器。

.. _class_CanvasItem_constant_TEXTURE_REPEAT_DISABLED:

.. rst-class:: classref-enumeration-constant

:ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>` **TEXTURE_REPEAT_DISABLED** = ``1``

纹理不会重复。

.. _class_CanvasItem_constant_TEXTURE_REPEAT_ENABLED:

.. rst-class:: classref-enumeration-constant

:ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>` **TEXTURE_REPEAT_ENABLED** = ``2``

纹理将正常重复。

.. _class_CanvasItem_constant_TEXTURE_REPEAT_MIRROR:

.. rst-class:: classref-enumeration-constant

:ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>` **TEXTURE_REPEAT_MIRROR** = ``3``

纹理将以 2x2 平铺模式重复，其中偶数位置的元素会被镜像。

.. _class_CanvasItem_constant_TEXTURE_REPEAT_MAX:

.. rst-class:: classref-enumeration-constant

:ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>` **TEXTURE_REPEAT_MAX** = ``4``

代表 :ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>` 枚举的大小。

.. rst-class:: classref-item-separator

----

.. _enum_CanvasItem_ClipChildrenMode:

.. rst-class:: classref-enumeration

enum **ClipChildrenMode**:

.. _class_CanvasItem_constant_CLIP_CHILDREN_DISABLED:

.. rst-class:: classref-enumeration-constant

:ref:`ClipChildrenMode<enum_CanvasItem_ClipChildrenMode>` **CLIP_CHILDREN_DISABLED** = ``0``

子级绘制在父级之上，不会被裁剪。

.. _class_CanvasItem_constant_CLIP_CHILDREN_ONLY:

.. rst-class:: classref-enumeration-constant

:ref:`ClipChildrenMode<enum_CanvasItem_ClipChildrenMode>` **CLIP_CHILDREN_ONLY** = ``1``

父级仅用于裁剪目的。子级被裁剪到父级的可见区域，不绘制父级。

.. _class_CanvasItem_constant_CLIP_CHILDREN_AND_DRAW:

.. rst-class:: classref-enumeration-constant

:ref:`ClipChildrenMode<enum_CanvasItem_ClipChildrenMode>` **CLIP_CHILDREN_AND_DRAW** = ``2``

父级用于裁剪子级，但在将子级剪裁到其可见区域之前，父级也像往常一样绘制在子级下方。

.. _class_CanvasItem_constant_CLIP_CHILDREN_MAX:

.. rst-class:: classref-enumeration-constant

:ref:`ClipChildrenMode<enum_CanvasItem_ClipChildrenMode>` **CLIP_CHILDREN_MAX** = ``3``

代表 :ref:`ClipChildrenMode<enum_CanvasItem_ClipChildrenMode>` 枚举的大小。

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

常量
----

.. _class_CanvasItem_constant_NOTIFICATION_TRANSFORM_CHANGED:

.. rst-class:: classref-constant

**NOTIFICATION_TRANSFORM_CHANGED** = ``2000``

该 **CanvasItem** 的全局变换已更改。只有在通过 :ref:`set_notify_transform<class_CanvasItem_method_set_notify_transform>` 启用时，才会收到这个通知。

.. _class_CanvasItem_constant_NOTIFICATION_LOCAL_TRANSFORM_CHANGED:

.. rst-class:: classref-constant

**NOTIFICATION_LOCAL_TRANSFORM_CHANGED** = ``35``

该 **CanvasItem** 的局部变换已更改。只有在通过 :ref:`set_notify_local_transform<class_CanvasItem_method_set_notify_local_transform>` 启用时，才会收到这个通知。

.. _class_CanvasItem_constant_NOTIFICATION_DRAW:

.. rst-class:: classref-constant

**NOTIFICATION_DRAW** = ``30``

要求绘制该 **CanvasItem**\ （见 :ref:`_draw<class_CanvasItem_private_method__draw>`\ ）。

.. _class_CanvasItem_constant_NOTIFICATION_VISIBILITY_CHANGED:

.. rst-class:: classref-constant

**NOTIFICATION_VISIBILITY_CHANGED** = ``31``

该 **CanvasItem** 的可见性已更改。

.. _class_CanvasItem_constant_NOTIFICATION_ENTER_CANVAS:

.. rst-class:: classref-constant

**NOTIFICATION_ENTER_CANVAS** = ``32``

该 **CanvasItem** 已进入画布。

.. _class_CanvasItem_constant_NOTIFICATION_EXIT_CANVAS:

.. rst-class:: classref-constant

**NOTIFICATION_EXIT_CANVAS** = ``33``

该 **CanvasItem** 已退出画布。

.. _class_CanvasItem_constant_NOTIFICATION_WORLD_2D_CHANGED:

.. rst-class:: classref-constant

**NOTIFICATION_WORLD_2D_CHANGED** = ``36``

该 **CanvasItem** 的活动 :ref:`World2D<class_World2D>` 已更改。

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

属性说明
--------

.. _class_CanvasItem_property_clip_children:

.. rst-class:: classref-property

:ref:`ClipChildrenMode<enum_CanvasItem_ClipChildrenMode>` **clip_children** = ``0``

.. rst-class:: classref-property-setget

- void **set_clip_children_mode** **(** :ref:`ClipChildrenMode<enum_CanvasItem_ClipChildrenMode>` value **)**
- :ref:`ClipChildrenMode<enum_CanvasItem_ClipChildrenMode>` **get_clip_children_mode** **(** **)**

允许当前节点裁剪子节点，本质上是充当遮罩。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_light_mask:

.. rst-class:: classref-property

:ref:`int<class_int>` **light_mask** = ``1``

.. rst-class:: classref-property-setget

- void **set_light_mask** **(** :ref:`int<class_int>` value **)**
- :ref:`int<class_int>` **get_light_mask** **(** **)**

该 **CanvasItem** 的渲染层，用于响应 :ref:`Light2D<class_Light2D>` 节点。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_material:

.. rst-class:: classref-property

:ref:`Material<class_Material>` **material**

.. rst-class:: classref-property-setget

- void **set_material** **(** :ref:`Material<class_Material>` value **)**
- :ref:`Material<class_Material>` **get_material** **(** **)**

应用于这个 **CanvasItem** 的材质。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_modulate:

.. rst-class:: classref-property

:ref:`Color<class_Color>` **modulate** = ``Color(1, 1, 1, 1)``

.. rst-class:: classref-property-setget

- void **set_modulate** **(** :ref:`Color<class_Color>` value **)**
- :ref:`Color<class_Color>` **get_modulate** **(** **)**

应用于这个 **CanvasItem** 的颜色。这个属性会影响子级 **CanvasItem**\ ，与只会影响节点自身的 :ref:`self_modulate<class_CanvasItem_property_self_modulate>` 不同。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_self_modulate:

.. rst-class:: classref-property

:ref:`Color<class_Color>` **self_modulate** = ``Color(1, 1, 1, 1)``

.. rst-class:: classref-property-setget

- void **set_self_modulate** **(** :ref:`Color<class_Color>` value **)**
- :ref:`Color<class_Color>` **get_self_modulate** **(** **)**

应用于这个 **CanvasItem** 的颜色。这个属性\ **不会**\ 影响子级 **CanvasItem**\ ，与会同时影响节点自身和子级的 :ref:`modulate<class_CanvasItem_property_modulate>` 不同。

\ **注意：**\ 内部子节点（例如 :ref:`ColorPicker<class_ColorPicker>` 中的滑动条、\ :ref:`TabContainer<class_TabContainer>` 中的选项卡栏）也不受这个属性的影响（见 :ref:`Node.get_child<class_Node_method_get_child>` 等类似方法的 ``include_internal`` 参数）。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_show_behind_parent:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **show_behind_parent** = ``false``

.. rst-class:: classref-property-setget

- void **set_draw_behind_parent** **(** :ref:`bool<class_bool>` value **)**
- :ref:`bool<class_bool>` **is_draw_behind_parent_enabled** **(** **)**

如果为 ``true``\ ，则对象在其父对象后面绘制。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_texture_filter:

.. rst-class:: classref-property

:ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **texture_filter** = ``0``

.. rst-class:: classref-property-setget

- void **set_texture_filter** **(** :ref:`TextureFilter<enum_CanvasItem_TextureFilter>` value **)**
- :ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **get_texture_filter** **(** **)**

在该 **CanvasItem** 上使用的纹理过滤模式。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_texture_repeat:

.. rst-class:: classref-property

:ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>` **texture_repeat** = ``0``

.. rst-class:: classref-property-setget

- void **set_texture_repeat** **(** :ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>` value **)**
- :ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>` **get_texture_repeat** **(** **)**

在该 **CanvasItem** 上使用的纹理重复模式。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_top_level:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **top_level** = ``false``

.. rst-class:: classref-property-setget

- void **set_as_top_level** **(** :ref:`bool<class_bool>` value **)**
- :ref:`bool<class_bool>` **is_set_as_top_level** **(** **)**

如果为 ``true``\ ，则该 **CanvasItem** *不会*\ 继承父级 **CanvasItem** 的变换。它的绘制顺序也会发生改变，会在其他没有将 :ref:`top_level<class_CanvasItem_property_top_level>` 设置为 ``true`` 的 **CanvasItem** 之上绘制。效果和把该 **CanvasItem** 作为裸 :ref:`Node<class_Node>` 的子级一样。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_use_parent_material:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **use_parent_material** = ``false``

.. rst-class:: classref-property-setget

- void **set_use_parent_material** **(** :ref:`bool<class_bool>` value **)**
- :ref:`bool<class_bool>` **get_use_parent_material** **(** **)**

如果为 ``true``\ ，则将父级 **CanvasItem** 的 :ref:`material<class_CanvasItem_property_material>` 属性用作此项的材质。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_visibility_layer:

.. rst-class:: classref-property

:ref:`int<class_int>` **visibility_layer** = ``1``

.. rst-class:: classref-property-setget

- void **set_visibility_layer** **(** :ref:`int<class_int>` value **)**
- :ref:`int<class_int>` **get_visibility_layer** **(** **)**

:ref:`Viewport<class_Viewport>` 节点渲染该 **CanvasItem** 时所使用的渲染层。只有 **CanvasItem** 及其所有父级均与 :ref:`Viewport<class_Viewport>` 的画布剔除遮罩有交集，该 :ref:`Viewport<class_Viewport>` 才会渲染此 **CanvasItem**\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_visible:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **visible** = ``true``

.. rst-class:: classref-property-setget

- void **set_visible** **(** :ref:`bool<class_bool>` value **)**
- :ref:`bool<class_bool>` **is_visible** **(** **)**

如果为 ``true``\ ，这个 **CanvasItem** 被绘制。只有当它的所有父节点也可见时，该节点才是可见的（换句话说，\ :ref:`is_visible_in_tree<class_CanvasItem_method_is_visible_in_tree>` 必须返回 ``true``\ ）。

\ **注意：**\ 对于继承了 :ref:`Popup<class_Popup>` 的控件，使其可见的正确方法是调用多个 ``popup*()`` 函数之一。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_y_sort_enabled:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **y_sort_enabled** = ``false``

.. rst-class:: classref-property-setget

- void **set_y_sort_enabled** **(** :ref:`bool<class_bool>` value **)**
- :ref:`bool<class_bool>` **is_y_sort_enabled** **(** **)**

如果为 ``true``\ ，则会在绘制 Y 位置最低的子节点之后再绘制 Y 位置较高的子节点。如果为 ``false``\ ，则禁用 Y 排序。Y 排序仅影响继承自 **CanvasItem** 的子节点。

可以将 Y 排序的节点进行嵌套。子级 Y 排序的节点，会与父级在同一空间中进行 Y 排序。此功能可以让你在不更改场景树的情况下，更好地组织场景，或者将场景分为多个场景。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_z_as_relative:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **z_as_relative** = ``true``

.. rst-class:: classref-property-setget

- void **set_z_as_relative** **(** :ref:`bool<class_bool>` value **)**
- :ref:`bool<class_bool>` **is_z_relative** **(** **)**

如果为 ``true``\ ，节点的 Z 索引是相对于它的父节点的 Z 索引而言的。如果这个节点的 Z 索引是 2，它的父节点的实际 Z 索引是 3，那么这个节点的实际 Z 索引将是 2 + 3 = 5。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_z_index:

.. rst-class:: classref-property

:ref:`int<class_int>` **z_index** = ``0``

.. rst-class:: classref-property-setget

- void **set_z_index** **(** :ref:`int<class_int>` value **)**
- :ref:`int<class_int>` **get_z_index** **(** **)**

Z 索引。控制节点的渲染顺序。具有较高 Z 索引的节点将显示在其他节点的前面。必须在 :ref:`RenderingServer.CANVAS_ITEM_Z_MIN<class_RenderingServer_constant_CANVAS_ITEM_Z_MIN>` 和 :ref:`RenderingServer.CANVAS_ITEM_Z_MAX<class_RenderingServer_constant_CANVAS_ITEM_Z_MAX>`\ 之间（包含）。

\ **注意：**\ 改变 :ref:`Control<class_Control>` 的 Z 索引只影响绘图顺序，不影响处理输入事件的顺序。可用于实现某些 UI 动画，例如对处于悬停状态的菜单项进行缩放，此时会与其他内容重叠。

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

方法说明
--------

.. _class_CanvasItem_private_method__draw:

.. rst-class:: classref-method

void **_draw** **(** **)** |virtual|

当 **CanvasItem** 被请求重绘时调用（手动调用或者引擎调用 :ref:`queue_redraw<class_CanvasItem_method_queue_redraw>` 之后）。

对应于 :ref:`Object._notification<class_Object_private_method__notification>` 中的 :ref:`NOTIFICATION_DRAW<class_CanvasItem_constant_NOTIFICATION_DRAW>` 通知。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_animation_slice:

.. rst-class:: classref-method

void **draw_animation_slice** **(** :ref:`float<class_float>` animation_length, :ref:`float<class_float>` slice_begin, :ref:`float<class_float>` slice_end, :ref:`float<class_float>` offset=0.0 **)**

后续的绘制命令将被忽略，除非它们位于指定的动画切片内。这是实现在背景上循环而不是不断重绘的动画的更快方法。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_arc:

.. rst-class:: classref-method

void **draw_arc** **(** :ref:`Vector2<class_Vector2>` center, :ref:`float<class_float>` radius, :ref:`float<class_float>` start_angle, :ref:`float<class_float>` end_angle, :ref:`int<class_int>` point_count, :ref:`Color<class_Color>` color, :ref:`float<class_float>` width=-1.0, :ref:`bool<class_bool>` antialiased=false **)**

使用一个 uniform ``color`` 和 ``width`` 以及可选的抗锯齿（仅支持正 ``width`` ），在给定的角度之间绘制一条未填充的弧线。\ ``point_count`` 的值越大，该曲线越平滑。另见 :ref:`draw_circle<class_CanvasItem_method_draw_circle>`\ 。

如果 ``width`` 为负，则它将被忽略，并使用 :ref:`RenderingServer.PRIMITIVE_LINE_STRIP<class_RenderingServer_constant_PRIMITIVE_LINE_STRIP>` 绘制该弧线。这意味着当缩放 CanvasItem 时，弧线将保持细长。如果不需要此行为，请传递一个正的 ``width``\ ，如 ``1.0``\ 。

如果 ``start_angle < end_angle`` ，则圆弧是从 ``start_angle`` 朝向 ``end_angle`` 的值绘制的，即是顺时针方向；否则为逆时针方向。以相反的顺序传递相同的角度，将产生相同的弧线。如果 ``start_angle`` 和 ``end_angle`` 的差的绝对值大于 :ref:`@GDScript.TAU<class_@GDScript_constant_TAU>` 弧度，则绘制一个完整的圆弧（即弧线不会与自身重叠）。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_char:

.. rst-class:: classref-method

void **draw_char** **(** :ref:`Font<class_Font>` font, :ref:`Vector2<class_Vector2>` pos, :ref:`String<class_String>` char, :ref:`int<class_int>` font_size=16, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1) **)** |const|

使用自定义字体绘制字符串的第一个字符。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_char_outline:

.. rst-class:: classref-method

void **draw_char_outline** **(** :ref:`Font<class_Font>` font, :ref:`Vector2<class_Vector2>` pos, :ref:`String<class_String>` char, :ref:`int<class_int>` font_size=16, :ref:`int<class_int>` size=-1, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1) **)** |const|

使用自定义字体绘制字符串中第一个字符的轮廓。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_circle:

.. rst-class:: classref-method

void **draw_circle** **(** :ref:`Vector2<class_Vector2>` position, :ref:`float<class_float>` radius, :ref:`Color<class_Color>` color **)**

绘制彩色的实心圆。另见 :ref:`draw_arc<class_CanvasItem_method_draw_arc>`\ 、\ :ref:`draw_polyline<class_CanvasItem_method_draw_polyline>` 和 :ref:`draw_polygon<class_CanvasItem_method_draw_polygon>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_colored_polygon:

.. rst-class:: classref-method

void **draw_colored_polygon** **(** :ref:`PackedVector2Array<class_PackedVector2Array>` points, :ref:`Color<class_Color>` color, :ref:`PackedVector2Array<class_PackedVector2Array>` uvs=PackedVector2Array(), :ref:`Texture2D<class_Texture2D>` texture=null **)**

绘制一个由任意数量的点组成的彩色多边形，凸形或凹形。与 :ref:`draw_polygon<class_CanvasItem_method_draw_polygon>` 不同，必须为整个多边形指定一个单一颜色。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_dashed_line:

.. rst-class:: classref-method

void **draw_dashed_line** **(** :ref:`Vector2<class_Vector2>` from, :ref:`Vector2<class_Vector2>` to, :ref:`Color<class_Color>` color, :ref:`float<class_float>` width=-1.0, :ref:`float<class_float>` dash=2.0, :ref:`bool<class_bool>` aligned=true **)**

使用给定的颜色和宽度，从一个 2D 点到另一个点绘制一条虚线。另见 :ref:`draw_multiline<class_CanvasItem_method_draw_multiline>` 和 :ref:`draw_polyline<class_CanvasItem_method_draw_polyline>`\ 。

如果 ``width`` 为负，则将绘制一个两点图元而不是一个四点图元。这意味着当缩放 CanvasItem 时，线条部分将保持细长。如果不需要此行为，请传递一个正的 ``width``\ ，如 ``1.0``\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_end_animation:

.. rst-class:: classref-method

void **draw_end_animation** **(** **)**

通过 :ref:`draw_animation_slice<class_CanvasItem_method_draw_animation_slice>` 提交所有动画切片后，该函数可以被用来将绘制恢复到其默认状态（所有后续绘制命令都将可见）。如果不关心这个特定用例，则不需要在提交切片后使用该函数。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_lcd_texture_rect_region:

.. rst-class:: classref-method

void **draw_lcd_texture_rect_region** **(** :ref:`Texture2D<class_Texture2D>` texture, :ref:`Rect2<class_Rect2>` rect, :ref:`Rect2<class_Rect2>` src_rect, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1) **)**

在给定的位置绘制一个带有 LCD 子像素抗锯齿的字体纹理的矩形区域，可以选择用一种颜色来调制。

纹理是通过以下混合操作绘制的，\ :ref:`CanvasItemMaterial<class_CanvasItemMaterial>` 的混合模式被忽略：

::

    dst.r = texture.r * modulate.r * modulate.a + dst.r * (1.0 - texture.r * modulate.a);
    dst.g = texture.g * modulate.g * modulate.a + dst.g * (1.0 - texture.g * modulate.a);
    dst.b = texture.b * modulate.b * modulate.a + dst.b * (1.0 - texture.b * modulate.a);
    dst.a = modulate.a + dst.a * (1.0 - modulate.a);

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_line:

.. rst-class:: classref-method

void **draw_line** **(** :ref:`Vector2<class_Vector2>` from, :ref:`Vector2<class_Vector2>` to, :ref:`Color<class_Color>` color, :ref:`float<class_float>` width=-1.0, :ref:`bool<class_bool>` antialiased=false **)**

使用给定的颜色和宽度，从一个 2D 点到另一个点绘制一条直线。它可以选择抗锯齿。另请参阅 :ref:`draw_multiline<class_CanvasItem_method_draw_multiline>` 和 :ref:`draw_polyline<class_CanvasItem_method_draw_polyline>`\ 。

如果 ``width`` 为负，则将绘制一个两点图元而不是一个四点图元。这意味着当缩放 CanvasItem 时，线条将保持细长。如果不需要此行为，请传递一个正的 ``width``\ ，如 ``1.0``\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_mesh:

.. rst-class:: classref-method

void **draw_mesh** **(** :ref:`Mesh<class_Mesh>` mesh, :ref:`Texture2D<class_Texture2D>` texture, :ref:`Transform2D<class_Transform2D>` transform=Transform2D(1, 0, 0, 1, 0, 0), :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1) **)**

使用所提供的纹理以 2D 方式绘制一个 :ref:`Mesh<class_Mesh>`\ 。相关文档请参阅 :ref:`MeshInstance2D<class_MeshInstance2D>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_msdf_texture_rect_region:

.. rst-class:: classref-method

void **draw_msdf_texture_rect_region** **(** :ref:`Texture2D<class_Texture2D>` texture, :ref:`Rect2<class_Rect2>` rect, :ref:`Rect2<class_Rect2>` src_rect, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1), :ref:`float<class_float>` outline=0.0, :ref:`float<class_float>` pixel_range=4.0, :ref:`float<class_float>` scale=1.0 **)**

在给定位置，绘制一条多通道有符号距离场纹理的纹理矩形区域，可以选择用一种颜色来调制。有关 MSDF 字体渲染的更多信息和注意事项，请参阅 :ref:`FontFile.multichannel_signed_distance_field<class_FontFile_property_multichannel_signed_distance_field>`\ 。

如果 ``outline`` 为正，则区域中像素的每个 Alpha 通道值都被设置为 ``outline`` 半径内真实距离的最大值。

\ ``pixel_range`` 的值应该与距离场纹理生成期间使用的值相同。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_multiline:

.. rst-class:: classref-method

void **draw_multiline** **(** :ref:`PackedVector2Array<class_PackedVector2Array>` points, :ref:`Color<class_Color>` color, :ref:`float<class_float>` width=-1.0 **)**

使用一致的宽度 ``width`` 和颜色 ``color`` 绘制多条断开的线段。\ ``points`` 数组中相邻的两个点定义一条线段，即第 i 条线段由端点 ``points[2 * i]`` 和 ``points[2 * i + 1]`` 组成。绘制大量线段时，这种方法比使用 :ref:`draw_line<class_CanvasItem_method_draw_line>` 一条条画要快。要绘制相连的线段，请改用 :ref:`draw_polyline<class_CanvasItem_method_draw_polyline>`\ 。

如果 ``width`` 为负数，则会绘制由两个点组成的图元，不使用四个点组成的图元。此时如果 CanvasItem 发生缩放，则线段仍然会很细。如果不想要这样的行为，请传入 ``1.0`` 等正数 ``width``\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_multiline_colors:

.. rst-class:: classref-method

void **draw_multiline_colors** **(** :ref:`PackedVector2Array<class_PackedVector2Array>` points, :ref:`PackedColorArray<class_PackedColorArray>` colors, :ref:`float<class_float>` width=-1.0 **)**

使用一致的宽度 ``width`` 分段颜色绘制多条断开的线段。\ ``points`` 数组中相邻的两个点定义一条线段，即第 i 条线段由端点 ``points[2 * i]`` 和 ``points[2 * i + 1]`` 组成，使用的颜色为 ``colors[i]``\ 。绘制大量线段时，这种方法比使用 :ref:`draw_line<class_CanvasItem_method_draw_line>` 一条条画要快。要绘制相连的线段，请改用 :ref:`draw_polyline_colors<class_CanvasItem_method_draw_polyline_colors>`\ 。

如果 ``width`` 为负数，则会绘制由两个点组成的图元，不使用四个点组成的图元。此时如果 CanvasItem 发生缩放，则线段仍然会很细。如果不想要这样的行为，请传入 ``1.0`` 等正数 ``width``\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_multiline_string:

.. rst-class:: classref-method

void **draw_multiline_string** **(** :ref:`Font<class_Font>` font, :ref:`Vector2<class_Vector2>` pos, :ref:`String<class_String>` text, :ref:`HorizontalAlignment<enum_@GlobalScope_HorizontalAlignment>` alignment=0, :ref:`float<class_float>` width=-1, :ref:`int<class_int>` font_size=16, :ref:`int<class_int>` max_lines=-1, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1), |bitfield|\<:ref:`LineBreakFlag<enum_TextServer_LineBreakFlag>`\> brk_flags=3, |bitfield|\<:ref:`JustificationFlag<enum_TextServer_JustificationFlag>`\> justification_flags=3, :ref:`Direction<enum_TextServer_Direction>` direction=0, :ref:`Orientation<enum_TextServer_Orientation>` orientation=0 **)** |const|

将 ``text`` 分成几行，并在 ``pos``\ （左上角）处使用指定的 ``font`` 绘制文本。该文本的颜色将乘以 ``modulate``\ 。如果 ``width`` 大于等于 0，则当该文本超过指定宽度时将被裁剪。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_multiline_string_outline:

.. rst-class:: classref-method

void **draw_multiline_string_outline** **(** :ref:`Font<class_Font>` font, :ref:`Vector2<class_Vector2>` pos, :ref:`String<class_String>` text, :ref:`HorizontalAlignment<enum_@GlobalScope_HorizontalAlignment>` alignment=0, :ref:`float<class_float>` width=-1, :ref:`int<class_int>` font_size=16, :ref:`int<class_int>` max_lines=-1, :ref:`int<class_int>` size=1, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1), |bitfield|\<:ref:`LineBreakFlag<enum_TextServer_LineBreakFlag>`\> brk_flags=3, |bitfield|\<:ref:`JustificationFlag<enum_TextServer_JustificationFlag>`\> justification_flags=3, :ref:`Direction<enum_TextServer_Direction>` direction=0, :ref:`Orientation<enum_TextServer_Orientation>` orientation=0 **)** |const|

将 ``text`` 分成几行，并在 ``pos``\ （左上角）处使用指定的 ``font`` 绘制文本轮廓。该文本的颜色将乘以 ``modulate``\ 。如果 ``width`` 大于等于 0，则当该文本超过指定宽度时将被裁剪。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_multimesh:

.. rst-class:: classref-method

void **draw_multimesh** **(** :ref:`MultiMesh<class_MultiMesh>` multimesh, :ref:`Texture2D<class_Texture2D>` texture **)**

用所提供的纹理以 2D 方式绘制一个 :ref:`MultiMesh<class_MultiMesh>`\ 。相关文档请参考 :ref:`MultiMeshInstance2D<class_MultiMeshInstance2D>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_polygon:

.. rst-class:: classref-method

void **draw_polygon** **(** :ref:`PackedVector2Array<class_PackedVector2Array>` points, :ref:`PackedColorArray<class_PackedColorArray>` colors, :ref:`PackedVector2Array<class_PackedVector2Array>` uvs=PackedVector2Array(), :ref:`Texture2D<class_Texture2D>` texture=null **)**

绘制一个由任意数量的点构成的实心多边形，凸形或凹形。与 :ref:`draw_colored_polygon<class_CanvasItem_method_draw_colored_polygon>` 不同，每个点的颜色都可以单独改变。另见 :ref:`draw_polyline<class_CanvasItem_method_draw_polyline>` 和 :ref:`draw_polyline_colors<class_CanvasItem_method_draw_polyline_colors>`\ 。如果你需要更大的自由度（例如能够使用骨骼），请改用 :ref:`RenderingServer.canvas_item_add_triangle_array<class_RenderingServer_method_canvas_item_add_triangle_array>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_polyline:

.. rst-class:: classref-method

void **draw_polyline** **(** :ref:`PackedVector2Array<class_PackedVector2Array>` points, :ref:`Color<class_Color>` color, :ref:`float<class_float>` width=-1.0, :ref:`bool<class_bool>` antialiased=false **)**

使用一致的 ``color`` 和 ``width`` 以及可选的抗锯齿（仅支持正 ``width`` ），绘制相互连接的线段。绘制大量线条时，这比使用单独的 :ref:`draw_line<class_CanvasItem_method_draw_line>` 调用更快。要绘制不相连的的线段，请改用 :ref:`draw_multiline<class_CanvasItem_method_draw_multiline>`\ 。另见 :ref:`draw_polygon<class_CanvasItem_method_draw_polygon>`\ 。

如果 ``width`` 为负，则它将被忽略，并使用 :ref:`RenderingServer.PRIMITIVE_LINE_STRIP<class_RenderingServer_constant_PRIMITIVE_LINE_STRIP>` 绘制该折线。这意味着当 CanvasItem 被缩放时，折线将保持为细线。如果不需要该行为，请传入一个正的 ``width``\ ，如 ``1.0``\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_polyline_colors:

.. rst-class:: classref-method

void **draw_polyline_colors** **(** :ref:`PackedVector2Array<class_PackedVector2Array>` points, :ref:`PackedColorArray<class_PackedColorArray>` colors, :ref:`float<class_float>` width=-1.0, :ref:`bool<class_bool>` antialiased=false **)**

绘制相连的线段，使用一致的宽度 ``width``\ ，按点指定颜色，还可以开启抗锯齿（仅支持正的 ``width``\ ）。将颜色与线段上的点匹配时，使用的是 ``points`` 和 ``colors`` 的索引，即每条线段填充的都是在两个端点之间颜色的渐变色。绘制大量线段时，这种方法比使用 :ref:`draw_line<class_CanvasItem_method_draw_line>` 一条条画要快。要绘制不相连的线段，请改用 :ref:`draw_multiline_colors<class_CanvasItem_method_draw_multiline_colors>`\ 。另见 :ref:`draw_polygon<class_CanvasItem_method_draw_polygon>`\ 。

如果 ``width`` 为负，则它将被忽略，并使用 :ref:`RenderingServer.PRIMITIVE_LINE_STRIP<class_RenderingServer_constant_PRIMITIVE_LINE_STRIP>` 绘制该折线。这意味着当 CanvasItem 被缩放时，折线将保持为细线。如果不需要该行为，请传入一个正的 ``width``\ ，如 ``1.0``\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_primitive:

.. rst-class:: classref-method

void **draw_primitive** **(** :ref:`PackedVector2Array<class_PackedVector2Array>` points, :ref:`PackedColorArray<class_PackedColorArray>` colors, :ref:`PackedVector2Array<class_PackedVector2Array>` uvs, :ref:`Texture2D<class_Texture2D>` texture=null **)**

绘制自定义图元。1 个点的是个点，2 个点的是线段，3 个点的是三角形，4 个点的是四边形。如果没有指定点或者指定了超过 4 个点，则不会绘制任何东西，只会输出错误消息。另请参阅 :ref:`draw_line<class_CanvasItem_method_draw_line>`\ 、\ :ref:`draw_polyline<class_CanvasItem_method_draw_polyline>`\ 、\ :ref:`draw_polygon<class_CanvasItem_method_draw_polygon>`\ 、\ :ref:`draw_rect<class_CanvasItem_method_draw_rect>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_rect:

.. rst-class:: classref-method

void **draw_rect** **(** :ref:`Rect2<class_Rect2>` rect, :ref:`Color<class_Color>` color, :ref:`bool<class_bool>` filled=true, :ref:`float<class_float>` width=-1.0 **)**

绘制一个矩形。如果 ``filled`` 为 ``true``\ ，则矩形将使用指定的 ``color`` 填充。如果 ``filled`` 为 ``false``\ ，则矩形将被绘制为具有指定的 ``color`` 和 ``width`` 的笔划。另见 :ref:`draw_texture_rect<class_CanvasItem_method_draw_texture_rect>`\ 。

如果 ``width`` 为负，则将绘制一个两点图元而不是一个四点图元。这意味着当缩放 CanvasItem 时，线条将保持细长。如果不需要此行为，请传递一个正的 ``width``\ ，如 ``1.0``\ 。

\ **注意：**\ ``width`` 只有在 ``filled`` 为 ``false`` 时才有效。

\ **注意：**\ 使用负 ``width`` 绘制的未填充矩形可能不会完美显示。例如，由于线条的重叠，角可能会缺失或变亮（对于半透明的 ``color``\ ）。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_set_transform:

.. rst-class:: classref-method

void **draw_set_transform** **(** :ref:`Vector2<class_Vector2>` position, :ref:`float<class_float>` rotation=0.0, :ref:`Vector2<class_Vector2>` scale=Vector2(1, 1) **)**

使用分量设置用于绘图的自定义变换。后续的绘制都会使用这个变换。

\ **注意：**\ :ref:`FontFile.oversampling<class_FontFile_property_oversampling>` *不会*\ 考虑 ``scale``\ 。这意味着将位图字体及栅格化（非 MSDF）动态字体放大/缩小会产生模糊或像素化的结果。要让文本无论如何缩放都保持清晰，可以启用 MSDF 字体渲染，方法是启用 :ref:`ProjectSettings.gui/theme/default_font_multichannel_signed_distance_field<class_ProjectSettings_property_gui/theme/default_font_multichannel_signed_distance_field>`\ （仅应用于默认项目字体），或者启用自定义 DynamicFont 的\ **多通道带符号距离场**\ 导入选项。对于系统字体，可以在检查器中启用 :ref:`SystemFont.multichannel_signed_distance_field<class_SystemFont_property_multichannel_signed_distance_field>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_set_transform_matrix:

.. rst-class:: classref-method

void **draw_set_transform_matrix** **(** :ref:`Transform2D<class_Transform2D>` xform **)**

设置通过矩阵绘制时的自定义变换。此后绘制的任何东西都将被它变换。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_string:

.. rst-class:: classref-method

void **draw_string** **(** :ref:`Font<class_Font>` font, :ref:`Vector2<class_Vector2>` pos, :ref:`String<class_String>` text, :ref:`HorizontalAlignment<enum_@GlobalScope_HorizontalAlignment>` alignment=0, :ref:`float<class_float>` width=-1, :ref:`int<class_int>` font_size=16, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1), |bitfield|\<:ref:`JustificationFlag<enum_TextServer_JustificationFlag>`\> justification_flags=3, :ref:`Direction<enum_TextServer_Direction>` direction=0, :ref:`Orientation<enum_TextServer_Orientation>` orientation=0 **)** |const|

使用指定的 ``font`` 在 ``pos``\ （使用的字体的基线的左下角）处绘制 ``text``\ 。该文本的颜色将乘以 ``modulate``\ 。如果 ``width`` 大于等于 0，则文本超过指定宽度将被裁剪。

\ **使用项目默认字体的例子：**\ 


.. tabs::

 .. code-tab:: gdscript

    # 如果在不断重绘的脚本中使用此方法，
    # 则将 `default_font` 声明移动到在 `_ready()` 中赋值的成员变量中
    # 这样 Control 只创建一次。
    var default_font = ThemeDB.fallback_font
    var default_font_size = ThemeDB.fallback_font_size
    draw_string(default_font, Vector2(64, 64), "Hello world", HORIZONTAL_ALIGNMENT_LEFT, -1, default_font_size)

 .. code-tab:: csharp

    // 如果在不断重绘的脚本中使用此方法，
    // 则将 `default_font` 声明移动到在 `_ready()` 中赋值的成员变量中
    // 这样 Control 只创建一次。
    Font defaultFont = ThemeDB.FallbackFont;
    int defaultFontSize = ThemeDB.FallbackFontSize;
    DrawString(defaultFont, new Vector2(64, 64), "Hello world", HORIZONTAL_ALIGNMENT_LEFT, -1, defaultFontSize);



另请参阅 :ref:`Font.draw_string<class_Font_method_draw_string>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_string_outline:

.. rst-class:: classref-method

void **draw_string_outline** **(** :ref:`Font<class_Font>` font, :ref:`Vector2<class_Vector2>` pos, :ref:`String<class_String>` text, :ref:`HorizontalAlignment<enum_@GlobalScope_HorizontalAlignment>` alignment=0, :ref:`float<class_float>` width=-1, :ref:`int<class_int>` font_size=16, :ref:`int<class_int>` size=1, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1), |bitfield|\<:ref:`JustificationFlag<enum_TextServer_JustificationFlag>`\> justification_flags=3, :ref:`Direction<enum_TextServer_Direction>` direction=0, :ref:`Orientation<enum_TextServer_Orientation>` orientation=0 **)** |const|

在 ``pos``\ （左下角使用字体的基线）处使用指定的 ``font`` 绘制 ``text`` 轮廓。该文本的颜色将乘以 ``modulate``\ 。如果 ``width`` 大于等于 0，则当文本超过指定宽度时将被裁剪。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_style_box:

.. rst-class:: classref-method

void **draw_style_box** **(** :ref:`StyleBox<class_StyleBox>` style_box, :ref:`Rect2<class_Rect2>` rect **)**

绘制一个样式矩形。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_texture:

.. rst-class:: classref-method

void **draw_texture** **(** :ref:`Texture2D<class_Texture2D>` texture, :ref:`Vector2<class_Vector2>` position, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1) **)**

在给定的位置绘制纹理。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_texture_rect:

.. rst-class:: classref-method

void **draw_texture_rect** **(** :ref:`Texture2D<class_Texture2D>` texture, :ref:`Rect2<class_Rect2>` rect, :ref:`bool<class_bool>` tile, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1), :ref:`bool<class_bool>` transpose=false **)**

在给定位置绘制一个带纹理的矩形，可以选择用颜色调制。如果 ``transpose`` 为 ``true``\ ，则纹理将交换其 X 和 Y 坐标。另见 :ref:`draw_rect<class_CanvasItem_method_draw_rect>` 和 :ref:`draw_texture_rect_region<class_CanvasItem_method_draw_texture_rect_region>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_texture_rect_region:

.. rst-class:: classref-method

void **draw_texture_rect_region** **(** :ref:`Texture2D<class_Texture2D>` texture, :ref:`Rect2<class_Rect2>` rect, :ref:`Rect2<class_Rect2>` src_rect, :ref:`Color<class_Color>` modulate=Color(1, 1, 1, 1), :ref:`bool<class_bool>` transpose=false, :ref:`bool<class_bool>` clip_uv=true **)**

在给定的位置绘制具有纹理的矩形，可以指定所使用的纹理区域（由 ``src_rect`` 指定），可选择用颜色调制。如果 ``transpose`` 为 ``true``\ ，则纹理将交换其 X 和 Y 坐标。另见 :ref:`draw_texture_rect<class_CanvasItem_method_draw_texture_rect>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_force_update_transform:

.. rst-class:: classref-method

void **force_update_transform** **(** **)**

强制更新变换。由于性能原因，物理中的变换改变不是即时的。变换是在累积后再设置。如果你在进行物理操作时需要最新的变换，请使用此功能。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_canvas:

.. rst-class:: classref-method

:ref:`RID<class_RID>` **get_canvas** **(** **)** |const|

返回此项目所在的 :ref:`World2D<class_World2D>` 画布的 :ref:`RID<class_RID>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_canvas_item:

.. rst-class:: classref-method

:ref:`RID<class_RID>` **get_canvas_item** **(** **)** |const|

返回 :ref:`RenderingServer<class_RenderingServer>` 对该项目使用的画布项目 RID。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_canvas_transform:

.. rst-class:: classref-method

:ref:`Transform2D<class_Transform2D>` **get_canvas_transform** **(** **)** |const|

返回从该项目所在的画布坐标系到 :ref:`Viewport<class_Viewport>` 坐标系的变换。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_global_mouse_position:

.. rst-class:: classref-method

:ref:`Vector2<class_Vector2>` **get_global_mouse_position** **(** **)** |const|

返回该 **CanvasItem** 所在的 :ref:`CanvasLayer<class_CanvasLayer>` 中鼠标的位置，使用该 :ref:`CanvasLayer<class_CanvasLayer>` 的坐标系。

\ **注意：**\ 要得到屏幕空间的坐标（例如使用非嵌入式 :ref:`Popup<class_Popup>` 时），你可以使用 :ref:`DisplayServer.mouse_get_position<class_DisplayServer_method_mouse_get_position>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_global_transform:

.. rst-class:: classref-method

:ref:`Transform2D<class_Transform2D>` **get_global_transform** **(** **)** |const|

返回该项目的全局变换矩阵，即到最顶层的 **CanvasItem** 节点的综合变换。最顶层的项目是一个 **CanvasItem**\ ，它要么没有父级，要么有非 **CanvasItem** 父级，或者要么它启用了 :ref:`top_level<class_CanvasItem_property_top_level>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_global_transform_with_canvas:

.. rst-class:: classref-method

:ref:`Transform2D<class_Transform2D>` **get_global_transform_with_canvas** **(** **)** |const|

返回从该 **CanvasItem** 的局部坐标系到 :ref:`Viewport<class_Viewport>` 坐标系的变换。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_local_mouse_position:

.. rst-class:: classref-method

:ref:`Vector2<class_Vector2>` **get_local_mouse_position** **(** **)** |const|

返回该 **CanvasItem** 中鼠标的位置，使用该 **CanvasItem** 的局部坐标系。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_screen_transform:

.. rst-class:: classref-method

:ref:`Transform2D<class_Transform2D>` **get_screen_transform** **(** **)** |const|

返回该 **CanvasItem** 在全局屏幕坐标中的变换（即考虑窗口位置）。主要用于编辑器插件。

如果窗口是嵌入的，则等于 :ref:`get_global_transform<class_CanvasItem_method_get_global_transform>`\ （参见 :ref:`Viewport.gui_embed_subwindows<class_Viewport_property_gui_embed_subwindows>`\ ）。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_transform:

.. rst-class:: classref-method

:ref:`Transform2D<class_Transform2D>` **get_transform** **(** **)** |const|

返回此项目的变换矩阵。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_viewport_rect:

.. rst-class:: classref-method

:ref:`Rect2<class_Rect2>` **get_viewport_rect** **(** **)** |const|

以 :ref:`Rect2<class_Rect2>` 形式返回视口的边界。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_viewport_transform:

.. rst-class:: classref-method

:ref:`Transform2D<class_Transform2D>` **get_viewport_transform** **(** **)** |const|

返回从该项目所在的画布坐标系到 :ref:`Viewport<class_Viewport>` 嵌入坐标系的变换。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_visibility_layer_bit:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **get_visibility_layer_bit** **(** :ref:`int<class_int>` layer **)** |const|

返回渲染可见层上的某个比特位。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_world_2d:

.. rst-class:: classref-method

:ref:`World2D<class_World2D>` **get_world_2d** **(** **)** |const|

返回此物品所在的 :ref:`World2D<class_World2D>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_hide:

.. rst-class:: classref-method

void **hide** **(** **)**

如果该 **CanvasItem** 目前是可见的，则将其隐藏。相当于将 :ref:`visible<class_CanvasItem_property_visible>` 设为 ``false``\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_is_local_transform_notification_enabled:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **is_local_transform_notification_enabled** **(** **)** |const|

如果将局部变换通知传达给子级，则返回 ``true``\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_is_transform_notification_enabled:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **is_transform_notification_enabled** **(** **)** |const|

如果将全局变换通知传达给子级，则返回 ``true``\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_is_visible_in_tree:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **is_visible_in_tree** **(** **)** |const|

如果该节点位于 :ref:`SceneTree<class_SceneTree>` 中，并且其 :ref:`visible<class_CanvasItem_property_visible>` 属性为 ``true``\ ，并且其所有上层节点也均可见，则返回 ``true``\ 。如果任何上层节点被隐藏，则该节点在场景树中将不可见，因此也不会进行绘制（见 :ref:`_draw<class_CanvasItem_private_method__draw>`\ ）。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_make_canvas_position_local:

.. rst-class:: classref-method

:ref:`Vector2<class_Vector2>` **make_canvas_position_local** **(** :ref:`Vector2<class_Vector2>` screen_point **)** |const|

将 ``screen_point`` 指定为该节点的新局部变换。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_make_input_local:

.. rst-class:: classref-method

:ref:`InputEvent<class_InputEvent>` **make_input_local** **(** :ref:`InputEvent<class_InputEvent>` event **)** |const|

``event`` 的输入发出的变换将在局部空间而不是全局空间中应用。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_move_to_front:

.. rst-class:: classref-method

void **move_to_front** **(** **)**

移动该节点以显示在其同级节点之上。

在内部，该节点被移动到父节点的子节点列表的底部。该方法对没有父节点的节点没有影响。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_queue_redraw:

.. rst-class:: classref-method

void **queue_redraw** **(** **)**

将该 **CanvasItem** 加入重绘队列。空闲时，如果 **CanvasItem** 可见，则会发送 :ref:`NOTIFICATION_DRAW<class_CanvasItem_constant_NOTIFICATION_DRAW>` 并调用 :ref:`_draw<class_CanvasItem_private_method__draw>`\ 。即便多次调用这个方法，每帧也都只会发生\ **一次**\ 绘制。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_set_notify_local_transform:

.. rst-class:: classref-method

void **set_notify_local_transform** **(** :ref:`bool<class_bool>` enable **)**

如果 ``enable`` 为 ``true``\ ，则该节点将在其局部变换发生改变时收到 :ref:`NOTIFICATION_LOCAL_TRANSFORM_CHANGED<class_CanvasItem_constant_NOTIFICATION_LOCAL_TRANSFORM_CHANGED>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_set_notify_transform:

.. rst-class:: classref-method

void **set_notify_transform** **(** :ref:`bool<class_bool>` enable **)**

如果 ``enable`` 为 ``true``\ ，那么这个节点会在其全局变换发生改变时接收到 :ref:`NOTIFICATION_TRANSFORM_CHANGED<class_CanvasItem_constant_NOTIFICATION_TRANSFORM_CHANGED>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_set_visibility_layer_bit:

.. rst-class:: classref-method

void **set_visibility_layer_bit** **(** :ref:`int<class_int>` layer, :ref:`bool<class_bool>` enabled **)**

设置或清除渲染可见层上的单个位。这简化了对该 **CanvasItem** 的可见层的编辑。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_show:

.. rst-class:: classref-method

void **show** **(** **)**

如果该 **CanvasItem** 目前是隐藏的，则将其显示。相当于将 :ref:`visible<class_CanvasItem_property_visible>` 设为 ``true``\ 。对于继承自 :ref:`Popup<class_Popup>` 的控件，让它们可见的正确做法是换成调用各种 ``popup*()`` 函数的其中之一。

.. |virtual| replace:: :abbr:`virtual (本方法通常需要用户覆盖才能生效。)`
.. |const| replace:: :abbr:`const (本方法没有副作用。不会修改该实例的任何成员变量。)`
.. |vararg| replace:: :abbr:`vararg (本方法除了在此处描述的参数外，还能够继续接受任意数量的参数。)`
.. |constructor| replace:: :abbr:`constructor (本方法用于构造某个类型。)`
.. |static| replace:: :abbr:`static (调用本方法无需实例，所以可以直接使用类名调用。)`
.. |operator| replace:: :abbr:`operator (本方法描述的是使用本类型作为左操作数的有效操作符。)`
.. |bitfield| replace:: :abbr:`BitField (这个值是由下列标志构成的位掩码整数。)`
