:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/doc/classes/TileMapLayer.xml.

.. _class_TileMapLayer:

TileMapLayer
============

**ç»§æ‰¿ï¼š** :ref:`Node2D<class_Node2D>` **<** :ref:`CanvasItem<class_CanvasItem>` **<** :ref:`Node<class_Node>` **<** :ref:`Object<class_Object>`

åŸºäº 2D å›¾å—çš„åœ°å›¾èŠ‚ç‚¹ã€‚

.. rst-class:: classref-introduction-group

æè¿°
----

åŸºäº 2D å›¾å—çš„åœ°å›¾èŠ‚ç‚¹ã€‚\ **TileMapLayer** å³å›¾å—åœ°å›¾å±‚ï¼Œéœ€è¦ä½¿ç”¨åŒ…å«äº†å›¾å—åˆ—è¡¨çš„ :ref:`TileSet<class_TileSet>`\ ï¼Œç”¨äºåˆ›å»ºåŸºäºæ …æ ¼çš„åœ°å›¾ã€‚ä¸å·²ç»åºŸå¼ƒçš„ :ref:`TileMap<class_TileMap>` èŠ‚ç‚¹ä¸åŒï¼Œ\ **TileMapLayer** åªåŒ…å«ä¸€ä¸ªå›¾å—å±‚ã€‚å¯ä»¥ä½¿ç”¨å¤šä¸ª **TileMapLayer** å®ç°å’Œ :ref:`TileMap<class_TileMap>` èŠ‚ç‚¹ç›¸åŒçš„æ•ˆæœã€‚

å‡ºäºæ€§èƒ½åŸå› ï¼Œæ‰€æœ‰ TileMap æ›´æ–°éƒ½ä¼šåœ¨ä¸€å¸§ç»“æŸæ—¶è¿›è¡Œæ‰¹å¤„ç†ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™æ„å‘³ç€ :ref:`TileSetScenesCollectionSource<class_TileSetScenesCollectionSource>` ä¸­çš„åœºæ™¯å›¾å—å¯èƒ½ä¼šåœ¨å…¶çˆ¶çº§ä¹‹ååˆå§‹åŒ–ã€‚ä»…å½“åœ¨åœºæ™¯æ ‘å†…æ—¶æ‰ä¼šæ’é˜Ÿã€‚

è¦æå‰å¼ºåˆ¶æ›´æ–°ï¼Œè¯·è°ƒç”¨ :ref:`update_internals<class_TileMapLayer_method_update_internals>`\ ã€‚

.. rst-class:: classref-reftable-group

å±æ€§
----

.. table::
   :widths: auto

   +-------------------------------------------------------------------+-------------------------------------------------------------------------------------------+-----------------------+
   | :ref:`bool<class_bool>`                                           | :ref:`collision_enabled<class_TileMapLayer_property_collision_enabled>`                   | ``true``              |
   +-------------------------------------------------------------------+-------------------------------------------------------------------------------------------+-----------------------+
   | :ref:`DebugVisibilityMode<enum_TileMapLayer_DebugVisibilityMode>` | :ref:`collision_visibility_mode<class_TileMapLayer_property_collision_visibility_mode>`   | ``0``                 |
   +-------------------------------------------------------------------+-------------------------------------------------------------------------------------------+-----------------------+
   | :ref:`bool<class_bool>`                                           | :ref:`enabled<class_TileMapLayer_property_enabled>`                                       | ``true``              |
   +-------------------------------------------------------------------+-------------------------------------------------------------------------------------------+-----------------------+
   | :ref:`bool<class_bool>`                                           | :ref:`navigation_enabled<class_TileMapLayer_property_navigation_enabled>`                 | ``true``              |
   +-------------------------------------------------------------------+-------------------------------------------------------------------------------------------+-----------------------+
   | :ref:`DebugVisibilityMode<enum_TileMapLayer_DebugVisibilityMode>` | :ref:`navigation_visibility_mode<class_TileMapLayer_property_navigation_visibility_mode>` | ``0``                 |
   +-------------------------------------------------------------------+-------------------------------------------------------------------------------------------+-----------------------+
   | :ref:`int<class_int>`                                             | :ref:`rendering_quadrant_size<class_TileMapLayer_property_rendering_quadrant_size>`       | ``16``                |
   +-------------------------------------------------------------------+-------------------------------------------------------------------------------------------+-----------------------+
   | :ref:`PackedByteArray<class_PackedByteArray>`                     | :ref:`tile_map_data<class_TileMapLayer_property_tile_map_data>`                           | ``PackedByteArray()`` |
   +-------------------------------------------------------------------+-------------------------------------------------------------------------------------------+-----------------------+
   | :ref:`TileSet<class_TileSet>`                                     | :ref:`tile_set<class_TileMapLayer_property_tile_set>`                                     |                       |
   +-------------------------------------------------------------------+-------------------------------------------------------------------------------------------+-----------------------+
   | :ref:`bool<class_bool>`                                           | :ref:`use_kinematic_bodies<class_TileMapLayer_property_use_kinematic_bodies>`             | ``false``             |
   +-------------------------------------------------------------------+-------------------------------------------------------------------------------------------+-----------------------+
   | :ref:`bool<class_bool>`                                           | :ref:`x_draw_order_reversed<class_TileMapLayer_property_x_draw_order_reversed>`           | ``false``             |
   +-------------------------------------------------------------------+-------------------------------------------------------------------------------------------+-----------------------+
   | :ref:`int<class_int>`                                             | :ref:`y_sort_origin<class_TileMapLayer_property_y_sort_origin>`                           | ``0``                 |
   +-------------------------------------------------------------------+-------------------------------------------------------------------------------------------+-----------------------+

.. rst-class:: classref-reftable-group

æ–¹æ³•
----

.. table::
   :widths: auto

   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`_tile_data_runtime_update<class_TileMapLayer_private_method__tile_data_runtime_update>`\ (\ coords\: :ref:`Vector2i<class_Vector2i>`, tile_data\: :ref:`TileData<class_TileData>`\ ) |virtual|                                                                                            |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                                      | :ref:`_use_tile_data_runtime_update<class_TileMapLayer_private_method__use_tile_data_runtime_update>`\ (\ coords\: :ref:`Vector2i<class_Vector2i>`\ ) |virtual|                                                                                                                                 |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`clear<class_TileMapLayer_method_clear>`\ (\ )                                                                                                                                                                                                                                             |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`erase_cell<class_TileMapLayer_method_erase_cell>`\ (\ coords\: :ref:`Vector2i<class_Vector2i>`\ )                                                                                                                                                                                         |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`fix_invalid_tiles<class_TileMapLayer_method_fix_invalid_tiles>`\ (\ )                                                                                                                                                                                                                     |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                        | :ref:`get_cell_alternative_tile<class_TileMapLayer_method_get_cell_alternative_tile>`\ (\ coords\: :ref:`Vector2i<class_Vector2i>`\ ) |const|                                                                                                                                                   |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2i<class_Vector2i>`                              | :ref:`get_cell_atlas_coords<class_TileMapLayer_method_get_cell_atlas_coords>`\ (\ coords\: :ref:`Vector2i<class_Vector2i>`\ ) |const|                                                                                                                                                           |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                        | :ref:`get_cell_source_id<class_TileMapLayer_method_get_cell_source_id>`\ (\ coords\: :ref:`Vector2i<class_Vector2i>`\ ) |const|                                                                                                                                                                 |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`TileData<class_TileData>`                              | :ref:`get_cell_tile_data<class_TileMapLayer_method_get_cell_tile_data>`\ (\ coords\: :ref:`Vector2i<class_Vector2i>`\ ) |const|                                                                                                                                                                 |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2i<class_Vector2i>`                              | :ref:`get_coords_for_body_rid<class_TileMapLayer_method_get_coords_for_body_rid>`\ (\ body\: :ref:`RID<class_RID>`\ ) |const|                                                                                                                                                                   |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`RID<class_RID>`                                        | :ref:`get_navigation_map<class_TileMapLayer_method_get_navigation_map>`\ (\ ) |const|                                                                                                                                                                                                           |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2i<class_Vector2i>`                              | :ref:`get_neighbor_cell<class_TileMapLayer_method_get_neighbor_cell>`\ (\ coords\: :ref:`Vector2i<class_Vector2i>`, neighbor\: :ref:`CellNeighbor<enum_TileSet_CellNeighbor>`\ ) |const|                                                                                                        |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`TileMapPattern<class_TileMapPattern>`                  | :ref:`get_pattern<class_TileMapLayer_method_get_pattern>`\ (\ coords_array\: :ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\]\ )                                                                                                                                                    |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\] | :ref:`get_surrounding_cells<class_TileMapLayer_method_get_surrounding_cells>`\ (\ coords\: :ref:`Vector2i<class_Vector2i>`\ )                                                                                                                                                                   |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\] | :ref:`get_used_cells<class_TileMapLayer_method_get_used_cells>`\ (\ ) |const|                                                                                                                                                                                                                   |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\] | :ref:`get_used_cells_by_id<class_TileMapLayer_method_get_used_cells_by_id>`\ (\ source_id\: :ref:`int<class_int>` = -1, atlas_coords\: :ref:`Vector2i<class_Vector2i>` = Vector2i(-1, -1), alternative_tile\: :ref:`int<class_int>` = -1\ ) |const|                                             |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Rect2i<class_Rect2i>`                                  | :ref:`get_used_rect<class_TileMapLayer_method_get_used_rect>`\ (\ ) |const|                                                                                                                                                                                                                     |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                                      | :ref:`has_body_rid<class_TileMapLayer_method_has_body_rid>`\ (\ body\: :ref:`RID<class_RID>`\ ) |const|                                                                                                                                                                                         |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2i<class_Vector2i>`                              | :ref:`local_to_map<class_TileMapLayer_method_local_to_map>`\ (\ local_position\: :ref:`Vector2<class_Vector2>`\ ) |const|                                                                                                                                                                       |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2i<class_Vector2i>`                              | :ref:`map_pattern<class_TileMapLayer_method_map_pattern>`\ (\ position_in_tilemap\: :ref:`Vector2i<class_Vector2i>`, coords_in_pattern\: :ref:`Vector2i<class_Vector2i>`, pattern\: :ref:`TileMapPattern<class_TileMapPattern>`\ )                                                              |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2<class_Vector2>`                                | :ref:`map_to_local<class_TileMapLayer_method_map_to_local>`\ (\ map_position\: :ref:`Vector2i<class_Vector2i>`\ ) |const|                                                                                                                                                                       |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`notify_runtime_tile_data_update<class_TileMapLayer_method_notify_runtime_tile_data_update>`\ (\ )                                                                                                                                                                                         |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`set_cell<class_TileMapLayer_method_set_cell>`\ (\ coords\: :ref:`Vector2i<class_Vector2i>`, source_id\: :ref:`int<class_int>` = -1, atlas_coords\: :ref:`Vector2i<class_Vector2i>` = Vector2i(-1, -1), alternative_tile\: :ref:`int<class_int>` = 0\ )                                    |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`set_cells_terrain_connect<class_TileMapLayer_method_set_cells_terrain_connect>`\ (\ cells\: :ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\], terrain_set\: :ref:`int<class_int>`, terrain\: :ref:`int<class_int>`, ignore_empty_terrains\: :ref:`bool<class_bool>` = true\ ) |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`set_cells_terrain_path<class_TileMapLayer_method_set_cells_terrain_path>`\ (\ path\: :ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\], terrain_set\: :ref:`int<class_int>`, terrain\: :ref:`int<class_int>`, ignore_empty_terrains\: :ref:`bool<class_bool>` = true\ )        |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`set_navigation_map<class_TileMapLayer_method_set_navigation_map>`\ (\ map\: :ref:`RID<class_RID>`\ )                                                                                                                                                                                      |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`set_pattern<class_TileMapLayer_method_set_pattern>`\ (\ position\: :ref:`Vector2i<class_Vector2i>`, pattern\: :ref:`TileMapPattern<class_TileMapPattern>`\ )                                                                                                                              |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`update_internals<class_TileMapLayer_method_update_internals>`\ (\ )                                                                                                                                                                                                                       |
   +--------------------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

ä¿¡å·
----

.. _class_TileMapLayer_signal_changed:

.. rst-class:: classref-signal

**changed**\ (\ ) :ref:`ğŸ”—<class_TileMapLayer_signal_changed>`

**TileMapLayer** çš„å±æ€§å‘ç”Ÿæ”¹å˜æ—¶å‘å‡ºã€‚åŒ…æ‹¬å¯¹å•å…ƒæ ¼å’Œå±æ€§çš„ä¿®æ”¹ä»¥åŠå¯¹æ‰€åˆ†é…çš„ :ref:`TileSet<class_TileSet>` çš„ä¿®æ”¹ã€‚

\ **æ³¨æ„ï¼š**\ æ‰¹é‡ä¿®æ”¹ **TileMapLayer** æ—¶å¯èƒ½é¢‘ç¹å‘å‡ºè¯¥ä¿¡å·ã€‚è¯·å‹¿åœ¨è¿æ¥çš„å‡½æ•°ä¸­æ‰§è¡Œå¤æ‚çš„å¤„ç†ï¼Œå»ºè®®å»¶è¿Ÿåˆ°å¸§æœ«å°¾å†è¿›è¡Œè¿™äº›æ“ä½œï¼ˆå³è°ƒç”¨ :ref:`Object.call_deferred<class_Object_method_call_deferred>`\ ï¼‰ã€‚

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

æšä¸¾
----

.. _enum_TileMapLayer_DebugVisibilityMode:

.. rst-class:: classref-enumeration

enum **DebugVisibilityMode**: :ref:`ğŸ”—<enum_TileMapLayer_DebugVisibilityMode>`

.. _class_TileMapLayer_constant_DEBUG_VISIBILITY_MODE_DEFAULT:

.. rst-class:: classref-enumeration-constant

:ref:`DebugVisibilityMode<enum_TileMapLayer_DebugVisibilityMode>` **DEBUG_VISIBILITY_MODE_DEFAULT** = ``0``

åœ¨ç¼–è¾‘å™¨ä¸­éšè—ç¢°æ’å’Œå¯¼èˆªè°ƒè¯•å½¢çŠ¶ï¼Œä½¿ç”¨è°ƒè¯•è®¾ç½®å†³å®šæ¸¸æˆä¸­çš„å¯è§æ€§ï¼ˆå³ :ref:`SceneTree.debug_collisions_hint<class_SceneTree_property_debug_collisions_hint>` å’Œ :ref:`SceneTree.debug_navigation_hint<class_SceneTree_property_debug_navigation_hint>`\ ï¼‰ã€‚

.. _class_TileMapLayer_constant_DEBUG_VISIBILITY_MODE_FORCE_HIDE:

.. rst-class:: classref-enumeration-constant

:ref:`DebugVisibilityMode<enum_TileMapLayer_DebugVisibilityMode>` **DEBUG_VISIBILITY_MODE_FORCE_HIDE** = ``2``

å§‹ç»ˆéšè—ç¢°æ’å’Œå¯¼èˆªè°ƒè¯•å½¢çŠ¶ã€‚

.. _class_TileMapLayer_constant_DEBUG_VISIBILITY_MODE_FORCE_SHOW:

.. rst-class:: classref-enumeration-constant

:ref:`DebugVisibilityMode<enum_TileMapLayer_DebugVisibilityMode>` **DEBUG_VISIBILITY_MODE_FORCE_SHOW** = ``1``

å§‹ç»ˆæ˜¾ç¤ºç¢°æ’å’Œå¯¼èˆªè°ƒè¯•å½¢çŠ¶ã€‚

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

å±æ€§è¯´æ˜
--------

.. _class_TileMapLayer_property_collision_enabled:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **collision_enabled** = ``true`` :ref:`ğŸ”—<class_TileMapLayer_property_collision_enabled>`

.. rst-class:: classref-property-setget

- |void| **set_collision_enabled**\ (\ value\: :ref:`bool<class_bool>`\ )
- :ref:`bool<class_bool>` **is_collision_enabled**\ (\ )

å¯ç”¨æˆ–ç¦ç”¨ç¢°æ’ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_property_collision_visibility_mode:

.. rst-class:: classref-property

:ref:`DebugVisibilityMode<enum_TileMapLayer_DebugVisibilityMode>` **collision_visibility_mode** = ``0`` :ref:`ğŸ”—<class_TileMapLayer_property_collision_visibility_mode>`

.. rst-class:: classref-property-setget

- |void| **set_collision_visibility_mode**\ (\ value\: :ref:`DebugVisibilityMode<enum_TileMapLayer_DebugVisibilityMode>`\ )
- :ref:`DebugVisibilityMode<enum_TileMapLayer_DebugVisibilityMode>` **get_collision_visibility_mode**\ (\ )

æ˜¾ç¤ºæˆ–éšè— **TileMapLayer** çš„ç¢°æ’å½¢çŠ¶ã€‚å¦‚æœè®¾ç½®ä¸º :ref:`DEBUG_VISIBILITY_MODE_DEFAULT<class_TileMapLayer_constant_DEBUG_VISIBILITY_MODE_DEFAULT>`\ ï¼Œåˆ™å–å†³äºè°ƒè¯•è®¾ç½®â€œæ˜¾ç¤ºç¢°æ’â€ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_property_enabled:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **enabled** = ``true`` :ref:`ğŸ”—<class_TileMapLayer_property_enabled>`

.. rst-class:: classref-property-setget

- |void| **set_enabled**\ (\ value\: :ref:`bool<class_bool>`\ )
- :ref:`bool<class_bool>` **is_enabled**\ (\ )

å¦‚æœä¸º ``false``\ ï¼Œåˆ™ä¼šå®Œå…¨ç¦ç”¨è¯¥ **TileMapLayer**\ ï¼ˆæ¸²æŸ“ã€ç¢°æ’ã€å¯¼èˆªã€åœºæ™¯å›¾å—ç­‰ï¼‰ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_property_navigation_enabled:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **navigation_enabled** = ``true`` :ref:`ğŸ”—<class_TileMapLayer_property_navigation_enabled>`

.. rst-class:: classref-property-setget

- |void| **set_navigation_enabled**\ (\ value\: :ref:`bool<class_bool>`\ )
- :ref:`bool<class_bool>` **is_navigation_enabled**\ (\ )

å¦‚æœä¸º ``true``\ ï¼Œåˆ™å¯ç”¨å¯¼èˆªåŒºå—ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_property_navigation_visibility_mode:

.. rst-class:: classref-property

:ref:`DebugVisibilityMode<enum_TileMapLayer_DebugVisibilityMode>` **navigation_visibility_mode** = ``0`` :ref:`ğŸ”—<class_TileMapLayer_property_navigation_visibility_mode>`

.. rst-class:: classref-property-setget

- |void| **set_navigation_visibility_mode**\ (\ value\: :ref:`DebugVisibilityMode<enum_TileMapLayer_DebugVisibilityMode>`\ )
- :ref:`DebugVisibilityMode<enum_TileMapLayer_DebugVisibilityMode>` **get_navigation_visibility_mode**\ (\ )

æ˜¾ç¤ºæˆ–éšè— **TileMapLayer** çš„å¯¼èˆªç½‘æ ¼ã€‚å¦‚æœè®¾ç½®ä¸º :ref:`DEBUG_VISIBILITY_MODE_DEFAULT<class_TileMapLayer_constant_DEBUG_VISIBILITY_MODE_DEFAULT>`\ ï¼Œåˆ™å–å†³äºè°ƒè¯•è®¾ç½®â€œæ˜¾ç¤ºå¯¼èˆªâ€ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_property_rendering_quadrant_size:

.. rst-class:: classref-property

:ref:`int<class_int>` **rendering_quadrant_size** = ``16`` :ref:`ğŸ”—<class_TileMapLayer_property_rendering_quadrant_size>`

.. rst-class:: classref-property-setget

- |void| **set_rendering_quadrant_size**\ (\ value\: :ref:`int<class_int>`\ )
- :ref:`int<class_int>` **get_rendering_quadrant_size**\ (\ )

**TileMapLayer** çš„è±¡é™å¤§å°ã€‚è±¡é™æ˜¯åœ¨å•ä¸ªç”»å¸ƒé¡¹ä¸Šä¸€èµ·ç»˜åˆ¶çš„ä¸€ç»„å›¾å—ï¼Œç”¨äºä¼˜åŒ–ã€‚\ :ref:`rendering_quadrant_size<class_TileMapLayer_property_rendering_quadrant_size>` å®šä¹‰çš„æ˜¯å½¢æˆè±¡é™çš„æ­£æ–¹å½¢çš„è¾¹é•¿ï¼Œä½¿ç”¨åœ°å›¾åæ ‡ç³»ã€‚å› æ­¤ï¼Œé»˜è®¤è±¡é™å¤§å°å°† ``16 * 16 = 256`` ä¸ªå›¾å—ç»„åˆåˆ°äº†ä¸€èµ·ã€‚

è±¡é™å¤§å°ä¸é€‚ç”¨äº Y æ’åºçš„ **TileMapLayer**\ ï¼Œå› ä¸ºåœ¨è¿™ç§æƒ…å†µä¸‹å›¾å—æŒ‰ Y ä½ç½®åˆ†ç»„ã€‚

\ **æ³¨æ„ï¼š**\ è±¡é™æ˜¯æ ¹æ®åœ°å›¾åæ ‡ç³»åˆ›å»ºçš„ï¼Œâ€œæ­£æ–¹å½¢â€çš„è±¡é™åœ¨ **TileMapLayer** çš„å±€éƒ¨åæ ‡ç³»ä¸­å¯èƒ½å¹¶ä¸æ˜¯æ­£æ–¹å½¢ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_property_tile_map_data:

.. rst-class:: classref-property

:ref:`PackedByteArray<class_PackedByteArray>` **tile_map_data** = ``PackedByteArray()`` :ref:`ğŸ”—<class_TileMapLayer_property_tile_map_data>`

.. rst-class:: classref-property-setget

- |void| **set_tile_map_data_from_array**\ (\ value\: :ref:`PackedByteArray<class_PackedByteArray>`\ )
- :ref:`PackedByteArray<class_PackedByteArray>` **get_tile_map_data_as_array**\ (\ )

å­—èŠ‚æ•°ç»„å½¢å¼çš„å›¾å—åœ°å›¾åŸå§‹æ•°æ®ã€‚

**Note:** The returned array is *copied* and any changes to it will not update the original property value. See :ref:`PackedByteArray<class_PackedByteArray>` for more details.

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_property_tile_set:

.. rst-class:: classref-property

:ref:`TileSet<class_TileSet>` **tile_set** :ref:`ğŸ”—<class_TileMapLayer_property_tile_set>`

.. rst-class:: classref-property-setget

- |void| **set_tile_set**\ (\ value\: :ref:`TileSet<class_TileSet>`\ )
- :ref:`TileSet<class_TileSet>` **get_tile_set**\ (\ )

è¯¥å›¾å±‚ä½¿ç”¨çš„ :ref:`TileSet<class_TileSet>`\ ã€‚å­˜å‚¨çš„æ˜¯æ‰€æœ‰å¯ç”¨å›¾å—çš„çº¹ç†ã€ç¢°æ’ä»¥åŠé¢å¤–çš„è¡Œä¸ºã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_property_use_kinematic_bodies:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **use_kinematic_bodies** = ``false`` :ref:`ğŸ”—<class_TileMapLayer_property_use_kinematic_bodies>`

.. rst-class:: classref-property-setget

- |void| **set_use_kinematic_bodies**\ (\ value\: :ref:`bool<class_bool>`\ )
- :ref:`bool<class_bool>` **is_using_kinematic_bodies**\ (\ )

å¦‚æœä¸º ``true``\ ï¼Œåˆ™è¯¥ **TileMapLayer** ç¢°æ’å½¢çŠ¶å°†è¢«å®ä¾‹åŒ–ä¸ºè¿åŠ¨ä½“ã€‚è¿™å¯¹äºç§»åŠ¨ **TileMapLayer** èŠ‚ç‚¹ï¼ˆå³ç§»åŠ¨å¹³å°ï¼‰å¯èƒ½æ˜¯å¿…è¦çš„ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_property_x_draw_order_reversed:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **x_draw_order_reversed** = ``false`` :ref:`ğŸ”—<class_TileMapLayer_property_x_draw_order_reversed>`

.. rst-class:: classref-property-setget

- |void| **set_x_draw_order_reversed**\ (\ value\: :ref:`bool<class_bool>`\ )
- :ref:`bool<class_bool>` **is_x_draw_order_reversed**\ (\ )

å¦‚æœå¯ç”¨äº† :ref:`CanvasItem.y_sort_enabled<class_CanvasItem_property_y_sort_enabled>`\ ï¼Œåˆ™å°†å…¶è®¾ç½®ä¸º ``true`` å°†åè½¬åœ¨ X è½´ä¸Šç»˜åˆ¶å›¾å—çš„é¡ºåºã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_property_y_sort_origin:

.. rst-class:: classref-property

:ref:`int<class_int>` **y_sort_origin** = ``0`` :ref:`ğŸ”—<class_TileMapLayer_property_y_sort_origin>`

.. rst-class:: classref-property-setget

- |void| **set_y_sort_origin**\ (\ value\: :ref:`int<class_int>`\ )
- :ref:`int<class_int>` **get_y_sort_origin**\ (\ )

å„ä¸ªå›¾å—çš„ Y æ’åºåŸç‚¹å€¼éƒ½ä¼šåŠ ä¸Šè¿™ä¸ª Y æ’åºåŸç‚¹å€¼ã€‚ç”¨ä¾‹æ˜¯ä¸ºå›¾å±‚å†’å……å…¶ä»–é«˜åº¦çº§åˆ«ã€‚åœ¨ä¿¯è§†è§’æ¸¸æˆä¸­æ¯”è¾ƒæœ‰ç”¨ã€‚

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

æ–¹æ³•è¯´æ˜
--------

.. _class_TileMapLayer_private_method__tile_data_runtime_update:

.. rst-class:: classref-method

|void| **_tile_data_runtime_update**\ (\ coords\: :ref:`Vector2i<class_Vector2i>`, tile_data\: :ref:`TileData<class_TileData>`\ ) |virtual| :ref:`ğŸ”—<class_TileMapLayer_private_method__tile_data_runtime_update>`

ä½¿ç”¨å³å°†ç”± **TileMapLayer** å†…éƒ¨ä½¿ç”¨çš„ :ref:`TileData<class_TileData>` å¯¹è±¡æ¥è°ƒç”¨ï¼Œä»è€Œå…è®¸åœ¨è¿è¡Œæ—¶å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€‚

ä»…å½“ :ref:`_use_tile_data_runtime_update<class_TileMapLayer_private_method__use_tile_data_runtime_update>` å·²å®ç°ï¼Œä¸”å®ƒä¸ºç»™å®šçš„å›¾å— ``coords`` è¿”å› ``true`` æ—¶ï¼Œæ‰ä¼šè°ƒç”¨è¯¥æ–¹æ³•ã€‚

\ **è­¦å‘Šï¼š**\ ``tile_data`` å¯¹è±¡çš„å­èµ„æºä¸ TileSet ä¸­çš„å­èµ„æºç›¸åŒã€‚ä¿®æ”¹å®ƒä»¬å¯èƒ½ä¼šå½±å“æ•´ä¸ª TileSetã€‚è¯·ç¡®ä¿å¤åˆ¶è¿™äº›èµ„æºå†è¿›è¡Œä¿®æ”¹ã€‚

\ **æ³¨æ„ï¼š**\ å¦‚æœ ``tile_data`` å¯¹è±¡çš„å±æ€§åº”éšæ—¶é—´å‘ç”Ÿå˜åŒ–ï¼Œè¯·ä½¿ç”¨ :ref:`notify_runtime_tile_data_update<class_TileMapLayer_method_notify_runtime_tile_data_update>` æ¥é€šçŸ¥ **TileMapLayer** å®ƒéœ€è¦æ›´æ–°ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_private_method__use_tile_data_runtime_update:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **_use_tile_data_runtime_update**\ (\ coords\: :ref:`Vector2i<class_Vector2i>`\ ) |virtual| :ref:`ğŸ”—<class_TileMapLayer_private_method__use_tile_data_runtime_update>`

å¦‚æœä½äºåæ ‡ ``coords`` çš„å›¾å—éœ€è¦è¿è¡Œæ—¶æ›´æ–°ï¼Œåˆ™åº”è¿”å› ``true``\ ã€‚

\ **è­¦å‘Šï¼š**\ è¯·ç¡®ä¿è¿™ä¸ªå‡½æ•°åªåœ¨éœ€è¦æ—¶è¿”å› ``true``\ ã€‚ä»»ä½•åœ¨æ²¡æœ‰éœ€è¦çš„æƒ…å†µä¸‹åœ¨è¿è¡Œæ—¶å¤„ç†çš„å›¾å—éƒ½å°†å¯¼è‡´æ˜¾è‘—çš„æ€§èƒ½æŸå¤±ã€‚

\ **æ³¨æ„ï¼š**\ å¦‚æœè¯¥å‡½æ•°çš„ç»“æœå‘ç”Ÿå˜åŒ–ï¼Œè¯·ä½¿ç”¨ :ref:`notify_runtime_tile_data_update<class_TileMapLayer_method_notify_runtime_tile_data_update>` é€šçŸ¥ **TileMapLayer** å®ƒéœ€è¦æ›´æ–°ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_clear:

.. rst-class:: classref-method

|void| **clear**\ (\ ) :ref:`ğŸ”—<class_TileMapLayer_method_clear>`

æ¸…é™¤æ‰€æœ‰å•å…ƒæ ¼ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_erase_cell:

.. rst-class:: classref-method

|void| **erase_cell**\ (\ coords\: :ref:`Vector2i<class_Vector2i>`\ ) :ref:`ğŸ”—<class_TileMapLayer_method_erase_cell>`

æ“¦é™¤ä½äºåæ ‡ ``coords`` çš„å•å…ƒæ ¼ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_fix_invalid_tiles:

.. rst-class:: classref-method

|void| **fix_invalid_tiles**\ (\ ) :ref:`ğŸ”—<class_TileMapLayer_method_fix_invalid_tiles>`

æ¸…ç©ºåŒ…å«ä¸å­˜åœ¨äº :ref:`tile_set<class_TileMapLayer_property_tile_set>` ä¸­çš„å›¾å—çš„å•å…ƒæ ¼ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_get_cell_alternative_tile:

.. rst-class:: classref-method

:ref:`int<class_int>` **get_cell_alternative_tile**\ (\ coords\: :ref:`Vector2i<class_Vector2i>`\ ) |const| :ref:`ğŸ”—<class_TileMapLayer_method_get_cell_alternative_tile>`

è¿”å›ä½äºåæ ‡ ``coords`` çš„å•å…ƒæ ¼çš„å›¾å—å¤‡é€‰ IDã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_get_cell_atlas_coords:

.. rst-class:: classref-method

:ref:`Vector2i<class_Vector2i>` **get_cell_atlas_coords**\ (\ coords\: :ref:`Vector2i<class_Vector2i>`\ ) |const| :ref:`ğŸ”—<class_TileMapLayer_method_get_cell_atlas_coords>`

è¿”å›ä½äºåæ ‡ ``coords`` çš„å•å…ƒæ ¼çš„å›¾å—å›¾é›†åæ ‡ IDã€‚å¦‚æœå•å…ƒæ ¼ä¸å­˜åœ¨åˆ™è¿”å› ``Vector2i(-1, -1)``\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_get_cell_source_id:

.. rst-class:: classref-method

:ref:`int<class_int>` **get_cell_source_id**\ (\ coords\: :ref:`Vector2i<class_Vector2i>`\ ) |const| :ref:`ğŸ”—<class_TileMapLayer_method_get_cell_source_id>`

è¿”å›ä½äºåæ ‡ ``coords`` çš„å•å…ƒæ ¼çš„å›¾å—æº IDã€‚å¦‚æœå•å…ƒæ ¼ä¸å­˜åœ¨åˆ™è¿”å› ``-1``\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_get_cell_tile_data:

.. rst-class:: classref-method

:ref:`TileData<class_TileData>` **get_cell_tile_data**\ (\ coords\: :ref:`Vector2i<class_Vector2i>`\ ) |const| :ref:`ğŸ”—<class_TileMapLayer_method_get_cell_tile_data>`

è¿”å›ä¸ç»™å®šå•å…ƒæ ¼å…³è”çš„ :ref:`TileData<class_TileData>` å¯¹è±¡ï¼Œå¦‚æœå•å…ƒæ ¼ä¸å­˜åœ¨æˆ–è€…ä¸æ˜¯ :ref:`TileSetAtlasSource<class_TileSetAtlasSource>` åˆ™è¿”å› ``null``\ ã€‚

::

    func get_clicked_tile_power():
        var clicked_cell = tile_map_layer.local_to_map(tile_map_layer.get_local_mouse_position())
        var data = tile_map_layer.get_cell_tile_data(clicked_cell)
        if data:
            return data.get_custom_data("power")
        else:
            return 0

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_get_coords_for_body_rid:

.. rst-class:: classref-method

:ref:`Vector2i<class_Vector2i>` **get_coords_for_body_rid**\ (\ body\: :ref:`RID<class_RID>`\ ) |const| :ref:`ğŸ”—<class_TileMapLayer_method_get_coords_for_body_rid>`

è¿”å›ç»™å®šç‰©ç†ç‰©ä½“ :ref:`RID<class_RID>` å¯¹åº”å›¾å—çš„åæ ‡ã€‚ä¸å›¾å—å‘ç”Ÿç¢°æ’æ—¶ï¼Œå¯ä»¥é€šè¿‡ :ref:`KinematicCollision2D.get_collider_rid<class_KinematicCollision2D_method_get_collider_rid>` è·å–è¯¥ :ref:`RID<class_RID>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_get_navigation_map:

.. rst-class:: classref-method

:ref:`RID<class_RID>` **get_navigation_map**\ (\ ) |const| :ref:`ğŸ”—<class_TileMapLayer_method_get_navigation_map>`

è¿”å›è¯¥ **TileMapLayer** æ‰€ä½¿ç”¨çš„ :ref:`NavigationServer2D<class_NavigationServer2D>` å¯¼èˆª :ref:`RID<class_RID>`\ ã€‚

é»˜è®¤æƒ…å†µä¸‹è¿”å›çš„æ˜¯é»˜è®¤ :ref:`World2D<class_World2D>` å¯¼èˆªåœ°å›¾ï¼Œé™¤éé€šè¿‡ :ref:`set_navigation_map<class_TileMapLayer_method_set_navigation_map>` æä¾›äº†è‡ªå®šä¹‰åœ°å›¾ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_get_neighbor_cell:

.. rst-class:: classref-method

:ref:`Vector2i<class_Vector2i>` **get_neighbor_cell**\ (\ coords\: :ref:`Vector2i<class_Vector2i>`, neighbor\: :ref:`CellNeighbor<enum_TileSet_CellNeighbor>`\ ) |const| :ref:`ğŸ”—<class_TileMapLayer_method_get_neighbor_cell>`

è¿”å›ä¸ä½äºåæ ‡ ``coords`` çš„å•å…ƒæ ¼ç›¸é‚»çš„å•å…ƒæ ¼ï¼Œæ–¹å‘ç”± ``neighbor`` è¡¨ç¤ºã€‚è¿™ä¸ªæ–¹æ³•ä¼šè€ƒè™‘ TileMap çš„ä¸åŒå¸ƒå±€ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_get_pattern:

.. rst-class:: classref-method

:ref:`TileMapPattern<class_TileMapPattern>` **get_pattern**\ (\ coords_array\: :ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\]\ ) :ref:`ğŸ”—<class_TileMapLayer_method_get_pattern>`

æ ¹æ®ç»™å®šçš„å•å…ƒæ ¼æ•°ç»„æ–°å»º :ref:`TileMapPattern<class_TileMapPattern>` å¹¶å°†å…¶è¿”å›ã€‚å¦è§ :ref:`set_pattern<class_TileMapLayer_method_set_pattern>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_get_surrounding_cells:

.. rst-class:: classref-method

:ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\] **get_surrounding_cells**\ (\ coords\: :ref:`Vector2i<class_Vector2i>`\ ) :ref:`ğŸ”—<class_TileMapLayer_method_get_surrounding_cells>`

è¿”å›ä¸ ``coords`` å¤„çš„å•å…ƒæ ¼ç›¸é‚»çš„æ‰€æœ‰å•å…ƒæ ¼çš„åˆ—è¡¨ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_get_used_cells:

.. rst-class:: classref-method

:ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\] **get_used_cells**\ (\ ) |const| :ref:`ğŸ”—<class_TileMapLayer_method_get_used_cells>`

è¿”å› :ref:`Vector2i<class_Vector2i>` æ•°ç»„ï¼Œå…¶ä¸­å­˜æ”¾çš„æ˜¯æ‰€æœ‰åŒ…å«å›¾å—çš„å•å…ƒæ ¼çš„ä½ç½®ã€‚ç©ºå•å…ƒæ ¼çš„æºæ ‡è¯†ç¬¦ç­‰äº ``-1``\ ã€å›¾é›†åæ ‡æ ‡è¯†ç¬¦ä¸º ``Vector2(-1, -1)``\ ã€å¤‡é€‰æ ‡è¯†ç¬¦ä¸º ``-1``\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_get_used_cells_by_id:

.. rst-class:: classref-method

:ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\] **get_used_cells_by_id**\ (\ source_id\: :ref:`int<class_int>` = -1, atlas_coords\: :ref:`Vector2i<class_Vector2i>` = Vector2i(-1, -1), alternative_tile\: :ref:`int<class_int>` = -1\ ) |const| :ref:`ğŸ”—<class_TileMapLayer_method_get_used_cells_by_id>`

è¿”å› :ref:`Vector2i<class_Vector2i>` æ•°ç»„ï¼Œå…¶ä¸­å­˜æ”¾çš„æ˜¯ç»™å®šå›¾å±‚ä¸­æ‰€æœ‰åŒ…å«å›¾å—çš„å•å…ƒæ ¼çš„ä½ç½®ã€‚å¯ä»¥æ ¹æ®æºï¼ˆ\ ``source_id``\ ï¼‰ã€å›¾é›†åæ ‡ï¼ˆ\ ``atlas_coords``\ ï¼‰ã€å¤‡é€‰ IDï¼ˆ\ ``alternative_tile``\ ï¼‰è¿›è¡Œè¿‡æ»¤ã€‚

å¦‚æœæŸä¸ªå‚æ•°ä¸ºé»˜è®¤å€¼ï¼Œåˆ™è¯¥å‚æ•°ä¸ä¼šç”¨äºå•å…ƒæ ¼çš„è¿‡æ»¤ã€‚å› æ­¤ï¼Œå¦‚æœæ‰€æœ‰å‚æ•°éƒ½ä½¿ç”¨é»˜è®¤å€¼ï¼Œåˆ™è¿”å›çš„ç»“æœä¸ :ref:`get_used_cells<class_TileMapLayer_method_get_used_cells>` ç›¸åŒã€‚

ç©ºå•å…ƒæ ¼çš„æºæ ‡è¯†ç¬¦ç­‰äº ``-1``\ ã€å›¾é›†åæ ‡æ ‡è¯†ç¬¦ä¸º ``Vector2(-1, -1)``\ ã€å¤‡é€‰æ ‡è¯†ç¬¦ä¸º ``-1``\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_get_used_rect:

.. rst-class:: classref-method

:ref:`Rect2i<class_Rect2i>` **get_used_rect**\ (\ ) |const| :ref:`ğŸ”—<class_TileMapLayer_method_get_used_rect>`

è¿”å›åœ°å›¾çš„åŒ…å›´çŸ©å½¢ï¼ŒåŒ…å›´å·²ä½¿ç”¨ï¼ˆéç©ºï¼‰çš„å›¾å—ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_has_body_rid:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **has_body_rid**\ (\ body\: :ref:`RID<class_RID>`\ ) |const| :ref:`ğŸ”—<class_TileMapLayer_method_has_body_rid>`

è¿”å›ç»™å®šçš„ ``body`` :ref:`RID<class_RID>` å±äºè¯¥ **TileMapLayer** ä¸­çš„æŸä¸ªå•å…ƒæ ¼ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_local_to_map:

.. rst-class:: classref-method

:ref:`Vector2i<class_Vector2i>` **local_to_map**\ (\ local_position\: :ref:`Vector2<class_Vector2>`\ ) |const| :ref:`ğŸ”—<class_TileMapLayer_method_local_to_map>`

è¿”å›åŒ…å«ç»™å®š ``local_position`` çš„å•å…ƒæ ¼åœ°å›¾åæ ‡ã€‚å¦‚æœ ``local_position`` ä½¿ç”¨å…¨å±€åæ ‡ï¼Œè¯·è€ƒè™‘åœ¨ä¼ å…¥è¿™ä¸ªæ–¹æ³•å‰ä½¿ç”¨ :ref:`Node2D.to_local<class_Node2D_method_to_local>`\ ã€‚å¦è§ :ref:`map_to_local<class_TileMapLayer_method_map_to_local>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_map_pattern:

.. rst-class:: classref-method

:ref:`Vector2i<class_Vector2i>` **map_pattern**\ (\ position_in_tilemap\: :ref:`Vector2i<class_Vector2i>`, coords_in_pattern\: :ref:`Vector2i<class_Vector2i>`, pattern\: :ref:`TileMapPattern<class_TileMapPattern>`\ ) :ref:`ğŸ”—<class_TileMapLayer_method_map_pattern>`

å¦‚æœå›¾æ¡ˆç²˜è´´åœ¨ ``position_in_tilemap`` åæ ‡å¤„ï¼ˆè¯·å‚é˜… :ref:`set_pattern<class_TileMapLayer_method_set_pattern>`\ ï¼‰ï¼Œåˆ™è¿”å› :ref:`TileMapPattern<class_TileMapPattern>` ä¸­ç»™å®šåæ ‡ ``coords_in_pattern`` å¯¹åº”çš„å•å…ƒæ ¼åæ ‡ã€‚è¯¥æ˜ å°„æ˜¯å¿…éœ€çš„ï¼Œå› ä¸ºåœ¨åŠåç§»å›¾å—å½¢çŠ¶ä¸­ï¼Œæ˜ å°„å¯èƒ½æ— æ³•é€šè¿‡è®¡ç®— ``position_in_tile_map + coords_in_pattern`` å·¥ä½œã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_map_to_local:

.. rst-class:: classref-method

:ref:`Vector2<class_Vector2>` **map_to_local**\ (\ map_position\: :ref:`Vector2i<class_Vector2i>`\ ) |const| :ref:`ğŸ”—<class_TileMapLayer_method_map_to_local>`

è¿”å›å•å…ƒæ ¼çš„ä¸­å¿ƒä½ç½®ï¼Œä½¿ç”¨ **TileMapLayer** çš„å±€éƒ¨åæ ‡ã€‚è¦å°†è¿”å›å€¼è½¬æ¢ä¸ºå…¨å±€åæ ‡ï¼Œè¯·ä½¿ç”¨ :ref:`Node2D.to_global<class_Node2D_method_to_global>`\ ã€‚å¦è§ :ref:`local_to_map<class_TileMapLayer_method_local_to_map>`\ ã€‚

\ **æ³¨æ„ï¼š**\ å¯èƒ½ä¸å›¾å—çš„å¯è§†ä½ç½®æ²¡æœ‰å¯¹åº”å…³ç³»ï¼Œå³å¿½ç•¥å„ä¸ªå›¾å—çš„ :ref:`TileData.texture_origin<class_TileData_property_texture_origin>` å±æ€§ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_notify_runtime_tile_data_update:

.. rst-class:: classref-method

|void| **notify_runtime_tile_data_update**\ (\ ) :ref:`ğŸ”—<class_TileMapLayer_method_notify_runtime_tile_data_update>`

é€šçŸ¥ **TileMapLayer** èŠ‚ç‚¹è°ƒç”¨ :ref:`_use_tile_data_runtime_update<class_TileMapLayer_private_method__use_tile_data_runtime_update>` æˆ– :ref:`_tile_data_runtime_update<class_TileMapLayer_private_method__tile_data_runtime_update>` ä¼šå¾—åˆ°ä¸åŒçš„ç»“æœï¼Œç»§è€Œè§¦å‘ **TileMapLayer** çš„æ›´æ–°ã€‚

\ **è­¦å‘Šï¼š**\ æ›´æ–° **TileMapLayer** çš„è®¡ç®—æˆæœ¬å¾ˆé«˜ï¼Œå¹¶ä¸”å¯èƒ½ä¼šå½±å“æ€§èƒ½ã€‚å°è¯•é™åˆ¶è¯¥å‡½æ•°çš„è°ƒç”¨æ¬¡æ•°ï¼Œä»¥é¿å…ä¸å¿…è¦çš„æ›´æ–°ã€‚

\ **æ³¨æ„ï¼š**\ è¿™ä¸ä¼šè§¦å‘ **TileMapLayer** çš„ç›´æ¥æ›´æ–°ï¼Œè¯¥æ›´æ–°å°†ç…§å¸¸åœ¨å¸§ç»“æŸæ—¶å®Œæˆï¼ˆé™¤éä½ è°ƒç”¨ :ref:`update_internals<class_TileMapLayer_method_update_internals>`\ ï¼‰ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_set_cell:

.. rst-class:: classref-method

|void| **set_cell**\ (\ coords\: :ref:`Vector2i<class_Vector2i>`, source_id\: :ref:`int<class_int>` = -1, atlas_coords\: :ref:`Vector2i<class_Vector2i>` = Vector2i(-1, -1), alternative_tile\: :ref:`int<class_int>` = 0\ ) :ref:`ğŸ”—<class_TileMapLayer_method_set_cell>`

è®¾ç½®åæ ‡ä¸º ``coords`` çš„å•å…ƒæ ¼çš„å›¾å—æ ‡è¯†ç¬¦ã€‚\ :ref:`TileSet<class_TileSet>` ä¸­çš„æ¯ä¸ªå›¾å—éƒ½ç”±ä¸‰éƒ¨åˆ†è¿›è¡Œæ ‡è¯†ï¼š

- æºæ ‡è¯†ç¬¦ ``source_id`` æ ‡è¯†çš„æ˜¯ :ref:`TileSetSource<class_TileSetSource>` æ ‡è¯†ç¬¦ã€‚è§ :ref:`TileSet.set_source_id<class_TileSet_method_set_source_id>`\ ï¼Œ

- å›¾é›†åæ ‡æ ‡è¯†ç¬¦ ``atlas_coords`` æ ‡è¯†çš„æ˜¯å›¾é›†ä¸­çš„å›¾å—åæ ‡ï¼ˆå¦‚æœä½¿ç”¨çš„æ˜¯ :ref:`TileSetAtlasSource<class_TileSetAtlasSource>` æºï¼‰ã€‚å¦‚æœä½¿ç”¨çš„æ˜¯ :ref:`TileSetScenesCollectionSource<class_TileSetScenesCollectionSource>`\ ï¼Œåº”è¯¥å§‹ç»ˆä¸º ``Vector2i(0, 0)``\ ï¼Œ

- å¤‡é€‰å›¾å—æ ‡è¯†ç¬¦ ``alternative_tile`` æ ‡è¯†çš„æ˜¯å›¾é›†ä¸­çš„å›¾å—å¤‡é€‰é¡¹ï¼ˆå¦‚æœä½¿ç”¨çš„æ˜¯ :ref:`TileSetAtlasSource<class_TileSetAtlasSource>` æºï¼‰ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯ :ref:`TileSetScenesCollectionSource<class_TileSetScenesCollectionSource>` åˆ™æ ‡è¯†çš„æ˜¯åœºæ™¯ã€‚

å¦‚æœ ``source_id`` ä¸º ``-1``\ ã€\ ``atlas_coords`` ä¸º ``Vector2i(-1, -1)`` æˆ– ``alternative_tile`` ä¸º ``-1``\ ï¼Œåˆ™ä¼šæ“¦é™¤è¯¥å•å…ƒæ ¼ã€‚æ“¦é™¤åçš„å•å…ƒæ ¼ä¸­ï¼Œ\ **æ‰€æœ‰**\ æ ‡è¯†ç¬¦éƒ½ä¼šè‡ªåŠ¨è®¾ä¸ºå¯¹åº”çš„æ— æ•ˆå€¼ï¼Œå³ ``-1``\ ã€\ ``Vector2i(-1, -1)`` å’Œ ``-1``\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_set_cells_terrain_connect:

.. rst-class:: classref-method

|void| **set_cells_terrain_connect**\ (\ cells\: :ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\], terrain_set\: :ref:`int<class_int>`, terrain\: :ref:`int<class_int>`, ignore_empty_terrains\: :ref:`bool<class_bool>` = true\ ) :ref:`ğŸ”—<class_TileMapLayer_method_set_cells_terrain_connect>`

æ›´æ–° ``cells`` åæ ‡æ•°ç»„ä¸­çš„æ‰€æœ‰å•å…ƒæ ¼ï¼Œä»¥ä¾¿å®ƒä»¬å°†ç»™å®šçš„ ``terrain`` ç”¨äºç»™å®šçš„ ``terrain_set``\ ã€‚å¦‚æœä¸€ä¸ªæ›´æ–°çš„å•å…ƒæ ¼ä¸å…¶ç›¸é‚»å•å…ƒæ ¼ä¹‹ä¸€å…·æœ‰ç›¸åŒçš„åœ°å½¢ï¼Œåˆ™è¯¥å‡½æ•°ä¼šå°è¯•å°†ä¸¤è€…è¿æ¥èµ·æ¥ã€‚å¦‚æœéœ€è¦åˆ›å»ºæ­£ç¡®çš„åœ°å½¢è¿‡æ¸¡ï¼Œè¯¥å‡½æ•°å¯èƒ½ä¼šæ›´æ–°ç›¸é‚»çš„å›¾å—ã€‚

å¦‚æœ ``ignore_empty_terrains`` ä¸ºçœŸï¼Œåˆ™åœ¨å°è¯•ä¸ºç»™å®šåœ°å½¢çº¦æŸæ‰¾åˆ°æœ€åˆé€‚çš„å›¾å—æ—¶ï¼Œç©ºåœ°å½¢å°†è¢«å¿½ç•¥ã€‚

\ **æ³¨æ„ï¼š**\ è¦æ­£å¸¸å·¥ä½œï¼Œè¿™ä¸ªæ–¹æ³•éœ€è¦ TileMap çš„ TileSet è®¾ç½®äº†å…·æœ‰æ‰€æœ‰å¿…éœ€åœ°å½¢ç»„åˆçš„åœ°å½¢ã€‚å¦åˆ™ï¼Œå¯èƒ½ä¼šäº§ç”Ÿæ„æƒ³ä¸åˆ°çš„ç»“æœã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_set_cells_terrain_path:

.. rst-class:: classref-method

|void| **set_cells_terrain_path**\ (\ path\: :ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\], terrain_set\: :ref:`int<class_int>`, terrain\: :ref:`int<class_int>`, ignore_empty_terrains\: :ref:`bool<class_bool>` = true\ ) :ref:`ğŸ”—<class_TileMapLayer_method_set_cells_terrain_path>`

æ›´æ–° ``path`` åæ ‡æ•°ç»„ä¸­çš„æ‰€æœ‰å•å…ƒæ ¼ï¼Œä»¥ä¾¿å®ƒä»¬å°†ç»™å®šçš„ ``terrain`` ç”¨äºç»™å®šçš„ ``terrain_set``\ ã€‚è¯¥å‡½æ•°è¿˜å°†è¿æ¥è·¯å¾„ä¸­å…·æœ‰ç›¸åŒåœ°å½¢çš„ä¸¤ä¸ªè¿ç»­å•å…ƒæ ¼ã€‚å¦‚æœéœ€è¦åˆ›å»ºæ­£ç¡®çš„åœ°å½¢è¿‡æ¸¡ï¼Œè¯¥å‡½æ•°å¯èƒ½ä¼šæ›´æ–°ç›¸é‚»çš„å›¾å—ã€‚

å¦‚æœ ``ignore_empty_terrains`` ä¸ºçœŸï¼Œåˆ™åœ¨å°è¯•ä¸ºç»™å®šåœ°å½¢çº¦æŸæ‰¾åˆ°æœ€åˆé€‚çš„å›¾å—æ—¶å°†å¿½ç•¥ç©ºåœ°å½¢ã€‚

\ **æ³¨æ„ï¼š**\ è¦æ­£å¸¸å·¥ä½œï¼Œè¿™ä¸ªæ–¹æ³•éœ€è¦ TileMap çš„ TileSet è®¾ç½®äº†å…·æœ‰æ‰€æœ‰å¿…éœ€åœ°å½¢ç»„åˆçš„åœ°å½¢ã€‚å¦åˆ™ï¼Œå¯èƒ½ä¼šäº§ç”Ÿæ„æƒ³ä¸åˆ°çš„ç»“æœã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_set_navigation_map:

.. rst-class:: classref-method

|void| **set_navigation_map**\ (\ map\: :ref:`RID<class_RID>`\ ) :ref:`ğŸ”—<class_TileMapLayer_method_set_navigation_map>`

å°†è‡ªå®šä¹‰ ``map`` è®¾ç½®ä¸º :ref:`NavigationServer2D<class_NavigationServer2D>` å¯¼èˆªåœ°å›¾ã€‚å¦‚æœæœªè®¾ç½®ï¼Œåˆ™æ”¹ç”¨é»˜è®¤çš„ :ref:`World2D<class_World2D>` å¯¼èˆªåœ°å›¾ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_set_pattern:

.. rst-class:: classref-method

|void| **set_pattern**\ (\ position\: :ref:`Vector2i<class_Vector2i>`, pattern\: :ref:`TileMapPattern<class_TileMapPattern>`\ ) :ref:`ğŸ”—<class_TileMapLayer_method_set_pattern>`

å°†ç»™å®šçš„ :ref:`TileMapPattern<class_TileMapPattern>` ç²˜è´´åˆ°å›¾å—åœ°å›¾ä¸­çš„ ``position`` ä½ç½®ã€‚å¦è§ :ref:`get_pattern<class_TileMapLayer_method_get_pattern>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMapLayer_method_update_internals:

.. rst-class:: classref-method

|void| **update_internals**\ (\ ) :ref:`ğŸ”—<class_TileMapLayer_method_update_internals>`

è§¦å‘ **TileMapLayer** çš„æ›´æ–°ã€‚é€šå¸¸ä¸éœ€è¦è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œå› ä¸º **TileMapLayer** èŠ‚ç‚¹çš„å±æ€§å‘ç”Ÿä¿®æ”¹åä¼šè‡ªåŠ¨æ›´æ–°ã€‚

ä½†æ˜¯å‡ºäºæ€§èƒ½åŸå› ï¼Œä¼šå¯¹è¿™äº›æ›´æ–°è¿›è¡Œåˆ†æ‰¹ï¼Œå»¶è¿Ÿåˆ°è¯¥å¸§çš„æœ«å°¾æ‰§è¡Œã€‚è°ƒç”¨è¿™ä¸ªå‡½æ•°ä¼šå¼ºåˆ¶ **TileMapLayer** ç«‹å³è¿›è¡Œæ›´æ–°ã€‚

\ **è­¦å‘Šï¼š**\ æ›´æ–° **TileMapLayer** çš„è®¡ç®—é‡å¾ˆå¤§ï¼Œå¯èƒ½ä¼šå½±å“æ€§èƒ½ã€‚è¯·å°½é‡é™åˆ¶æ›´æ–°çš„æ¬¡æ•°å’Œå—å½±å“çš„å›¾å—ã€‚

.. |virtual| replace:: :abbr:`virtual (æœ¬æ–¹æ³•é€šå¸¸éœ€è¦ç”¨æˆ·è¦†ç›–æ‰èƒ½ç”Ÿæ•ˆã€‚)`
.. |const| replace:: :abbr:`const (æœ¬æ–¹æ³•æ— å‰¯ä½œç”¨ï¼Œä¸ä¼šä¿®æ”¹è¯¥å®ä¾‹çš„ä»»ä½•æˆå‘˜å˜é‡ã€‚)`
.. |vararg| replace:: :abbr:`vararg (æœ¬æ–¹æ³•é™¤äº†èƒ½æ¥å—åœ¨æ­¤å¤„æè¿°çš„å‚æ•°å¤–ï¼Œè¿˜èƒ½å¤Ÿç»§ç»­æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ã€‚)`
.. |constructor| replace:: :abbr:`constructor (æœ¬æ–¹æ³•ç”¨äºæ„é€ æŸä¸ªç±»å‹ã€‚)`
.. |static| replace:: :abbr:`static (è°ƒç”¨æœ¬æ–¹æ³•æ— éœ€å®ä¾‹ï¼Œå¯ç›´æ¥ä½¿ç”¨ç±»åè¿›è¡Œè°ƒç”¨ã€‚)`
.. |operator| replace:: :abbr:`operator (æœ¬æ–¹æ³•æè¿°çš„æ˜¯ä½¿ç”¨æœ¬ç±»å‹ä½œä¸ºå·¦æ“ä½œæ•°çš„æœ‰æ•ˆè¿ç®—ç¬¦ã€‚)`
.. |bitfield| replace:: :abbr:`BitField (è¿™ä¸ªå€¼æ˜¯ç”±ä¸‹åˆ—ä½æ ‡å¿—æ„æˆä½æ©ç çš„æ•´æ•°ã€‚)`
.. |void| replace:: :abbr:`void (æ— è¿”å›å€¼ã€‚)`
