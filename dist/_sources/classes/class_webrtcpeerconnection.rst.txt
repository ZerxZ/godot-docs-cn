:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/modules/webrtc/doc_classes/WebRTCPeerConnection.xml.

.. _class_WebRTCPeerConnection:

WebRTCPeerConnection
====================

**ç»§æ‰¿ï¼š** :ref:`RefCounted<class_RefCounted>` **<** :ref:`Object<class_Object>`

**æ´¾ç”Ÿï¼š** :ref:`WebRTCPeerConnectionExtension<class_WebRTCPeerConnectionExtension>`

ä¸ WebRTC å¯¹ç­‰ä½“è¿æ¥çš„æ¥å£ã€‚

.. rst-class:: classref-introduction-group

æè¿°
----

æœ¬åœ°è®¡ç®—æœºå’Œè¿œç¨‹å¯¹ç­‰ä½“ä¹‹é—´çš„ WebRTC è¿æ¥ã€‚æä¾›ä¸€ä¸ªæ¥å£æ¥è¿æ¥ã€ç»´æŠ¤å’Œç›‘æ§è¿æ¥ã€‚

åœ¨ä¸¤ä¸ªå¯¹ç­‰ä½“ä¹‹é—´å»ºç«‹ WebRTC è¿æ¥çœ‹ä¸Šå»å¯èƒ½ä¸æ˜¯ä¸€é¡¹ç®€å•çš„ä»»åŠ¡ï¼Œä½†å®ƒå¯ä»¥åˆ†è§£ä¸º 3 ä¸ªä¸»è¦æ­¥éª¤ã€‚

- æƒ³è¦å¯åŠ¨è¿æ¥çš„å¯¹ç­‰ä½“ï¼ˆ\ ``A``\ ä»ç°åœ¨å¼€å§‹ï¼‰åˆ›å»ºä¸€ä¸ªæäº¤ï¼Œå¹¶å°†å…¶å‘é€ç»™å¦ä¸€ä¸ªå¯¹ç­‰ä½“ï¼ˆ\ ``B``\ ä»ç°åœ¨å¼€å§‹ï¼‰ã€‚

- ``B`` æ”¶åˆ°è¦çº¦ï¼Œç”Ÿæˆå’Œå›ç­”ï¼Œå¹¶å°†å…¶å‘é€ç»™ ``A``\ ï¼‰ã€‚

- ``A`` å’Œ ``B`` ç„¶åç”Ÿæˆå¹¶ç›¸äº’äº¤æ¢ ICE å€™é€‰ã€‚

åœ¨è¿™äº›æ­¥éª¤ä¹‹åï¼Œè¿æ¥åº”è¯¥æˆåŠŸå»ºç«‹ã€‚ç»§ç»­é˜…è¯»æˆ–æŸ¥çœ‹æ•™ç¨‹ä»¥äº†è§£æ›´å¤šä¿¡æ¯ã€‚

.. rst-class:: classref-reftable-group

æ–¹æ³•
----

.. table::
   :widths: auto

   +-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Error<enum_@GlobalScope_Error>`                             | :ref:`add_ice_candidate<class_WebRTCPeerConnection_method_add_ice_candidate>`\ (\ media\: :ref:`String<class_String>`, index\: :ref:`int<class_int>`, name\: :ref:`String<class_String>`\ ) |
   +-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                            | :ref:`close<class_WebRTCPeerConnection_method_close>`\ (\ )                                                                                                                                 |
   +-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`WebRTCDataChannel<class_WebRTCDataChannel>`                 | :ref:`create_data_channel<class_WebRTCPeerConnection_method_create_data_channel>`\ (\ label\: :ref:`String<class_String>`, options\: :ref:`Dictionary<class_Dictionary>` = {}\ )            |
   +-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Error<enum_@GlobalScope_Error>`                             | :ref:`create_offer<class_WebRTCPeerConnection_method_create_offer>`\ (\ )                                                                                                                   |
   +-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`ConnectionState<enum_WebRTCPeerConnection_ConnectionState>` | :ref:`get_connection_state<class_WebRTCPeerConnection_method_get_connection_state>`\ (\ ) |const|                                                                                           |
   +-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`GatheringState<enum_WebRTCPeerConnection_GatheringState>`   | :ref:`get_gathering_state<class_WebRTCPeerConnection_method_get_gathering_state>`\ (\ ) |const|                                                                                             |
   +-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`SignalingState<enum_WebRTCPeerConnection_SignalingState>`   | :ref:`get_signaling_state<class_WebRTCPeerConnection_method_get_signaling_state>`\ (\ ) |const|                                                                                             |
   +-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Error<enum_@GlobalScope_Error>`                             | :ref:`initialize<class_WebRTCPeerConnection_method_initialize>`\ (\ configuration\: :ref:`Dictionary<class_Dictionary>` = {}\ )                                                             |
   +-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Error<enum_@GlobalScope_Error>`                             | :ref:`poll<class_WebRTCPeerConnection_method_poll>`\ (\ )                                                                                                                                   |
   +-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                            | :ref:`set_default_extension<class_WebRTCPeerConnection_method_set_default_extension>`\ (\ extension_class\: :ref:`StringName<class_StringName>`\ ) |static|                                 |
   +-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Error<enum_@GlobalScope_Error>`                             | :ref:`set_local_description<class_WebRTCPeerConnection_method_set_local_description>`\ (\ type\: :ref:`String<class_String>`, sdp\: :ref:`String<class_String>`\ )                          |
   +-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Error<enum_@GlobalScope_Error>`                             | :ref:`set_remote_description<class_WebRTCPeerConnection_method_set_remote_description>`\ (\ type\: :ref:`String<class_String>`, sdp\: :ref:`String<class_String>`\ )                        |
   +-------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

ä¿¡å·
----

.. _class_WebRTCPeerConnection_signal_data_channel_received:

.. rst-class:: classref-signal

**data_channel_received**\ (\ channel\: :ref:`WebRTCDataChannel<class_WebRTCDataChannel>`\ ) :ref:`ğŸ”—<class_WebRTCPeerConnection_signal_data_channel_received>`

å½“æ”¶åˆ°ä¸€ä¸ªæ–°çš„å¸¦å†…é€šé“æ—¶å‘å‡ºï¼Œå³åœ¨é€šé“æ˜¯ç”¨\ ``negotiated: false``\ ï¼ˆé»˜è®¤ï¼‰ã€‚

è¯¥å¯¹è±¡å°†æ˜¯\ :ref:`WebRTCDataChannel<class_WebRTCDataChannel>`\ çš„ä¸€ä¸ªå®ä¾‹ã€‚ä½ å¿…é¡»ä¿æŒå®ƒçš„å¼•ç”¨ï¼Œå¦åˆ™å®ƒå°†è¢«è‡ªåŠ¨å…³é—­ã€‚å‚é˜…\ :ref:`create_data_channel<class_WebRTCPeerConnection_method_create_data_channel>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebRTCPeerConnection_signal_ice_candidate_created:

.. rst-class:: classref-signal

**ice_candidate_created**\ (\ media\: :ref:`String<class_String>`, index\: :ref:`int<class_int>`, name\: :ref:`String<class_String>`\ ) :ref:`ğŸ”—<class_WebRTCPeerConnection_signal_ice_candidate_created>`

å½“æ–°çš„ ICE å€™é€‰è€…è¢«åˆ›å»ºæ—¶è§¦å‘ã€‚è¿™ä¸‰ä¸ªå‚æ•°æ˜¯ä¸ºäº†é€šè¿‡ä¿¡å·æœåŠ¡å™¨ä¼ é€’ç»™è¿œç¨‹å¯¹ç­‰ä½“ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebRTCPeerConnection_signal_session_description_created:

.. rst-class:: classref-signal

**session_description_created**\ (\ type\: :ref:`String<class_String>`, sdp\: :ref:`String<class_String>`\ ) :ref:`ğŸ”—<class_WebRTCPeerConnection_signal_session_description_created>`

åœ¨æˆåŠŸè°ƒç”¨ :ref:`create_offer<class_WebRTCPeerConnection_method_create_offer>` æˆ– :ref:`set_remote_description<class_WebRTCPeerConnection_method_set_remote_description>` åè§¦å‘ï¼Œå½“å®ƒäº§ç”Ÿä¸€ä¸ªåº”ç­”æ—¶ã€‚è¿™äº›å‚æ•°æ˜¯ä¸ºäº†ä¼ é€’ç»™è¿™ä¸ªå¯¹è±¡ä¸Šçš„ :ref:`set_local_description<class_WebRTCPeerConnection_method_set_local_description>`\ ï¼Œå¹¶é€šè¿‡ä¿¡å·æœåŠ¡å™¨å‘é€ç»™è¿œç¨‹å¯¹ç­‰ä½“ã€‚

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

æšä¸¾
----

.. _enum_WebRTCPeerConnection_ConnectionState:

.. rst-class:: classref-enumeration

enum **ConnectionState**: :ref:`ğŸ”—<enum_WebRTCPeerConnection_ConnectionState>`

.. _class_WebRTCPeerConnection_constant_STATE_NEW:

.. rst-class:: classref-enumeration-constant

:ref:`ConnectionState<enum_WebRTCPeerConnection_ConnectionState>` **STATE_NEW** = ``0``

è¿æ¥æ˜¯æ–°çš„ï¼Œæ•°æ®é€šé“å’Œæäº¤å¯ä»¥åœ¨è¿™ç§çŠ¶æ€ä¸‹åˆ›å»ºã€‚

.. _class_WebRTCPeerConnection_constant_STATE_CONNECTING:

.. rst-class:: classref-enumeration-constant

:ref:`ConnectionState<enum_WebRTCPeerConnection_ConnectionState>` **STATE_CONNECTING** = ``1``

å¯¹ç­‰ä½“æ­£åœ¨è¿æ¥ï¼ŒICE æ­£åœ¨è¿›è¡Œä¸­ï¼Œæ²¡æœ‰ä»»ä½•ä¼ è¾“å¤±è´¥ã€‚

.. _class_WebRTCPeerConnection_constant_STATE_CONNECTED:

.. rst-class:: classref-enumeration-constant

:ref:`ConnectionState<enum_WebRTCPeerConnection_ConnectionState>` **STATE_CONNECTED** = ``2``

å¯¹ç­‰ä½“å·²è¿æ¥ï¼Œæ‰€æœ‰çš„ ICE ä¼ è¾“éƒ½å·²è¿æ¥ã€‚

.. _class_WebRTCPeerConnection_constant_STATE_DISCONNECTED:

.. rst-class:: classref-enumeration-constant

:ref:`ConnectionState<enum_WebRTCPeerConnection_ConnectionState>` **STATE_DISCONNECTED** = ``3``

è‡³å°‘æœ‰ä¸€ä¸ª ICE ä¼ è¾“è¢«æ–­å¼€è¿æ¥ã€‚

.. _class_WebRTCPeerConnection_constant_STATE_FAILED:

.. rst-class:: classref-enumeration-constant

:ref:`ConnectionState<enum_WebRTCPeerConnection_ConnectionState>` **STATE_FAILED** = ``4``

ä¸€ä¸ªæˆ–æ›´å¤šçš„ ICE ä¼ è¾“å¤±è´¥ã€‚

.. _class_WebRTCPeerConnection_constant_STATE_CLOSED:

.. rst-class:: classref-enumeration-constant

:ref:`ConnectionState<enum_WebRTCPeerConnection_ConnectionState>` **STATE_CLOSED** = ``5``

å¯¹ç­‰è¿æ¥å·²å…³é—­ï¼Œä¾‹å¦‚åœ¨è°ƒç”¨ :ref:`close<class_WebRTCPeerConnection_method_close>` åã€‚

.. rst-class:: classref-item-separator

----

.. _enum_WebRTCPeerConnection_GatheringState:

.. rst-class:: classref-enumeration

enum **GatheringState**: :ref:`ğŸ”—<enum_WebRTCPeerConnection_GatheringState>`

.. _class_WebRTCPeerConnection_constant_GATHERING_STATE_NEW:

.. rst-class:: classref-enumeration-constant

:ref:`GatheringState<enum_WebRTCPeerConnection_GatheringState>` **GATHERING_STATE_NEW** = ``0``

å¯¹ç­‰ä½“è¿æ¥åˆšåˆšå»ºç«‹ï¼Œè¿˜æ²¡æœ‰åšä»»ä½•è”ç½‘å·¥ä½œã€‚

.. _class_WebRTCPeerConnection_constant_GATHERING_STATE_GATHERING:

.. rst-class:: classref-enumeration-constant

:ref:`GatheringState<enum_WebRTCPeerConnection_GatheringState>` **GATHERING_STATE_GATHERING** = ``1``

ICE ä»£ç†æ­£åœ¨æ”¶é›†å€™é€‰è¿æ¥ã€‚

.. _class_WebRTCPeerConnection_constant_GATHERING_STATE_COMPLETE:

.. rst-class:: classref-enumeration-constant

:ref:`GatheringState<enum_WebRTCPeerConnection_GatheringState>` **GATHERING_STATE_COMPLETE** = ``2``

ICE ä»£ç†å·²å®Œæˆå€™é€‰è¿æ¥çš„æ”¶é›†ã€‚å¦‚æœå‘ç”Ÿäº†éœ€è¦æ”¶é›†æ–°å€™é€‰çš„æƒ…å†µï¼Œä¾‹å¦‚æ–°æ·»åŠ äº†æ¥å£ã€æ–°æ·»åŠ äº† ICE æœåŠ¡å™¨ï¼Œåˆ™ä¼šè¿”å›æ”¶é›†çŠ¶æ€ï¼Œè¿›è¡Œå€™é€‰é¡¹çš„æ”¶é›†ã€‚

.. rst-class:: classref-item-separator

----

.. _enum_WebRTCPeerConnection_SignalingState:

.. rst-class:: classref-enumeration

enum **SignalingState**: :ref:`ğŸ”—<enum_WebRTCPeerConnection_SignalingState>`

.. _class_WebRTCPeerConnection_constant_SIGNALING_STATE_STABLE:

.. rst-class:: classref-enumeration-constant

:ref:`SignalingState<enum_WebRTCPeerConnection_SignalingState>` **SIGNALING_STATE_STABLE** = ``0``

æ²¡æœ‰æ­£åœ¨è¿›è¡Œçš„è¦çº¦å’Œç­”å¤çš„äº¤æ¢ã€‚è¿™å¯èƒ½æ„å‘³ç€ **WebRTCPeerConnection** æ˜¯æ–°çš„ï¼ˆ\ :ref:`STATE_NEW<class_WebRTCPeerConnection_constant_STATE_NEW>`\ ï¼‰ï¼Œæˆ–è€…åå•†å·²å®Œæˆå¹¶ä¸”è¿æ¥å·²ç»å»ºç«‹ï¼ˆ\ :ref:`STATE_CONNECTED<class_WebRTCPeerConnection_constant_STATE_CONNECTED>`\ ï¼‰ã€‚

.. _class_WebRTCPeerConnection_constant_SIGNALING_STATE_HAVE_LOCAL_OFFER:

.. rst-class:: classref-enumeration-constant

:ref:`SignalingState<enum_WebRTCPeerConnection_SignalingState>` **SIGNALING_STATE_HAVE_LOCAL_OFFER** = ``1``

æœ¬åœ°å¯¹ç­‰ä½“å·²è°ƒç”¨ :ref:`set_local_description<class_WebRTCPeerConnection_method_set_local_description>`\ ï¼Œæ­£åœ¨ä¼ å…¥ä»£è¡¨é‚€çº¦çš„ SDPï¼ˆé€šå¸¸ç”±è°ƒç”¨ :ref:`create_offer<class_WebRTCPeerConnection_method_create_offer>` åˆ›å»ºï¼‰ï¼Œé‚€çº¦å·²æˆåŠŸåº”ç”¨ã€‚

.. _class_WebRTCPeerConnection_constant_SIGNALING_STATE_HAVE_REMOTE_OFFER:

.. rst-class:: classref-enumeration-constant

:ref:`SignalingState<enum_WebRTCPeerConnection_SignalingState>` **SIGNALING_STATE_HAVE_REMOTE_OFFER** = ``2``

è¿œç¨‹å¯¹ç­‰ä½“å·²åˆ›å»ºé‚€çº¦ï¼Œå¹¶å°†å…¶ä½¿ç”¨ä¿¡å·æœåŠ¡å™¨ä¼ é€’ç»™äº†æœ¬åœ°å¯¹ç­‰ä½“ï¼Œæœ¬åœ°å¯¹ç­‰ä½“å·²è°ƒç”¨ :ref:`set_remote_description<class_WebRTCPeerConnection_method_set_remote_description>` å°†é‚€çº¦è®¾ç½®ä¸ºè¿œç¨‹æè¿°ã€‚

.. _class_WebRTCPeerConnection_constant_SIGNALING_STATE_HAVE_LOCAL_PRANSWER:

.. rst-class:: classref-enumeration-constant

:ref:`SignalingState<enum_WebRTCPeerConnection_SignalingState>` **SIGNALING_STATE_HAVE_LOCAL_PRANSWER** = ``3``

å·²åº”ç”¨è¿œç¨‹å¯¹ç­‰ä½“å‘é€çš„é‚€çº¦ï¼Œå·²åˆ›å»ºæ¢å¤å¹¶è°ƒç”¨äº† :ref:`set_local_description<class_WebRTCPeerConnection_method_set_local_description>` è¿›è¡Œåº”ç”¨ã€‚è¿™ä¸ªä¸´æ—¶åº”ç­”æè¿°äº†æ”¯æŒçš„åª’ä½“æ ¼å¼ç­‰ä¿¡æ¯ï¼Œä½†å¯èƒ½ä¸åŒ…å«å®Œæ•´çš„ ICE å€™é€‰é¡¹ã€‚åç»­ä¼šå•ç‹¬å‘é€æ›´å¤šå€™é€‰é¡¹ã€‚

.. _class_WebRTCPeerConnection_constant_SIGNALING_STATE_HAVE_REMOTE_PRANSWER:

.. rst-class:: classref-enumeration-constant

:ref:`SignalingState<enum_WebRTCPeerConnection_SignalingState>` **SIGNALING_STATE_HAVE_REMOTE_PRANSWER** = ``4``

å·²ç»æ¥æ”¶åˆ°åˆæ­¥å›åº”ï¼Œå¹¶å·²æˆåŠŸåœ°åº”ç”¨åˆ°ä¹‹å‰é€šè¿‡è°ƒç”¨ :ref:`set_local_description<class_WebRTCPeerConnection_method_set_local_description>` å‘é€å¹¶å»ºç«‹çš„é‚€è¯·ä¸­ã€‚

.. _class_WebRTCPeerConnection_constant_SIGNALING_STATE_CLOSED:

.. rst-class:: classref-enumeration-constant

:ref:`SignalingState<enum_WebRTCPeerConnection_SignalingState>` **SIGNALING_STATE_CLOSED** = ``5``

è¯¥ **WebRTCPeerConnection** å·²å…³é—­è¿æ¥ã€‚

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

æ–¹æ³•è¯´æ˜
--------

.. _class_WebRTCPeerConnection_method_add_ice_candidate:

.. rst-class:: classref-method

:ref:`Error<enum_@GlobalScope_Error>` **add_ice_candidate**\ (\ media\: :ref:`String<class_String>`, index\: :ref:`int<class_int>`, name\: :ref:`String<class_String>`\ ) :ref:`ğŸ”—<class_WebRTCPeerConnection_method_add_ice_candidate>`

æ·»åŠ ä¸€ä¸ªç”±è¿œç¨‹å¯¹ç­‰ä½“äº§ç”Ÿçš„å†»ç»“å€™é€‰ï¼Œå¹¶é€šè¿‡ä¿¡ä»¤æœåŠ¡å™¨æ¥æ”¶ã€‚è¯·å‚é˜…\ :ref:`ice_candidate_created<class_WebRTCPeerConnection_signal_ice_candidate_created>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebRTCPeerConnection_method_close:

.. rst-class:: classref-method

|void| **close**\ (\ ) :ref:`ğŸ”—<class_WebRTCPeerConnection_method_close>`

å…³é—­å¯¹ç­‰ä½“è¿æ¥å’Œä¸ä¹‹ç›¸å…³çš„æ‰€æœ‰æ•°æ®é€šé“ã€‚

\ **æ³¨æ„ï¼š**\ ä½ ä¸èƒ½ä¸ºä¸€ä¸ªæ–°çš„è¿æ¥é‡å¤ä½¿ç”¨è¿™ä¸ªå¯¹è±¡ï¼Œé™¤éä½ è°ƒç”¨ :ref:`initialize<class_WebRTCPeerConnection_method_initialize>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebRTCPeerConnection_method_create_data_channel:

.. rst-class:: classref-method

:ref:`WebRTCDataChannel<class_WebRTCDataChannel>` **create_data_channel**\ (\ label\: :ref:`String<class_String>`, options\: :ref:`Dictionary<class_Dictionary>` = {}\ ) :ref:`ğŸ”—<class_WebRTCPeerConnection_method_create_data_channel>`

è¿”å›æ–°çš„ :ref:`WebRTCDataChannel<class_WebRTCDataChannel>`\ ï¼Œæˆ–åœ¨å¤±è´¥æ—¶è¿”å› ``null``\ ï¼Œå…·æœ‰ç»™å®šçš„ ``label``\ ï¼Œå¹¶é€šè¿‡ ``options`` å­—å…¸è¿›è¡Œé…ç½®ã€‚è¿™ä¸ªæ–¹æ³•åªæœ‰åœ¨è¿æ¥å¤„äº :ref:`STATE_NEW<class_WebRTCPeerConnection_constant_STATE_NEW>` çŠ¶æ€æ—¶æ‰èƒ½è¢«è°ƒç”¨ã€‚

æœ‰ä¸¤ç§æ–¹æ³•æ¥åˆ›å»ºå·¥ä½œæ•°æ®é€šé“ï¼šè¦ä¹ˆåªåœ¨å…¶ä¸­ä¸€ä¸ªå¯¹ç­‰ä½“ä¸Šè°ƒç”¨ :ref:`create_data_channel<class_WebRTCPeerConnection_method_create_data_channel>`\ ï¼Œå¹¶åœ¨å¦ä¸€ä¸ªå¯¹ç­‰ä½“ä¸Šç›‘å¬\ :ref:`data_channel_received<class_WebRTCPeerConnection_signal_data_channel_received>`\ ï¼Œè¦ä¹ˆåœ¨ä¸¤ä¸ªå¯¹ç­‰ä½“ä¸Šè°ƒç”¨ :ref:`create_data_channel<class_WebRTCPeerConnection_method_create_data_channel>`\ ï¼Œæ•°å€¼ç›¸åŒï¼Œå¹¶å°† ``"negotiated"`` é€‰é¡¹è®¾ç½®ä¸º ``true``\ ã€‚

æœ‰æ•ˆçš„ ``options`` æ˜¯ï¼š

::

    {
        "negotiated": true, # å½“è®¾ç½®ä¸º "true"æ—¶ï¼Œé»˜è®¤å…³é—­ï¼Œæ„å‘³ç€è¯¥é€šé“æ˜¯åœ¨é¢‘å¸¦å¤–åå•†çš„ã€‚"id"ä¹Ÿå¿…é¡»è¢«è®¾ç½®ã€‚"data_channel_received" å°†ä¸ä¼šè¢«è°ƒç”¨ã€‚
        "id":1, # å½“ "negotiated"ä¸ºçœŸæ—¶ï¼Œè¿™ä¸ªå€¼ä¹Ÿå¿…é¡»è¢«è®¾ç½®ä¸ºä¸¤ä¸ªå¯¹ç­‰ä½“çš„ç›¸åŒå€¼ã€‚
    
        # åªèƒ½æŒ‡å®šmaxRetransmitså’ŒmaxPacketLifeTimeä¸­çš„ä¸€ä¸ªï¼Œä¸èƒ½åŒæ—¶æŒ‡å®šã€‚å®ƒä»¬ä¼šä½¿ä¿¡é“å˜å¾—ä¸å¯é ï¼Œä½†åœ¨å®æ—¶æ€§æ–¹é¢ä¼šæ›´å¥½ã€‚
        "maxRetransmits":1, # æŒ‡å®šå¯¹ç­‰ä½“åœ¨æ•°æ®åŒ…æœªè¢«ç¡®è®¤æ—¶å°è¯•é‡ä¼ çš„æœ€å¤§æ¬¡æ•°ã€‚
        "maxPacketLifeTime":100, # æŒ‡å®šæ”¾å¼ƒé‡ä¼ æœªè¢«ç¡®è®¤çš„æ•°æ®åŒ…ä¹‹å‰çš„æœ€å¤§æ—¶é—´ï¼Œä»¥æ¯«ç§’ä¸ºå•ä½ã€‚
        "ordered": true, # å½“å¤„äºä¸å¯é æ¨¡å¼æ—¶ï¼Œå³ "maxRetransmits "æˆ– "maxPacketLifetime "è¢«è®¾ç½®ï¼Œ"ordered"æŒ‡å®šæ˜¯å¦è¦å¼ºåˆ¶æ‰§è¡Œæ•°æ®åŒ…æ’åºï¼Œé»˜è®¤ä¸ºtrueã€‚
    
        "protocol":"my-custom-protocol", # è¿™ä¸ªé€šé“çš„è‡ªå®šä¹‰å­åè®®å­—ç¬¦ä¸²ã€‚
    }

\ **æ³¨æ„ï¼š**\ ä½ å¿…é¡»ä¿æŒå¯¹ä»¥è¿™ç§æ–¹å¼åˆ›å»ºçš„é€šé“çš„å¼•ç”¨ï¼Œå¦åˆ™å®ƒå°†è¢«å…³é—­ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebRTCPeerConnection_method_create_offer:

.. rst-class:: classref-method

:ref:`Error<enum_@GlobalScope_Error>` **create_offer**\ (\ ) :ref:`ğŸ”—<class_WebRTCPeerConnection_method_create_offer>`

åˆ›å»ºä¸€ä¸ªæ–°çš„ SDP æäº¤ï¼Œä»¥å¼€å§‹ä¸è¿œç¨‹å¯¹ç­‰ä½“çš„ WebRTC è¿æ¥ã€‚åœ¨è°ƒç”¨æ­¤æ–¹æ³•ä¹‹å‰ï¼Œè‡³å°‘è¦åˆ›å»ºä¸€ä¸ª :ref:`WebRTCDataChannel<class_WebRTCDataChannel>`\ ã€‚

å¦‚æœè¿™ä¸ªå‡½æ•°è¿”å› :ref:`@GlobalScope.OK<class_@GlobalScope_constant_OK>`\ ï¼Œå½“ä¼šè¯å‡†å¤‡å¥½è¢«å‘é€æ—¶ï¼Œ\ :ref:`session_description_created<class_WebRTCPeerConnection_signal_session_description_created>` å°†è¢«è°ƒç”¨ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebRTCPeerConnection_method_get_connection_state:

.. rst-class:: classref-method

:ref:`ConnectionState<enum_WebRTCPeerConnection_ConnectionState>` **get_connection_state**\ (\ ) |const| :ref:`ğŸ”—<class_WebRTCPeerConnection_method_get_connection_state>`

è¿”å›è¿æ¥çŠ¶æ€ã€‚è§ :ref:`ConnectionState<enum_WebRTCPeerConnection_ConnectionState>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebRTCPeerConnection_method_get_gathering_state:

.. rst-class:: classref-method

:ref:`GatheringState<enum_WebRTCPeerConnection_GatheringState>` **get_gathering_state**\ (\ ) |const| :ref:`ğŸ”—<class_WebRTCPeerConnection_method_get_gathering_state>`

è¿”å›è¿æ¥çš„ ICE :ref:`GatheringState<enum_WebRTCPeerConnection_GatheringState>`\ ã€‚ä½ å¯ä»¥æ®æ­¤æ¥æ£€æµ‹ï¼Œä¾‹å¦‚ï¼ŒICE å€™é€‰é¡¹çš„æ”¶é›†æ˜¯å¦å®Œæˆã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebRTCPeerConnection_method_get_signaling_state:

.. rst-class:: classref-method

:ref:`SignalingState<enum_WebRTCPeerConnection_SignalingState>` **get_signaling_state**\ (\ ) |const| :ref:`ğŸ”—<class_WebRTCPeerConnection_method_get_signaling_state>`

è¿æ¥æˆ–é‡æ–°è¿æ¥åˆ°å¦ä¸€ä¸ªå¯¹ç­‰ä½“æ—¶ï¼Œè¿”å›è¿æ¥æœ¬åœ°ç«¯çš„ä¿¡ä»¤çŠ¶æ€ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebRTCPeerConnection_method_initialize:

.. rst-class:: classref-method

:ref:`Error<enum_@GlobalScope_Error>` **initialize**\ (\ configuration\: :ref:`Dictionary<class_Dictionary>` = {}\ ) :ref:`ğŸ”—<class_WebRTCPeerConnection_method_initialize>`

é‡æ–°åˆå§‹åŒ–è¿™ä¸ªå¯¹ç­‰ä½“è¿æ¥ï¼Œå…³é—­ä»»ä½•å…ˆå‰æ´»åŠ¨çš„è¿æ¥ï¼Œå¹¶å›åˆ° :ref:`STATE_NEW<class_WebRTCPeerConnection_constant_STATE_NEW>` çŠ¶æ€ã€‚ä¼ å…¥é…ç½®é€‰é¡¹å­—å…¸ ``configuration`` èƒ½å¤Ÿå¯¹è¯¥å¯¹ç­‰ä½“è¿æ¥è¿›è¡Œé…ç½®ã€‚

æœ‰æ•ˆçš„ ``configuration`` é€‰é¡¹æœ‰ï¼š

::

    {
        "iceServers": [
            {
                "urls": [ "stun:stun.example.com:3478" ], # è‹¥å¹² STUN æœåŠ¡å™¨ã€‚
            },
            {
                "urls": [ "turn:turn.example.com:3478" ], # è‹¥å¹² TURN æœåŠ¡å™¨ã€‚
                "username": "a_username", # TURN æœåŠ¡å™¨çš„ç”¨æˆ·åï¼Œé€‰å¡«ã€‚
                "credential": "a_password", # TURN æœåŠ¡å™¨çš„å¯†ç ï¼Œé€‰å¡«ã€‚
            }
        ]
    }

.. rst-class:: classref-item-separator

----

.. _class_WebRTCPeerConnection_method_poll:

.. rst-class:: classref-method

:ref:`Error<enum_@GlobalScope_Error>` **poll**\ (\ ) :ref:`ğŸ”—<class_WebRTCPeerConnection_method_poll>`

ç»å¸¸è°ƒç”¨è¿™ä¸ªæ–¹æ³•ä»¥æ­£ç¡®æ¥æ”¶ä¿¡å·ï¼Œä¾‹å¦‚åœ¨ :ref:`Node._process<class_Node_private_method__process>` æˆ– :ref:`Node._physics_process<class_Node_private_method__physics_process>` ä¸­ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebRTCPeerConnection_method_set_default_extension:

.. rst-class:: classref-method

|void| **set_default_extension**\ (\ extension_class\: :ref:`StringName<class_StringName>`\ ) |static| :ref:`ğŸ”—<class_WebRTCPeerConnection_method_set_default_extension>`

å°† ``extension_class`` è®¾ç½®ä¸ºåˆ›å»ºæ–° **WebRTCPeerConnection** æ—¶è¿”å›çš„é»˜è®¤ :ref:`WebRTCPeerConnectionExtension<class_WebRTCPeerConnectionExtension>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebRTCPeerConnection_method_set_local_description:

.. rst-class:: classref-method

:ref:`Error<enum_@GlobalScope_Error>` **set_local_description**\ (\ type\: :ref:`String<class_String>`, sdp\: :ref:`String<class_String>`\ ) :ref:`ğŸ”—<class_WebRTCPeerConnection_method_set_local_description>`

è®¾ç½®æœ¬åœ°å¯¹ç­‰ä½“çš„ SDP æè¿°ã€‚è¿™åº”æ˜¯åœ¨å“åº” :ref:`session_description_created<class_WebRTCPeerConnection_signal_session_description_created>` æ—¶è°ƒç”¨çš„ã€‚

è°ƒç”¨æ­¤å‡½æ•°åï¼Œå¯¹ç­‰ä½“å°†å¼€å§‹å‘å‡º :ref:`ice_candidate_created<class_WebRTCPeerConnection_signal_ice_candidate_created>`\ ï¼Œé™¤éè¿”å›ä¸ :ref:`@GlobalScope.OK<class_@GlobalScope_constant_OK>` ä¸åŒçš„ :ref:`Error<enum_@GlobalScope_Error>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebRTCPeerConnection_method_set_remote_description:

.. rst-class:: classref-method

:ref:`Error<enum_@GlobalScope_Error>` **set_remote_description**\ (\ type\: :ref:`String<class_String>`, sdp\: :ref:`String<class_String>`\ ) :ref:`ğŸ”—<class_WebRTCPeerConnection_method_set_remote_description>`

è®¾ç½®è¿œç¨‹å¯¹ç­‰ä½“çš„ SDP æè¿°ã€‚åº”ç”¨è¿œç¨‹å¯¹ç­‰ä½“äº§ç”Ÿçš„å€¼æ¥è°ƒç”¨ï¼Œå¹¶é€šè¿‡ä¿¡å·æœåŠ¡å™¨æ¥æ”¶ã€‚

å¦‚æœ ``type`` ä¸º ``"offer"``\ ï¼Œå¯¹ç­‰ä½“å°†å‘å‡º :ref:`session_description_created<class_WebRTCPeerConnection_signal_session_description_created>` å¹¶ç»™å‡ºé€‚å½“çš„åº”ç­”ã€‚

å¦‚æœ ``type`` ä¸º ``"answer"``\ ï¼Œå¯¹ç­‰ä½“å°†å¼€å§‹å‘å‡º :ref:`ice_candidate_created<class_WebRTCPeerConnection_signal_ice_candidate_created>`\ ã€‚

.. |virtual| replace:: :abbr:`virtual (æœ¬æ–¹æ³•é€šå¸¸éœ€è¦ç”¨æˆ·è¦†ç›–æ‰èƒ½ç”Ÿæ•ˆã€‚)`
.. |const| replace:: :abbr:`const (æœ¬æ–¹æ³•æ— å‰¯ä½œç”¨ï¼Œä¸ä¼šä¿®æ”¹è¯¥å®ä¾‹çš„ä»»ä½•æˆå‘˜å˜é‡ã€‚)`
.. |vararg| replace:: :abbr:`vararg (æœ¬æ–¹æ³•é™¤äº†èƒ½æ¥å—åœ¨æ­¤å¤„æè¿°çš„å‚æ•°å¤–ï¼Œè¿˜èƒ½å¤Ÿç»§ç»­æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ã€‚)`
.. |constructor| replace:: :abbr:`constructor (æœ¬æ–¹æ³•ç”¨äºæ„é€ æŸä¸ªç±»å‹ã€‚)`
.. |static| replace:: :abbr:`static (è°ƒç”¨æœ¬æ–¹æ³•æ— éœ€å®ä¾‹ï¼Œå¯ç›´æ¥ä½¿ç”¨ç±»åè¿›è¡Œè°ƒç”¨ã€‚)`
.. |operator| replace:: :abbr:`operator (æœ¬æ–¹æ³•æè¿°çš„æ˜¯ä½¿ç”¨æœ¬ç±»å‹ä½œä¸ºå·¦æ“ä½œæ•°çš„æœ‰æ•ˆè¿ç®—ç¬¦ã€‚)`
.. |bitfield| replace:: :abbr:`BitField (è¿™ä¸ªå€¼æ˜¯ç”±ä¸‹åˆ—ä½æ ‡å¿—æ„æˆä½æ©ç çš„æ•´æ•°ã€‚)`
.. |void| replace:: :abbr:`void (æ— è¿”å›å€¼ã€‚)`
