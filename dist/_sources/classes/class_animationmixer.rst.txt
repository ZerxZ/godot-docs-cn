:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/doc/classes/AnimationMixer.xml.

.. _class_AnimationMixer:

AnimationMixer
==============

**ç»§æ‰¿ï¼š** :ref:`Node<class_Node>` **<** :ref:`Object<class_Object>`

**æ´¾ç”Ÿï¼š** :ref:`AnimationPlayer<class_AnimationPlayer>`, :ref:`AnimationTree<class_AnimationTree>`

:ref:`AnimationPlayer<class_AnimationPlayer>` å’Œ :ref:`AnimationTree<class_AnimationTree>` çš„åŸºç±»ã€‚

.. rst-class:: classref-introduction-group

æè¿°
----

:ref:`AnimationPlayer<class_AnimationPlayer>` å’Œ :ref:`AnimationTree<class_AnimationTree>` çš„åŸºç±»ï¼Œç”¨äºç®¡ç†åŠ¨ç”»åˆ—è¡¨ã€‚åŒæ—¶è¿˜æä¾›äº†ç”¨äºæ’­æ”¾å’Œæ··åˆçš„å¸¸ç”¨å±æ€§å’Œæ–¹æ³•ã€‚

åœ¨æ‰©å±•åçš„ç±»ä¸­å®ä¾‹åŒ–æ’­æ”¾ä¿¡æ¯æ•°æ®åï¼Œå°±ä¼šç”± **AnimationMixer** è´Ÿè´£å¤„ç†æ··åˆã€‚

.. rst-class:: classref-reftable-group

å±æ€§
----

.. table::
   :widths: auto

   +-----------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+--------------------+
   | :ref:`bool<class_bool>`                                                                 | :ref:`active<class_AnimationMixer_property_active>`                                 | ``true``           |
   +-----------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+--------------------+
   | :ref:`int<class_int>`                                                                   | :ref:`audio_max_polyphony<class_AnimationMixer_property_audio_max_polyphony>`       | ``32``             |
   +-----------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+--------------------+
   | :ref:`AnimationCallbackModeDiscrete<enum_AnimationMixer_AnimationCallbackModeDiscrete>` | :ref:`callback_mode_discrete<class_AnimationMixer_property_callback_mode_discrete>` | ``1``              |
   +-----------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+--------------------+
   | :ref:`AnimationCallbackModeMethod<enum_AnimationMixer_AnimationCallbackModeMethod>`     | :ref:`callback_mode_method<class_AnimationMixer_property_callback_mode_method>`     | ``0``              |
   +-----------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+--------------------+
   | :ref:`AnimationCallbackModeProcess<enum_AnimationMixer_AnimationCallbackModeProcess>`   | :ref:`callback_mode_process<class_AnimationMixer_property_callback_mode_process>`   | ``1``              |
   +-----------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+--------------------+
   | :ref:`bool<class_bool>`                                                                 | :ref:`deterministic<class_AnimationMixer_property_deterministic>`                   | ``false``          |
   +-----------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+--------------------+
   | :ref:`bool<class_bool>`                                                                 | :ref:`reset_on_save<class_AnimationMixer_property_reset_on_save>`                   | ``true``           |
   +-----------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+--------------------+
   | :ref:`NodePath<class_NodePath>`                                                         | :ref:`root_motion_track<class_AnimationMixer_property_root_motion_track>`           | ``NodePath("")``   |
   +-----------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+--------------------+
   | :ref:`NodePath<class_NodePath>`                                                         | :ref:`root_node<class_AnimationMixer_property_root_node>`                           | ``NodePath("..")`` |
   +-----------------------------------------------------------------------------------------+-------------------------------------------------------------------------------------+--------------------+

.. rst-class:: classref-reftable-group

æ–¹æ³•
----

.. table::
   :widths: auto

   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Variant<class_Variant>`                                    | :ref:`_post_process_key_value<class_AnimationMixer_private_method__post_process_key_value>`\ (\ animation\: :ref:`Animation<class_Animation>`, track\: :ref:`int<class_int>`, value\: :ref:`Variant<class_Variant>`, object_id\: :ref:`int<class_int>`, object_sub_idx\: :ref:`int<class_int>`\ ) |virtual| |const| |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Error<enum_@GlobalScope_Error>`                            | :ref:`add_animation_library<class_AnimationMixer_method_add_animation_library>`\ (\ name\: :ref:`StringName<class_StringName>`, library\: :ref:`AnimationLibrary<class_AnimationLibrary>`\ )                                                                                                                        |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                           | :ref:`advance<class_AnimationMixer_method_advance>`\ (\ delta\: :ref:`float<class_float>`\ )                                                                                                                                                                                                                        |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                           | :ref:`capture<class_AnimationMixer_method_capture>`\ (\ name\: :ref:`StringName<class_StringName>`, duration\: :ref:`float<class_float>`, trans_type\: :ref:`TransitionType<enum_Tween_TransitionType>` = 0, ease_type\: :ref:`EaseType<enum_Tween_EaseType>` = 0\ )                                                |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                           | :ref:`clear_caches<class_AnimationMixer_method_clear_caches>`\ (\ )                                                                                                                                                                                                                                                 |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`StringName<class_StringName>`                              | :ref:`find_animation<class_AnimationMixer_method_find_animation>`\ (\ animation\: :ref:`Animation<class_Animation>`\ ) |const|                                                                                                                                                                                      |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`StringName<class_StringName>`                              | :ref:`find_animation_library<class_AnimationMixer_method_find_animation_library>`\ (\ animation\: :ref:`Animation<class_Animation>`\ ) |const|                                                                                                                                                                      |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Animation<class_Animation>`                                | :ref:`get_animation<class_AnimationMixer_method_get_animation>`\ (\ name\: :ref:`StringName<class_StringName>`\ ) |const|                                                                                                                                                                                           |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`AnimationLibrary<class_AnimationLibrary>`                  | :ref:`get_animation_library<class_AnimationMixer_method_get_animation_library>`\ (\ name\: :ref:`StringName<class_StringName>`\ ) |const|                                                                                                                                                                           |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Array<class_Array>`\[:ref:`StringName<class_StringName>`\] | :ref:`get_animation_library_list<class_AnimationMixer_method_get_animation_library_list>`\ (\ ) |const|                                                                                                                                                                                                             |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`PackedStringArray<class_PackedStringArray>`                | :ref:`get_animation_list<class_AnimationMixer_method_get_animation_list>`\ (\ ) |const|                                                                                                                                                                                                                             |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector3<class_Vector3>`                                    | :ref:`get_root_motion_position<class_AnimationMixer_method_get_root_motion_position>`\ (\ ) |const|                                                                                                                                                                                                                 |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector3<class_Vector3>`                                    | :ref:`get_root_motion_position_accumulator<class_AnimationMixer_method_get_root_motion_position_accumulator>`\ (\ ) |const|                                                                                                                                                                                         |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Quaternion<class_Quaternion>`                              | :ref:`get_root_motion_rotation<class_AnimationMixer_method_get_root_motion_rotation>`\ (\ ) |const|                                                                                                                                                                                                                 |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Quaternion<class_Quaternion>`                              | :ref:`get_root_motion_rotation_accumulator<class_AnimationMixer_method_get_root_motion_rotation_accumulator>`\ (\ ) |const|                                                                                                                                                                                         |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector3<class_Vector3>`                                    | :ref:`get_root_motion_scale<class_AnimationMixer_method_get_root_motion_scale>`\ (\ ) |const|                                                                                                                                                                                                                       |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector3<class_Vector3>`                                    | :ref:`get_root_motion_scale_accumulator<class_AnimationMixer_method_get_root_motion_scale_accumulator>`\ (\ ) |const|                                                                                                                                                                                               |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                                          | :ref:`has_animation<class_AnimationMixer_method_has_animation>`\ (\ name\: :ref:`StringName<class_StringName>`\ ) |const|                                                                                                                                                                                           |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                                          | :ref:`has_animation_library<class_AnimationMixer_method_has_animation_library>`\ (\ name\: :ref:`StringName<class_StringName>`\ ) |const|                                                                                                                                                                           |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                           | :ref:`remove_animation_library<class_AnimationMixer_method_remove_animation_library>`\ (\ name\: :ref:`StringName<class_StringName>`\ )                                                                                                                                                                             |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                           | :ref:`rename_animation_library<class_AnimationMixer_method_rename_animation_library>`\ (\ name\: :ref:`StringName<class_StringName>`, newname\: :ref:`StringName<class_StringName>`\ )                                                                                                                              |
   +------------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

ä¿¡å·
----

.. _class_AnimationMixer_signal_animation_finished:

.. rst-class:: classref-signal

**animation_finished**\ (\ anim_name\: :ref:`StringName<class_StringName>`\ ) :ref:`ğŸ”—<class_AnimationMixer_signal_animation_finished>`

åŠ¨ç”»æ’­æ”¾ç»“æŸæ—¶é€šçŸ¥ã€‚

\ **æ³¨æ„ï¼š**\ å¦‚æœåŠ¨ç”»æ­£åœ¨å¾ªç¯æ’­æ”¾ï¼Œåˆ™ä¸ä¼šå‘å‡ºæ­¤ä¿¡å·ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_signal_animation_libraries_updated:

.. rst-class:: classref-signal

**animation_libraries_updated**\ (\ ) :ref:`ğŸ”—<class_AnimationMixer_signal_animation_libraries_updated>`

å½“åŠ¨ç”»åº“å‘ç”Ÿæ›´æ”¹æ—¶å‘å‡ºé€šçŸ¥ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_signal_animation_list_changed:

.. rst-class:: classref-signal

**animation_list_changed**\ (\ ) :ref:`ğŸ”—<class_AnimationMixer_signal_animation_list_changed>`

å½“åŠ¨ç”»åˆ—è¡¨å‘ç”Ÿæ›´æ”¹æ—¶å‘å‡ºé€šçŸ¥ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_signal_animation_started:

.. rst-class:: classref-signal

**animation_started**\ (\ anim_name\: :ref:`StringName<class_StringName>`\ ) :ref:`ğŸ”—<class_AnimationMixer_signal_animation_started>`

å½“åŠ¨ç”»å¼€å§‹æ’­æ”¾æ—¶å‘å‡ºé€šçŸ¥ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_signal_caches_cleared:

.. rst-class:: classref-signal

**caches_cleared**\ (\ ) :ref:`ğŸ”—<class_AnimationMixer_signal_caches_cleared>`

å½“ç¼“å­˜è¢«æ¸…é™¤æ—¶é€šçŸ¥ï¼Œå¯ä»¥æ˜¯è‡ªåŠ¨æ¸…é™¤ï¼Œä¹Ÿå¯ä»¥æ˜¯é€šè¿‡ :ref:`clear_caches<class_AnimationMixer_method_clear_caches>` æ‰‹åŠ¨æ¸…é™¤ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_signal_mixer_applied:

.. rst-class:: classref-signal

**mixer_applied**\ (\ ) :ref:`ğŸ”—<class_AnimationMixer_signal_mixer_applied>`

å½“ç›¸å…³çš„æ··åˆç»“æœåº”ç”¨äºç›®æ ‡å¯¹è±¡æ—¶å‘å‡ºé€šçŸ¥ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_signal_mixer_updated:

.. rst-class:: classref-signal

**mixer_updated**\ (\ ) :ref:`ğŸ”—<class_AnimationMixer_signal_mixer_updated>`

å½“å¤„ç†ç›¸å…³å±æ€§å‘ç”Ÿæ›´æ”¹æ—¶å‘å‡ºé€šçŸ¥ã€‚

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

æšä¸¾
----

.. _enum_AnimationMixer_AnimationCallbackModeProcess:

.. rst-class:: classref-enumeration

enum **AnimationCallbackModeProcess**: :ref:`ğŸ”—<enum_AnimationMixer_AnimationCallbackModeProcess>`

.. _class_AnimationMixer_constant_ANIMATION_CALLBACK_MODE_PROCESS_PHYSICS:

.. rst-class:: classref-enumeration-constant

:ref:`AnimationCallbackModeProcess<enum_AnimationMixer_AnimationCallbackModeProcess>` **ANIMATION_CALLBACK_MODE_PROCESS_PHYSICS** = ``0``

åœ¨ç‰©ç†å¸§ä¸­å¤„ç†åŠ¨ç”»ï¼ˆè§ :ref:`Node.NOTIFICATION_INTERNAL_PHYSICS_PROCESS<class_Node_constant_NOTIFICATION_INTERNAL_PHYSICS_PROCESS>`\ ï¼‰ã€‚å°¤å…¶é€‚ç”¨äºå¯¹ç‰©ç†ä½“è¿›è¡ŒåŠ¨ç”»å¤„ç†ã€‚

.. _class_AnimationMixer_constant_ANIMATION_CALLBACK_MODE_PROCESS_IDLE:

.. rst-class:: classref-enumeration-constant

:ref:`AnimationCallbackModeProcess<enum_AnimationMixer_AnimationCallbackModeProcess>` **ANIMATION_CALLBACK_MODE_PROCESS_IDLE** = ``1``

åœ¨å¤„ç†å¸§ä¸­å¤„ç†åŠ¨ç”»ï¼ˆè§ :ref:`Node.NOTIFICATION_INTERNAL_PROCESS<class_Node_constant_NOTIFICATION_INTERNAL_PROCESS>`\ ï¼‰ã€‚

.. _class_AnimationMixer_constant_ANIMATION_CALLBACK_MODE_PROCESS_MANUAL:

.. rst-class:: classref-enumeration-constant

:ref:`AnimationCallbackModeProcess<enum_AnimationMixer_AnimationCallbackModeProcess>` **ANIMATION_CALLBACK_MODE_PROCESS_MANUAL** = ``2``

ä¸å¤„ç†åŠ¨ç”»ã€‚ä½¿ç”¨\ :ref:`advance<class_AnimationMixer_method_advance>`\ æ‰‹åŠ¨å¤„ç†åŠ¨ç”»ã€‚

.. rst-class:: classref-item-separator

----

.. _enum_AnimationMixer_AnimationCallbackModeMethod:

.. rst-class:: classref-enumeration

enum **AnimationCallbackModeMethod**: :ref:`ğŸ”—<enum_AnimationMixer_AnimationCallbackModeMethod>`

.. _class_AnimationMixer_constant_ANIMATION_CALLBACK_MODE_METHOD_DEFERRED:

.. rst-class:: classref-enumeration-constant

:ref:`AnimationCallbackModeMethod<enum_AnimationMixer_AnimationCallbackModeMethod>` **ANIMATION_CALLBACK_MODE_METHOD_DEFERRED** = ``0``

åœ¨åŠ¨ç”»è¿‡ç¨‹ä¸­æ‰¹é‡è°ƒç”¨æ–¹æ³•ï¼Œç„¶ååœ¨å¤„ç†å®Œäº‹ä»¶åå†è¿›è¡Œè°ƒç”¨ã€‚è¿™æ ·å°±é¿å…äº†åœ¨æ’­æ”¾è¿‡ç¨‹ä¸­æ¶‰åŠåˆ é™¤èŠ‚ç‚¹æˆ–ä¿®æ”¹AnimationPlayerçš„é”™è¯¯ã€‚

.. _class_AnimationMixer_constant_ANIMATION_CALLBACK_MODE_METHOD_IMMEDIATE:

.. rst-class:: classref-enumeration-constant

:ref:`AnimationCallbackModeMethod<enum_AnimationMixer_AnimationCallbackModeMethod>` **ANIMATION_CALLBACK_MODE_METHOD_IMMEDIATE** = ``1``

åœ¨åŠ¨ç”»ä¸­è¾¾åˆ°æ—¶ç«‹å³è¿›è¡Œæ–¹æ³•è°ƒç”¨ã€‚

.. rst-class:: classref-item-separator

----

.. _enum_AnimationMixer_AnimationCallbackModeDiscrete:

.. rst-class:: classref-enumeration

enum **AnimationCallbackModeDiscrete**: :ref:`ğŸ”—<enum_AnimationMixer_AnimationCallbackModeDiscrete>`

.. _class_AnimationMixer_constant_ANIMATION_CALLBACK_MODE_DISCRETE_DOMINANT:

.. rst-class:: classref-enumeration-constant

:ref:`AnimationCallbackModeDiscrete<enum_AnimationMixer_AnimationCallbackModeDiscrete>` **ANIMATION_CALLBACK_MODE_DISCRETE_DOMINANT** = ``0``

An :ref:`Animation.UPDATE_DISCRETE<class_Animation_constant_UPDATE_DISCRETE>` track value takes precedence when blending :ref:`Animation.UPDATE_CONTINUOUS<class_Animation_constant_UPDATE_CONTINUOUS>` or :ref:`Animation.UPDATE_CAPTURE<class_Animation_constant_UPDATE_CAPTURE>` track values and :ref:`Animation.UPDATE_DISCRETE<class_Animation_constant_UPDATE_DISCRETE>` track values.

.. _class_AnimationMixer_constant_ANIMATION_CALLBACK_MODE_DISCRETE_RECESSIVE:

.. rst-class:: classref-enumeration-constant

:ref:`AnimationCallbackModeDiscrete<enum_AnimationMixer_AnimationCallbackModeDiscrete>` **ANIMATION_CALLBACK_MODE_DISCRETE_RECESSIVE** = ``1``

An :ref:`Animation.UPDATE_CONTINUOUS<class_Animation_constant_UPDATE_CONTINUOUS>` or :ref:`Animation.UPDATE_CAPTURE<class_Animation_constant_UPDATE_CAPTURE>` track value takes precedence when blending the :ref:`Animation.UPDATE_CONTINUOUS<class_Animation_constant_UPDATE_CONTINUOUS>` or :ref:`Animation.UPDATE_CAPTURE<class_Animation_constant_UPDATE_CAPTURE>` track values and the :ref:`Animation.UPDATE_DISCRETE<class_Animation_constant_UPDATE_DISCRETE>` track values. This is the default behavior for :ref:`AnimationPlayer<class_AnimationPlayer>`.

.. _class_AnimationMixer_constant_ANIMATION_CALLBACK_MODE_DISCRETE_FORCE_CONTINUOUS:

.. rst-class:: classref-enumeration-constant

:ref:`AnimationCallbackModeDiscrete<enum_AnimationMixer_AnimationCallbackModeDiscrete>` **ANIMATION_CALLBACK_MODE_DISCRETE_FORCE_CONTINUOUS** = ``2``

Always treat the :ref:`Animation.UPDATE_DISCRETE<class_Animation_constant_UPDATE_DISCRETE>` track value as :ref:`Animation.UPDATE_CONTINUOUS<class_Animation_constant_UPDATE_CONTINUOUS>` with :ref:`Animation.INTERPOLATION_NEAREST<class_Animation_constant_INTERPOLATION_NEAREST>`. This is the default behavior for :ref:`AnimationTree<class_AnimationTree>`.

If a value track has non-numeric type key values, it is internally converted to use :ref:`ANIMATION_CALLBACK_MODE_DISCRETE_RECESSIVE<class_AnimationMixer_constant_ANIMATION_CALLBACK_MODE_DISCRETE_RECESSIVE>` with :ref:`Animation.UPDATE_DISCRETE<class_Animation_constant_UPDATE_DISCRETE>`.

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

å±æ€§è¯´æ˜
--------

.. _class_AnimationMixer_property_active:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **active** = ``true`` :ref:`ğŸ”—<class_AnimationMixer_property_active>`

.. rst-class:: classref-property-setget

- |void| **set_active**\ (\ value\: :ref:`bool<class_bool>`\ )
- :ref:`bool<class_bool>` **is_active**\ (\ )

å¦‚æœ ``true`` æ—¶ï¼Œ\ **AnimationMixer** å°†æ‰§è¡Œé€»è¾‘å¤„ç†ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_property_audio_max_polyphony:

.. rst-class:: classref-property

:ref:`int<class_int>` **audio_max_polyphony** = ``32`` :ref:`ğŸ”—<class_AnimationMixer_property_audio_max_polyphony>`

.. rst-class:: classref-property-setget

- |void| **set_audio_max_polyphony**\ (\ value\: :ref:`int<class_int>`\ )
- :ref:`int<class_int>` **get_audio_max_polyphony**\ (\ )

æ¯ä¸ªæŒ‡å®šçš„ AudioStreamPlayer å¯èƒ½åŒæ—¶å‘å‡ºçš„å£°éŸ³çš„æ•°é‡ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœè¯¥å€¼ä¸º ``32`` å¹¶ä¸”åŠ¨ç”»æœ‰ä¸¤ä¸ªéŸ³è½¨ï¼Œåˆ™åˆ†é…çš„ä¸¤ä¸ª :ref:`AudioStreamPlayer<class_AudioStreamPlayer>` å¯ä»¥åŒæ—¶æ’­æ”¾æœ€å¤š ``32`` ä¸ªå£°éŸ³ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_property_callback_mode_discrete:

.. rst-class:: classref-property

:ref:`AnimationCallbackModeDiscrete<enum_AnimationMixer_AnimationCallbackModeDiscrete>` **callback_mode_discrete** = ``1`` :ref:`ğŸ”—<class_AnimationMixer_property_callback_mode_discrete>`

.. rst-class:: classref-property-setget

- |void| **set_callback_mode_discrete**\ (\ value\: :ref:`AnimationCallbackModeDiscrete<enum_AnimationMixer_AnimationCallbackModeDiscrete>`\ )
- :ref:`AnimationCallbackModeDiscrete<enum_AnimationMixer_AnimationCallbackModeDiscrete>` **get_callback_mode_discrete**\ (\ )

ä¸€èˆ¬è€Œè¨€ï¼Œå¯ä»¥å°†è½¨é“è®¾ç½®ä¸º :ref:`Animation.UPDATE_DISCRETE<class_Animation_constant_UPDATE_DISCRETE>` é™ä½æ›´æ–°é¢‘ç‡ï¼Œé€šå¸¸åœ¨æœ€è¿‘é‚»æ’å€¼æ—¶ä½¿ç”¨ã€‚

ä½†åœ¨ä½¿ç”¨ :ref:`Animation.UPDATE_CONTINUOUS<class_Animation_constant_UPDATE_CONTINUOUS>` è¿›è¡Œæ··åˆæ—¶éœ€è¦è€ƒè™‘ä¸åŒçš„ç»“æœï¼Œå¯ä»¥ç”¨ :ref:`callback_mode_discrete<class_AnimationMixer_property_callback_mode_discrete>` æ¥æ˜¾å¼æŒ‡å®šã€‚å¦è§ :ref:`AnimationCallbackModeDiscrete<enum_AnimationMixer_AnimationCallbackModeDiscrete>`\ ã€‚

ä¸ºäº†åœ¨æ··åˆæ—¶å¾—åˆ°æ›´å¥½çš„ç»“æœï¼Œå»ºè®®å°†å…¶è®¾ç½®ä¸º :ref:`ANIMATION_CALLBACK_MODE_DISCRETE_FORCE_CONTINUOUS<class_AnimationMixer_constant_ANIMATION_CALLBACK_MODE_DISCRETE_FORCE_CONTINUOUS>`\ ï¼Œåœ¨æ··åˆæ—¶æ¯ä¸€å¸§éƒ½æ›´æ–°ã€‚å…¶ä»–å€¼ä¸»è¦ç”¨äºå…¼å®¹ï¼Œåœ¨ä¸éœ€è¦æ··åˆæ—¶æ²¡æœ‰é—®é¢˜ï¼Œä½†éœ€è¦æ··åˆæ—¶åˆ™å¯èƒ½äº§ç”Ÿé—®é¢˜ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_property_callback_mode_method:

.. rst-class:: classref-property

:ref:`AnimationCallbackModeMethod<enum_AnimationMixer_AnimationCallbackModeMethod>` **callback_mode_method** = ``0`` :ref:`ğŸ”—<class_AnimationMixer_property_callback_mode_method>`

.. rst-class:: classref-property-setget

- |void| **set_callback_mode_method**\ (\ value\: :ref:`AnimationCallbackModeMethod<enum_AnimationMixer_AnimationCallbackModeMethod>`\ )
- :ref:`AnimationCallbackModeMethod<enum_AnimationMixer_AnimationCallbackModeMethod>` **get_callback_mode_method**\ (\ )

ç”¨äºâ€œæ–¹æ³•è°ƒç”¨â€è½¨é“çš„è°ƒç”¨æ¨¡å¼ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_property_callback_mode_process:

.. rst-class:: classref-property

:ref:`AnimationCallbackModeProcess<enum_AnimationMixer_AnimationCallbackModeProcess>` **callback_mode_process** = ``1`` :ref:`ğŸ”—<class_AnimationMixer_property_callback_mode_process>`

.. rst-class:: classref-property-setget

- |void| **set_callback_mode_process**\ (\ value\: :ref:`AnimationCallbackModeProcess<enum_AnimationMixer_AnimationCallbackModeProcess>`\ )
- :ref:`AnimationCallbackModeProcess<enum_AnimationMixer_AnimationCallbackModeProcess>` **get_callback_mode_process**\ (\ )

æ›´æ–°åŠ¨ç”»çš„è¿‡ç¨‹é€šçŸ¥ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_property_deterministic:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **deterministic** = ``false`` :ref:`ğŸ”—<class_AnimationMixer_property_deterministic>`

.. rst-class:: classref-property-setget

- |void| **set_deterministic**\ (\ value\: :ref:`bool<class_bool>`\ )
- :ref:`bool<class_bool>` **is_deterministic**\ (\ )

å¦‚æœä¸º ``true``\ ï¼Œåˆ™æ··åˆä½¿ç”¨ç¡®å®šæ€§ç®—æ³•ã€‚æ€»æƒé‡ä¸è¿›è¡Œå½’ä¸€åŒ–ï¼Œåœ¨åˆå§‹å€¼çš„åŸºç¡€ä¸Šè¿›è¡Œç´¯åŠ ï¼ˆåˆå§‹å€¼ä¸º ``0``\ ï¼Œè¡¨ç¤ºå¯èƒ½å­˜åœ¨çš„ ``"RESET"`` åŠ¨ç”»ï¼‰ã€‚

è¿™æ„å‘³ç€å¦‚æœæ··åˆæ€»æƒé‡ä¸º ``0.0``\ ï¼Œåˆ™ç»“æœç­‰äº ``"RESET"`` åŠ¨ç”»ã€‚

å¦‚æœæ··åˆåŠ¨ç”»ä¹‹é—´çš„è½¨é“æ•°é‡ä¸åŒï¼Œåˆ™ç¼ºå°‘è½¨é“çš„åŠ¨ç”»å°†è¢«è§†ä¸ºå…·æœ‰åˆå§‹å€¼ã€‚

å¦‚æœä¸º ``false``\ ï¼Œåˆ™æ··åˆä¸ä¼šä½¿ç”¨ç¡®å®šæ€§ç®—æ³•ã€‚æ€»æƒé‡å°†å½’ä¸€åŒ–ä¸”å§‹ç»ˆä¸º ``1.0``\ ã€‚å¦‚æœæ··åˆåŠ¨ç”»ä¹‹é—´çš„è½¨é“æ•°é‡ä¸åŒï¼Œåˆ™ä¸ä¼šå¯¹ç¼ºå°‘è½¨é“çš„åŠ¨ç”»æ‰§è¡Œä»»ä½•æ“ä½œã€‚

\ ** æ³¨æ„ï¼š** åœ¨ :ref:`AnimationTree<class_AnimationTree>` ä¸­ï¼Œä¸ :ref:`AnimationNodeAdd2<class_AnimationNodeAdd2>` ã€ :ref:`AnimationNodeAdd3<class_AnimationNodeAdd3>` ã€ :ref:`AnimationNodeSub2<class_AnimationNodeSub2>` æˆ–æƒé‡å¤§äº ``1.0`` æ··åˆå¯èƒ½äº§ç”Ÿæ„æƒ³ä¸åˆ°çš„ç»“æœã€‚

ä¾‹å¦‚ï¼Œå¦‚æœ :ref:`AnimationNodeAdd2<class_AnimationNodeAdd2>` æ··åˆäº†ä¸¤ä¸ªå–å€¼ä¸º ``1.0`` çš„èŠ‚ç‚¹ï¼Œåˆ™æ€»æƒé‡ä¸º ``2.0``\ ï¼Œä½†å®ƒå°†è¢«å½’ä¸€åŒ–ä½¿æ€»æƒé‡ä¿æŒ ``1.0``\ ï¼Œä¸”ç»“æœå°†ç­‰äºå–å€¼ä¸º ``0.5`` çš„ :ref:`AnimationNodeBlend2<class_AnimationNodeBlend2>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_property_reset_on_save:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **reset_on_save** = ``true`` :ref:`ğŸ”—<class_AnimationMixer_property_reset_on_save>`

.. rst-class:: classref-property-setget

- |void| **set_reset_on_save_enabled**\ (\ value\: :ref:`bool<class_bool>`\ )
- :ref:`bool<class_bool>` **is_reset_on_save_enabled**\ (\ )

ç”±ç¼–è¾‘å™¨ä½¿ç”¨ã€‚å¦‚æœè®¾ç½®ä¸º ``true``\ ï¼Œåœºæ™¯å°†è¢«ä¿å­˜ï¼Œå¹¶åº”ç”¨é‡ç½®åŠ¨ç”»ï¼ˆå¸¦æœ‰é”® ``"RESET"`` çš„åŠ¨ç”»ï¼‰çš„æ•ˆæœï¼Œå°±å¥½åƒå®ƒå·²è¢«å®šä½åˆ°æ—¶é—´ 0 ä¸€æ ·ï¼Œç¼–è¾‘å™¨ä¿ç•™åœºæ™¯åœ¨ä¿å­˜ä¹‹å‰çš„å€¼ã€‚

è¿™ä½¿å¾—åœ¨ç¼–è¾‘å™¨ä¸­é¢„è§ˆå’Œç¼–è¾‘åŠ¨ç”»æ›´åŠ æ–¹ä¾¿ï¼Œå› ä¸ºå¯¹åœºæ™¯çš„æ›´æ”¹ï¼Œåªè¦åœ¨é‡ç½®åŠ¨ç”»ä¸­è¢«è®¾ç½®ï¼Œå°±ä¸ä¼šè¢«ä¿å­˜ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_property_root_motion_track:

.. rst-class:: classref-property

:ref:`NodePath<class_NodePath>` **root_motion_track** = ``NodePath("")`` :ref:`ğŸ”—<class_AnimationMixer_property_root_motion_track>`

.. rst-class:: classref-property-setget

- |void| **set_root_motion_track**\ (\ value\: :ref:`NodePath<class_NodePath>`\ )
- :ref:`NodePath<class_NodePath>` **get_root_motion_track**\ (\ )

ç”¨äºæ ¹éƒ¨è¿åŠ¨çš„åŠ¨ç”»è½¨é“çš„è·¯å¾„ã€‚è·¯å¾„å¿…é¡»æ˜¯æŒ‡å‘èŠ‚ç‚¹çš„åœºæ™¯æ ‘æœ‰æ•ˆè·¯å¾„ï¼Œå¿…é¡»ä»å°†å®ç°åŠ¨ç”»çš„èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹å¼€å§‹æŒ‡å®šã€‚è¦æŒ‡å®šæ§ä»¶å±æ€§æˆ–éª¨éª¼çš„è½¨é“ï¼Œè¯·åœ¨è·¯å¾„åé™„åŠ å…¶åç§°ï¼Œç”¨ ``":"`` éš”å¼€ã€‚ä¾‹å¦‚ï¼Œ\ ``"character/skeleton:ankle"`` æˆ– ``"character/mesh:transform/local"``\ ã€‚

å¦‚æœè½¨é“çš„ç±»å‹æ˜¯ :ref:`Animation.TYPE_POSITION_3D<class_Animation_constant_TYPE_POSITION_3D>`\ ã€\ :ref:`Animation.TYPE_ROTATION_3D<class_Animation_constant_TYPE_ROTATION_3D>`\ ã€æˆ–è€… :ref:`Animation.TYPE_SCALE_3D<class_Animation_constant_TYPE_SCALE_3D>`\ ï¼Œé‚£ä¹ˆå°†å–æ¶ˆè§†è§‰ä¸Šçš„å˜æ¢ï¼Œå…¶åŠ¨ç”»çœ‹èµ·æ¥å°†æ˜¯ç•™åœ¨åŸåœ°ã€‚å¦è§ :ref:`get_root_motion_position<class_AnimationMixer_method_get_root_motion_position>`\ ã€\ :ref:`get_root_motion_rotation<class_AnimationMixer_method_get_root_motion_rotation>`\ ã€\ :ref:`get_root_motion_scale<class_AnimationMixer_method_get_root_motion_scale>`\ ã€\ :ref:`RootMotionView<class_RootMotionView>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_property_root_node:

.. rst-class:: classref-property

:ref:`NodePath<class_NodePath>` **root_node** = ``NodePath("..")`` :ref:`ğŸ”—<class_AnimationMixer_property_root_node>`

.. rst-class:: classref-property-setget

- |void| **set_root_node**\ (\ value\: :ref:`NodePath<class_NodePath>`\ )
- :ref:`NodePath<class_NodePath>` **get_root_node**\ (\ )

èŠ‚ç‚¹è·¯å¾„å¼•ç”¨å°†ä»å…¶å‡ºå‘çš„èŠ‚ç‚¹ã€‚

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

æ–¹æ³•è¯´æ˜
--------

.. _class_AnimationMixer_private_method__post_process_key_value:

.. rst-class:: classref-method

:ref:`Variant<class_Variant>` **_post_process_key_value**\ (\ animation\: :ref:`Animation<class_Animation>`, track\: :ref:`int<class_int>`, value\: :ref:`Variant<class_Variant>`, object_id\: :ref:`int<class_int>`, object_sub_idx\: :ref:`int<class_int>`\ ) |virtual| |const| :ref:`ğŸ”—<class_AnimationMixer_private_method__post_process_key_value>`

è™šå‡½æ•°ï¼Œç”¨äºæ’­æ”¾æœŸé—´åœ¨è·å–å…³é”®å¸§ä¹‹åçš„å¤„ç†ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_add_animation_library:

.. rst-class:: classref-method

:ref:`Error<enum_@GlobalScope_Error>` **add_animation_library**\ (\ name\: :ref:`StringName<class_StringName>`, library\: :ref:`AnimationLibrary<class_AnimationLibrary>`\ ) :ref:`ğŸ”—<class_AnimationMixer_method_add_animation_library>`

å°† ``library`` æ·»åŠ åˆ°è¯¥åŠ¨ç”»æ’­æ”¾å™¨çš„é”® ``name`` ä¸‹ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_advance:

.. rst-class:: classref-method

|void| **advance**\ (\ delta\: :ref:`float<class_float>`\ ) :ref:`ğŸ”—<class_AnimationMixer_method_advance>`

æ‰‹åŠ¨å°†åŠ¨ç”»å‰è¿›æŒ‡å®šçš„æ—¶é—´ï¼ˆå•ä½ä¸ºç§’ï¼‰ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_capture:

.. rst-class:: classref-method

|void| **capture**\ (\ name\: :ref:`StringName<class_StringName>`, duration\: :ref:`float<class_float>`, trans_type\: :ref:`TransitionType<enum_Tween_TransitionType>` = 0, ease_type\: :ref:`EaseType<enum_Tween_EaseType>` = 0\ ) :ref:`ğŸ”—<class_AnimationMixer_method_capture>`

å¦‚æœ ``name`` æŒ‡å®šçš„åŠ¨ç”»è½¨é“å…·æœ‰ :ref:`Animation.UPDATE_CAPTURE<class_Animation_constant_UPDATE_CAPTURE>` é€‰é¡¹ï¼Œåˆ™ä¼šå°†è½¨é“è·¯å¾„è¡¨ç¤ºçš„å¯¹è±¡å½“å‰å€¼å­˜å‚¨ä¸‹æ¥ä½œä¸ºç¼“å­˜ã€‚å¦‚æœå·²å­˜åœ¨æ•è·ç¼“å­˜ï¼Œåˆ™ä¼šä¸¢å¼ƒæ—§ç¼“å­˜ã€‚

åœ¨æ­¤ä¹‹åï¼Œå°±ä¼šåœ¨æ’­æ”¾è¿‡ç¨‹ä¸­è¿›è¡Œæ—¶é•¿ä¸º ``duration`` çš„ä¸å½“å‰åŠ¨ç”»æ··åˆç»“æœçš„æ’å€¼ï¼Œç±»ä¼¼æ·¡å…¥æ·¡å‡ºã€‚

å¯ä»¥ä½¿ç”¨ ``trans_type`` æ¥æŒ‡å®šæ’å€¼æ›²çº¿ã€‚ä¸ºäº†è¾¾åˆ°æœ€ä½³æ•ˆæœï¼Œå¦‚æœè½¨é“çš„ç¬¬ä¸€ä¸ªå…³é”®å¸§éé›¶æˆ–é”®å€¼ä¸ä¼šæ”¹å˜ï¼Œåˆ™æœ€å¥½ä½¿ç”¨ :ref:`Tween.TRANS_LINEAR<class_Tween_constant_TRANS_LINEAR>`\ ï¼›å¦‚æœé”®å€¼æœ‰çº¿æ€§å˜åŒ–ï¼Œåˆ™æœ€å¥½ä½¿ç”¨ :ref:`Tween.TRANS_QUAD<class_Tween_constant_TRANS_QUAD>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_clear_caches:

.. rst-class:: classref-method

|void| **clear_caches**\ (\ ) :ref:`ğŸ”—<class_AnimationMixer_method_clear_caches>`

**AnimationMixer** ä¼šç¼“å­˜åŠ¨ç”»èŠ‚ç‚¹ã€‚å¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ¶ˆå¤±ï¼Œå®ƒå¯èƒ½ä¸ä¼šæ³¨æ„åˆ°ï¼›\ :ref:`clear_caches<class_AnimationMixer_method_clear_caches>` èƒ½å¤Ÿå¼ºåˆ¶å®ƒå†æ¬¡æ›´æ–°ç¼“å­˜ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_find_animation:

.. rst-class:: classref-method

:ref:`StringName<class_StringName>` **find_animation**\ (\ animation\: :ref:`Animation<class_Animation>`\ ) |const| :ref:`ğŸ”—<class_AnimationMixer_method_find_animation>`

è¿”å› ``animation`` çš„é”®ï¼›å¦‚æœæœªæ‰¾åˆ°ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºçš„ :ref:`StringName<class_StringName>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_find_animation_library:

.. rst-class:: classref-method

:ref:`StringName<class_StringName>` **find_animation_library**\ (\ animation\: :ref:`Animation<class_Animation>`\ ) |const| :ref:`ğŸ”—<class_AnimationMixer_method_find_animation_library>`

è¿”å›åŒ…å« ``animation`` çš„ :ref:`AnimationLibrary<class_AnimationLibrary>` çš„é”®ï¼›å¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºçš„ :ref:`StringName<class_StringName>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_get_animation:

.. rst-class:: classref-method

:ref:`Animation<class_Animation>` **get_animation**\ (\ name\: :ref:`StringName<class_StringName>`\ ) |const| :ref:`ğŸ”—<class_AnimationMixer_method_get_animation>`

è¿”å›å¸¦æœ‰é”® ``name`` çš„ :ref:`Animation<class_Animation>`\ ã€‚å¦‚æœåŠ¨ç”»ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› ``null`` å¹¶è®°å½•é”™è¯¯ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_get_animation_library:

.. rst-class:: classref-method

:ref:`AnimationLibrary<class_AnimationLibrary>` **get_animation_library**\ (\ name\: :ref:`StringName<class_StringName>`\ ) |const| :ref:`ğŸ”—<class_AnimationMixer_method_get_animation_library>`

è¿”å›ç¬¬ä¸€ä¸ªé”®ä¸º ``name`` çš„ :ref:`AnimationLibrary<class_AnimationLibrary>`\ ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åˆ™è¿”å› ``null``\ ã€‚

è¦è·å¾— **AnimationMixer** çš„å…¨å±€åŠ¨ç”»åº“ï¼Œè¯·ä½¿ç”¨ ``get_animation_library("")``\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_get_animation_library_list:

.. rst-class:: classref-method

:ref:`Array<class_Array>`\[:ref:`StringName<class_StringName>`\] **get_animation_library_list**\ (\ ) |const| :ref:`ğŸ”—<class_AnimationMixer_method_get_animation_library_list>`

è¿”å›å­˜å‚¨åº“çš„é”®ååˆ—è¡¨ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_get_animation_list:

.. rst-class:: classref-method

:ref:`PackedStringArray<class_PackedStringArray>` **get_animation_list**\ (\ ) |const| :ref:`ğŸ”—<class_AnimationMixer_method_get_animation_list>`

è¿”å›å­˜å‚¨çš„åŠ¨ç”»é”®åˆ—è¡¨ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_get_root_motion_position:

.. rst-class:: classref-method

:ref:`Vector3<class_Vector3>` **get_root_motion_position**\ (\ ) |const| :ref:`ğŸ”—<class_AnimationMixer_method_get_root_motion_position>`

å°†å…·æœ‰ :ref:`root_motion_track<class_AnimationMixer_property_root_motion_track>` çš„ä½ç½®çš„è¿åŠ¨å¢é‡ï¼Œæ£€ç´¢ä¸ºä¸€ä¸ªå¯ä»¥åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨çš„ :ref:`Vector3<class_Vector3>`\ ã€‚

å¦‚æœ :ref:`root_motion_track<class_AnimationMixer_property_root_motion_track>` ä¸æ˜¯ :ref:`Animation.TYPE_POSITION_3D<class_Animation_constant_TYPE_POSITION_3D>` ç±»å‹è½¨é“çš„è·¯å¾„ï¼Œåˆ™è¿”å› ``Vector3(0, 0, 0)``\ ã€‚

å¦è§ :ref:`root_motion_track<class_AnimationMixer_property_root_motion_track>` å’Œ :ref:`RootMotionView<class_RootMotionView>`\ ã€‚

æœ€åŸºæœ¬çš„ç¤ºä¾‹æ˜¯å°†ä½ç½®åº”ç”¨äº :ref:`CharacterBody3D<class_CharacterBody3D>`\ ï¼š


.. tabs::

 .. code-tab:: gdscript

    var current_rotation: Quaternion
    
    func _process(delta):
        if Input.is_action_just_pressed("animate"):
            current_rotation = get_quaternion()
            state_machine.travel("Animate")
        var velocity: Vector3 = current_rotation * animation_tree.get_root_motion_position() / delta
        set_velocity(velocity)
        move_and_slide()



é€šè¿‡å°†å…¶ä¸ :ref:`get_root_motion_position_accumulator<class_AnimationMixer_method_get_root_motion_position_accumulator>` ç»“åˆä½¿ç”¨ï¼Œä½ å¯ä»¥æ›´æ­£ç¡®åœ°åº”ç”¨æ ¹è¿åŠ¨ä½ç½®æ¥è€ƒè™‘èŠ‚ç‚¹çš„æ—‹è½¬ã€‚


.. tabs::

 .. code-tab:: gdscript

    func _process(delta):
        if Input.is_action_just_pressed("animate"):
            state_machine.travel("Animate")
        set_quaternion(get_quaternion() * animation_tree.get_root_motion_rotation())
        var velocity: Vector3 = (animation_tree.get_root_motion_rotation_accumulator().inverse() * get_quaternion()) * animation_tree.get_root_motion_position() / delta
        set_velocity(velocity)
        move_and_slide()



.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_get_root_motion_position_accumulator:

.. rst-class:: classref-method

:ref:`Vector3<class_Vector3>` **get_root_motion_position_accumulator**\ (\ ) |const| :ref:`ğŸ”—<class_AnimationMixer_method_get_root_motion_position_accumulator>`

æ£€ç´¢å…·æœ‰ :ref:`root_motion_track<class_AnimationMixer_property_root_motion_track>` çš„ä½ç½®è½¨é“çš„æ··åˆå€¼ï¼Œè¿”å›çš„æ˜¯å¯ä»¥åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨çš„ :ref:`Vector3<class_Vector3>`\ ã€‚

åœ¨æƒ³è¦éµå¾ªåŠ¨ç”»çš„åˆå§‹åŠ¨ç”»å¸§å€¼çš„æƒ…å†µä¸‹å¾ˆæœ‰ç”¨ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœå‰ä¸€å¸§æ’­æ”¾çš„æ˜¯ä¸€ä¸ªåªæœ‰å•ä¸ªåŠ¨ç”»å¸§ ``Vector3(0, 0, 0)`` çš„åŠ¨ç”»ï¼Œç„¶åä¸‹ä¸€å¸§æ’­æ”¾çš„æ˜¯ä¸€ä¸ªåªæœ‰å•ä¸ªåŠ¨ç”»å¸§\ ``Vector3(1, 0, 1)`` çš„åŠ¨ç”»ï¼Œå®ƒä»¬ä¹‹é—´çš„å·®å¼‚å¯ä»¥è¿™æ ·è®¡ç®—ï¼š


.. tabs::

 .. code-tab:: gdscript

    var prev_root_motion_position_accumulator: Vector3
    
    func _process(delta):
        if Input.is_action_just_pressed("animate"):
            state_machine.travel("Animate")
        var current_root_motion_position_accumulator: Vector3 = animation_tree.get_root_motion_position_accumulator()
        var difference: Vector3 = current_root_motion_position_accumulator - prev_root_motion_position_accumulator
        prev_root_motion_position_accumulator = current_root_motion_position_accumulator
        transform.origin += difference



ä¸è¿‡ï¼Œå¦‚æœåŠ¨ç”»æ˜¯å¾ªç¯æ’­æ”¾çš„ï¼Œå°±å¯èƒ½ä¼šå‘ç”Ÿé¢„æ–™ä¹‹å¤–çš„ä¸è¿ç»­å˜åŒ–ï¼Œæ‰€ä»¥è¿™åªå¯¹ä¸€äº›ç®€å•çš„æƒ…å†µæœ‰ç”¨ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_get_root_motion_rotation:

.. rst-class:: classref-method

:ref:`Quaternion<class_Quaternion>` **get_root_motion_rotation**\ (\ ) |const| :ref:`ğŸ”—<class_AnimationMixer_method_get_root_motion_rotation>`

æ£€ç´¢å¸¦æœ‰ :ref:`root_motion_track<class_AnimationMixer_property_root_motion_track>` çš„æ—‹è½¬è¿åŠ¨ï¼Œä½œä¸ºä¸€ä¸ª :ref:`Quaternion<class_Quaternion>`\ ï¼Œå¯ä»¥åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨ã€‚

å¦‚æœ :ref:`root_motion_track<class_AnimationMixer_property_root_motion_track>` ä¸æ˜¯ :ref:`Animation.TYPE_ROTATION_3D<class_Animation_constant_TYPE_ROTATION_3D>` ç±»å‹çš„è½¨è¿¹çš„è·¯å¾„ï¼Œè¿”å› ``Quaternion(0, 0, 0, 1)`` ã€‚

å¦è§ :ref:`root_motion_track<class_AnimationMixer_property_root_motion_track>` å’Œ :ref:`RootMotionView<class_RootMotionView>`\ ã€‚

æœ€åŸºæœ¬çš„ä¾‹å­æ˜¯å¯¹ :ref:`CharacterBody3D<class_CharacterBody3D>` åº”ç”¨æ—‹è½¬ã€‚


.. tabs::

 .. code-tab:: gdscript

    func _process(delta):
        if Input.is_action_just_pressed("animate"):
            state_machine.travel("Animate")
        set_quaternion(get_quaternion() * animation_tree.get_root_motion_rotation() )



.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_get_root_motion_rotation_accumulator:

.. rst-class:: classref-method

:ref:`Quaternion<class_Quaternion>` **get_root_motion_rotation_accumulator**\ (\ ) |const| :ref:`ğŸ”—<class_AnimationMixer_method_get_root_motion_rotation_accumulator>`

æ£€ç´¢å¸¦æœ‰ :ref:`root_motion_track<class_AnimationMixer_property_root_motion_track>` çš„æ—‹è½¬è½¨é“çš„æ··åˆå€¼ï¼Œä½œä¸ºä¸€ä¸ª :ref:`Quaternion<class_Quaternion>`\ ï¼Œå¯ä»¥åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨ã€‚

è¿™é‡Œå¿…é¡»æ­£ç¡®åœ°ç»“åˆæ ¹è¿åŠ¨ä½ç½®ï¼Œå¹¶ä¸”è¦è€ƒè™‘åˆ°æ—‹è½¬ã€‚å‚è€ƒ :ref:`get_root_motion_position<class_AnimationMixer_method_get_root_motion_position>`\ ã€‚

å¹¶ä¸”ï¼Œå½“ä½ æƒ³é‡è§†åŠ¨ç”»çš„åˆå§‹åŠ¨ç”»å¸§çš„å€¼æ—¶ï¼Œè¿™ä¼šå¾ˆæœ‰ç”¨ã€‚

æ¯”å¦‚è¯´ï¼Œå¦‚æœä¸€ä¸ªåŠ¨ç”»åœ¨ä¸Šä¸€å¸§åªæ’­æ”¾ä¸€ä¸ª ``Quaternion(0, 0, 0, 1)`` åŠ¨ç”»å¸§ï¼Œå¹¶ä¸”ä¸€ä¸ªåŠ¨ç”»åœ¨ä¸‹ä¸€å¸§åªæ’­æ”¾äº†ä¸€ä¸ªåŠ¨ç”»å¸§çš„ ``Quaternion(0, 0.707, 0, 0.707)`` æ—¶ï¼Œå®ƒä»¬ç›¸å·®çš„å€¼å¯ä»¥è¿™æ ·æ±‚å‡ºï¼š


.. tabs::

 .. code-tab:: gdscript

    var prev_root_motion_rotation_accumulator: Quaternion
    
    func _process(delta):
        if Input.is_action_just_pressed("animate"):
            state_machine.travel("Animate")
        var current_root_motion_rotation_accumulator: Quaternion = animation_tree.get_root_motion_Quaternion_accumulator()
        var difference: Quaternion = prev_root_motion_rotation_accumulator.inverse() * current_root_motion_rotation_accumulator
        prev_root_motion_rotation_accumulator = current_root_motion_rotation_accumulator
        transform.basis *= difference



ç„¶è€Œï¼Œå½“ä¸€ä¸ªåŠ¨ç”»å¾ªç¯æ—¶ï¼Œå¯èƒ½ä¼šå¾—åˆ°ä¸€ä¸ªæ„æ–™ä¹‹å¤–çš„å˜åŒ–ï¼Œæ‰€ä»¥è¿™ä¸ªåªåœ¨ä¸€äº›ç®€å•æƒ…å†µä¸‹æ‰æœ‰ç”¨ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_get_root_motion_scale:

.. rst-class:: classref-method

:ref:`Vector3<class_Vector3>` **get_root_motion_scale**\ (\ ) |const| :ref:`ğŸ”—<class_AnimationMixer_method_get_root_motion_scale>`

è·å– :ref:`root_motion_track<class_AnimationMixer_property_root_motion_track>` çš„ç¼©æ”¾è¿åŠ¨å¢é‡ï¼Œç±»å‹ä¸º :ref:`Vector3<class_Vector3>`\ ï¼Œå¯ä»¥åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨ã€‚

å¦‚æœ :ref:`root_motion_track<class_AnimationMixer_property_root_motion_track>` ä¸æ˜¯ç±»å‹ä¸º :ref:`Animation.TYPE_SCALE_3D<class_Animation_constant_TYPE_SCALE_3D>` çš„è½¨é“çš„è·¯å¾„ï¼Œåˆ™è¿”å› ``Vector3(0, 0, 0)`` ã€‚

å¦è§ :ref:`root_motion_track<class_AnimationMixer_property_root_motion_track>` å’Œ :ref:`RootMotionView<class_RootMotionView>`\ ã€‚

æœ€åŸºæœ¬çš„ä¾‹å­æ˜¯å¯¹ :ref:`CharacterBody3D<class_CharacterBody3D>` åº”ç”¨ç¼©æ”¾ã€‚


.. tabs::

 .. code-tab:: gdscript

    var current_scale: Vector3 = Vector3(1, 1, 1)
    var scale_accum: Vector3 = Vector3(1, 1, 1)
    
    func _process(delta):
        if Input.is_action_just_pressed("animate"):
            current_scale = get_scale()
            scale_accum = Vector3(1, 1, 1)
            state_machine.travel("Animate")
        scale_accum += animation_tree.get_root_motion_scale()
        set_scale(current_scale * scale_accum)



.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_get_root_motion_scale_accumulator:

.. rst-class:: classref-method

:ref:`Vector3<class_Vector3>` **get_root_motion_scale_accumulator**\ (\ ) |const| :ref:`ğŸ”—<class_AnimationMixer_method_get_root_motion_scale_accumulator>`

æ£€ç´¢å¸¦æœ‰ :ref:`root_motion_track<class_AnimationMixer_property_root_motion_track>` çš„ç¼©æ”¾è½¨é“çš„æ··åˆå€¼ï¼Œä½œä¸ºä¸€ä¸ª :ref:`Vector3<class_Vector3>`\ ï¼Œå¯ä»¥åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨ã€‚

ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªåŠ¨ç”»åœ¨å‰ä¸€å¸§åªæ’­æ”¾äº†ä¸€ä¸ªåŠ¨ç”»å¸§ ``Vector3(1, 1, 1)``\ ï¼Œå¹¶ä¸”ä¸€ä¸ªåŠ¨ç”»åœ¨åä¸€å¸§åªæ’­æ”¾äº†ä¸€ä¸ªåŠ¨ç”»å¸§ ``Vector3(2, 2, 2)``\ ï¼Œä»–ä»¬ä¹‹é—´ç›¸å·®çš„å€¼å¯ä»¥è¿™æ ·æ±‚å‡ºï¼š


.. tabs::

 .. code-tab:: gdscript

    var prev_root_motion_scale_accumulator: Vector3
    
    func _process(delta):
        if Input.is_action_just_pressed("animate"):
            state_machine.travel("Animate")
        var current_root_motion_scale_accumulator: Vector3 = animation_tree.get_root_motion_scale_accumulator()
        var difference: Vector3 = current_root_motion_scale_accumulator - prev_root_motion_scale_accumulator
        prev_root_motion_scale_accumulator = current_root_motion_scale_accumulator
        transform.basis = transform.basis.scaled(difference)



ç„¶è€Œï¼Œå½“ä¸€ä¸ªåŠ¨ç”»å¾ªç¯æ—¶ï¼Œå¯èƒ½ä¼šå¾—åˆ°ä¸€ä¸ªæ„æ–™ä¹‹å¤–çš„å˜åŒ–ï¼Œæ‰€ä»¥è¿™ä¸ªåªåœ¨ä¸€äº›ç®€å•æƒ…å†µä¸‹æ‰æœ‰ç”¨ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_has_animation:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **has_animation**\ (\ name\: :ref:`StringName<class_StringName>`\ ) |const| :ref:`ğŸ”—<class_AnimationMixer_method_has_animation>`

å¦‚æœè¯¥ **AnimationMixer** å­˜æœ‰é”®åä¸º ``name`` çš„ :ref:`Animation<class_Animation>`\ ï¼Œåˆ™è¿”å› ``true``\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_has_animation_library:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **has_animation_library**\ (\ name\: :ref:`StringName<class_StringName>`\ ) |const| :ref:`ğŸ”—<class_AnimationMixer_method_has_animation_library>`

å¦‚æœè¯¥ **AnimationMixer** å­˜æœ‰é”®åä¸º ``name`` çš„ :ref:`AnimationLibrary<class_AnimationLibrary>`\ ï¼Œåˆ™è¿”å› ``true``\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_remove_animation_library:

.. rst-class:: classref-method

|void| **remove_animation_library**\ (\ name\: :ref:`StringName<class_StringName>`\ ) :ref:`ğŸ”—<class_AnimationMixer_method_remove_animation_library>`

ç§»é™¤ä¸é”® ``name`` å…³è”çš„ :ref:`AnimationLibrary<class_AnimationLibrary>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AnimationMixer_method_rename_animation_library:

.. rst-class:: classref-method

|void| **rename_animation_library**\ (\ name\: :ref:`StringName<class_StringName>`, newname\: :ref:`StringName<class_StringName>`\ ) :ref:`ğŸ”—<class_AnimationMixer_method_rename_animation_library>`

å°†ä¸é”® ``name`` å…³è”çš„ :ref:`AnimationLibrary<class_AnimationLibrary>` ç§»åŠ¨åˆ°é”® ``newname``\ ã€‚

.. |virtual| replace:: :abbr:`virtual (æœ¬æ–¹æ³•é€šå¸¸éœ€è¦ç”¨æˆ·è¦†ç›–æ‰èƒ½ç”Ÿæ•ˆã€‚)`
.. |const| replace:: :abbr:`const (æœ¬æ–¹æ³•æ²¡æœ‰å‰¯ä½œç”¨ï¼Œä¸ä¼šä¿®æ”¹è¯¥å®ä¾‹çš„ä»»ä½•æˆå‘˜å˜é‡ã€‚)`
.. |vararg| replace:: :abbr:`vararg (æœ¬æ–¹æ³•é™¤äº†èƒ½æ¥å—åœ¨æ­¤å¤„æè¿°çš„å‚æ•°å¤–ï¼Œè¿˜èƒ½å¤Ÿç»§ç»­æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ã€‚)`
.. |constructor| replace:: :abbr:`constructor (æœ¬æ–¹æ³•ç”¨äºæ„é€ æŸä¸ªç±»å‹ã€‚)`
.. |static| replace:: :abbr:`static (è°ƒç”¨æœ¬æ–¹æ³•æ— éœ€å®ä¾‹ï¼Œå¯ç›´æ¥ä½¿ç”¨ç±»åè¿›è¡Œè°ƒç”¨ã€‚)`
.. |operator| replace:: :abbr:`operator (æœ¬æ–¹æ³•æè¿°çš„æ˜¯ä½¿ç”¨æœ¬ç±»å‹ä½œä¸ºå·¦æ“ä½œæ•°çš„æœ‰æ•ˆæ“ä½œç¬¦ã€‚)`
.. |bitfield| replace:: :abbr:`BitField (è¿™ä¸ªå€¼æ˜¯ç”±ä¸‹åˆ—æ ‡å¿—æ„æˆçš„ä½æ©ç æ•´æ•°ã€‚)`
.. |void| replace:: :abbr:`void (æ— è¿”å›å€¼ã€‚)`
