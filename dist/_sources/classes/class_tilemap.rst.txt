:github_url: hide

.. meta::
	:keywords: gridmap

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/doc/classes/TileMap.xml.

.. _class_TileMap:

TileMap
=======

**å·²å¼ƒç”¨ï¼š** Use multiple :ref:`TileMapLayer<class_TileMapLayer>` nodes instead.

**ç»§æ‰¿ï¼š** :ref:`Node2D<class_Node2D>` **<** :ref:`CanvasItem<class_CanvasItem>` **<** :ref:`Node<class_Node>` **<** :ref:`Object<class_Object>`

åŸºäº 2D å›¾å—çš„åœ°å›¾èŠ‚ç‚¹ã€‚

.. rst-class:: classref-introduction-group

æè¿°
----

åŸºäº 2D å›¾å—çš„åœ°å›¾èŠ‚ç‚¹ã€‚Tilemapï¼ˆå›¾å—åœ°å›¾ï¼‰ä½¿ç”¨ :ref:`TileSet<class_TileSet>`\ ï¼Œå…¶ä¸­åŒ…å«äº†å›¾å—çš„åˆ—è¡¨ï¼Œç”¨äºåˆ›å»ºåŸºäºæ …æ ¼çš„åœ°å›¾ã€‚TileMap å¯ä»¥æœ‰è‹¥å¹²å›¾å±‚ï¼Œå¯ä»¥å°†å›¾å—å¸ƒå±€åœ¨å½¼æ­¤ä¹‹ä¸Šã€‚

å‡ºäºæ€§èƒ½åŸå› ï¼Œæ‰€æœ‰ TileMap æ›´æ–°éƒ½ä¼šåœ¨ä¸€å¸§ç»“æŸæ—¶è¿›è¡Œæ‰¹å¤„ç†ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™æ„å‘³ç€ :ref:`TileSetScenesCollectionSource<class_TileSetScenesCollectionSource>` ä¸­çš„åœºæ™¯å›¾å—å¯èƒ½ä¼šåœ¨å…¶çˆ¶çº§ä¹‹ååˆå§‹åŒ–ã€‚ä»…å½“åœ¨åœºæ™¯æ ‘å†…æ—¶æ‰ä¼šæ’é˜Ÿã€‚

è¦æå‰å¼ºåˆ¶æ›´æ–°ï¼Œè¯·è°ƒç”¨ :ref:`update_internals<class_TileMap_method_update_internals>`\ ã€‚

.. rst-class:: classref-introduction-group

æ•™ç¨‹
----

- :doc:`ä½¿ç”¨ Tilemap <../tutorials/2d/using_tilemaps>`

- `2D å¹³å°è·³è·ƒæ¼”ç¤º <https://godotengine.org/asset-library/asset/2727>`__

- `2D ç­‰è½´æ¼”ç¤º <https://godotengine.org/asset-library/asset/2718>`__

- `2D å…­è¾¹å½¢æ¼”ç¤º <https://godotengine.org/asset-library/asset/2717>`__

- `AStarGrid2D çš„ 2D ç½‘æ ¼å¯¼èˆªæ¼”ç¤º <https://godotengine.org/asset-library/asset/2723>`__

- `2D è§’è‰²æ‰®æ¼”æ¸¸æˆï¼ˆRPGï¼‰æ¼”ç¤º <https://godotengine.org/asset-library/asset/2729>`__

- `2D è¿åŠ¨å­¦è§’è‰²æ¼”ç¤º <https://godotengine.org/asset-library/asset/2719>`__

.. rst-class:: classref-reftable-group

å±æ€§
----

.. table::
   :widths: auto

   +----------------------------------------------------+--------------------------------------------------------------------------------------+-----------+
   | :ref:`bool<class_bool>`                            | :ref:`collision_animatable<class_TileMap_property_collision_animatable>`             | ``false`` |
   +----------------------------------------------------+--------------------------------------------------------------------------------------+-----------+
   | :ref:`VisibilityMode<enum_TileMap_VisibilityMode>` | :ref:`collision_visibility_mode<class_TileMap_property_collision_visibility_mode>`   | ``0``     |
   +----------------------------------------------------+--------------------------------------------------------------------------------------+-----------+
   | :ref:`VisibilityMode<enum_TileMap_VisibilityMode>` | :ref:`navigation_visibility_mode<class_TileMap_property_navigation_visibility_mode>` | ``0``     |
   +----------------------------------------------------+--------------------------------------------------------------------------------------+-----------+
   | :ref:`int<class_int>`                              | :ref:`rendering_quadrant_size<class_TileMap_property_rendering_quadrant_size>`       | ``16``    |
   +----------------------------------------------------+--------------------------------------------------------------------------------------+-----------+
   | :ref:`TileSet<class_TileSet>`                      | :ref:`tile_set<class_TileMap_property_tile_set>`                                     |           |
   +----------------------------------------------------+--------------------------------------------------------------------------------------+-----------+

.. rst-class:: classref-reftable-group

æ–¹æ³•
----

.. table::
   :widths: auto

   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`_tile_data_runtime_update<class_TileMap_private_method__tile_data_runtime_update>`\ (\ layer\: :ref:`int<class_int>`, coords\: :ref:`Vector2i<class_Vector2i>`, tile_data\: :ref:`TileData<class_TileData>`\ ) |virtual|                                                                                            |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                                      | :ref:`_use_tile_data_runtime_update<class_TileMap_private_method__use_tile_data_runtime_update>`\ (\ layer\: :ref:`int<class_int>`, coords\: :ref:`Vector2i<class_Vector2i>`\ ) |virtual|                                                                                                                                 |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`add_layer<class_TileMap_method_add_layer>`\ (\ to_position\: :ref:`int<class_int>`\ )                                                                                                                                                                                                                               |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`clear<class_TileMap_method_clear>`\ (\ )                                                                                                                                                                                                                                                                            |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`clear_layer<class_TileMap_method_clear_layer>`\ (\ layer\: :ref:`int<class_int>`\ )                                                                                                                                                                                                                                 |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`erase_cell<class_TileMap_method_erase_cell>`\ (\ layer\: :ref:`int<class_int>`, coords\: :ref:`Vector2i<class_Vector2i>`\ )                                                                                                                                                                                         |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`fix_invalid_tiles<class_TileMap_method_fix_invalid_tiles>`\ (\ )                                                                                                                                                                                                                                                    |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`force_update<class_TileMap_method_force_update>`\ (\ layer\: :ref:`int<class_int>` = -1\ )                                                                                                                                                                                                                          |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                        | :ref:`get_cell_alternative_tile<class_TileMap_method_get_cell_alternative_tile>`\ (\ layer\: :ref:`int<class_int>`, coords\: :ref:`Vector2i<class_Vector2i>`, use_proxies\: :ref:`bool<class_bool>` = false\ ) |const|                                                                                                    |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2i<class_Vector2i>`                              | :ref:`get_cell_atlas_coords<class_TileMap_method_get_cell_atlas_coords>`\ (\ layer\: :ref:`int<class_int>`, coords\: :ref:`Vector2i<class_Vector2i>`, use_proxies\: :ref:`bool<class_bool>` = false\ ) |const|                                                                                                            |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                        | :ref:`get_cell_source_id<class_TileMap_method_get_cell_source_id>`\ (\ layer\: :ref:`int<class_int>`, coords\: :ref:`Vector2i<class_Vector2i>`, use_proxies\: :ref:`bool<class_bool>` = false\ ) |const|                                                                                                                  |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`TileData<class_TileData>`                              | :ref:`get_cell_tile_data<class_TileMap_method_get_cell_tile_data>`\ (\ layer\: :ref:`int<class_int>`, coords\: :ref:`Vector2i<class_Vector2i>`, use_proxies\: :ref:`bool<class_bool>` = false\ ) |const|                                                                                                                  |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2i<class_Vector2i>`                              | :ref:`get_coords_for_body_rid<class_TileMap_method_get_coords_for_body_rid>`\ (\ body\: :ref:`RID<class_RID>`\ )                                                                                                                                                                                                          |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                        | :ref:`get_layer_for_body_rid<class_TileMap_method_get_layer_for_body_rid>`\ (\ body\: :ref:`RID<class_RID>`\ )                                                                                                                                                                                                            |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Color<class_Color>`                                    | :ref:`get_layer_modulate<class_TileMap_method_get_layer_modulate>`\ (\ layer\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                                                           |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`String<class_String>`                                  | :ref:`get_layer_name<class_TileMap_method_get_layer_name>`\ (\ layer\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                                                                   |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`RID<class_RID>`                                        | :ref:`get_layer_navigation_map<class_TileMap_method_get_layer_navigation_map>`\ (\ layer\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                                               |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                        | :ref:`get_layer_y_sort_origin<class_TileMap_method_get_layer_y_sort_origin>`\ (\ layer\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                                                 |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                        | :ref:`get_layer_z_index<class_TileMap_method_get_layer_z_index>`\ (\ layer\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                                                             |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                        | :ref:`get_layers_count<class_TileMap_method_get_layers_count>`\ (\ ) |const|                                                                                                                                                                                                                                              |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`RID<class_RID>`                                        | :ref:`get_navigation_map<class_TileMap_method_get_navigation_map>`\ (\ layer\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                                                           |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2i<class_Vector2i>`                              | :ref:`get_neighbor_cell<class_TileMap_method_get_neighbor_cell>`\ (\ coords\: :ref:`Vector2i<class_Vector2i>`, neighbor\: :ref:`CellNeighbor<enum_TileSet_CellNeighbor>`\ ) |const|                                                                                                                                       |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`TileMapPattern<class_TileMapPattern>`                  | :ref:`get_pattern<class_TileMap_method_get_pattern>`\ (\ layer\: :ref:`int<class_int>`, coords_array\: :ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\]\ )                                                                                                                                                    |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\] | :ref:`get_surrounding_cells<class_TileMap_method_get_surrounding_cells>`\ (\ coords\: :ref:`Vector2i<class_Vector2i>`\ )                                                                                                                                                                                                  |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\] | :ref:`get_used_cells<class_TileMap_method_get_used_cells>`\ (\ layer\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                                                                   |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\] | :ref:`get_used_cells_by_id<class_TileMap_method_get_used_cells_by_id>`\ (\ layer\: :ref:`int<class_int>`, source_id\: :ref:`int<class_int>` = -1, atlas_coords\: :ref:`Vector2i<class_Vector2i>` = Vector2i(-1, -1), alternative_tile\: :ref:`int<class_int>` = -1\ ) |const|                                             |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Rect2i<class_Rect2i>`                                  | :ref:`get_used_rect<class_TileMap_method_get_used_rect>`\ (\ ) |const|                                                                                                                                                                                                                                                    |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                                      | :ref:`is_layer_enabled<class_TileMap_method_is_layer_enabled>`\ (\ layer\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                                                               |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                                      | :ref:`is_layer_navigation_enabled<class_TileMap_method_is_layer_navigation_enabled>`\ (\ layer\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                                         |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                                      | :ref:`is_layer_y_sort_enabled<class_TileMap_method_is_layer_y_sort_enabled>`\ (\ layer\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                                                 |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2i<class_Vector2i>`                              | :ref:`local_to_map<class_TileMap_method_local_to_map>`\ (\ local_position\: :ref:`Vector2<class_Vector2>`\ ) |const|                                                                                                                                                                                                      |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2i<class_Vector2i>`                              | :ref:`map_pattern<class_TileMap_method_map_pattern>`\ (\ position_in_tilemap\: :ref:`Vector2i<class_Vector2i>`, coords_in_pattern\: :ref:`Vector2i<class_Vector2i>`, pattern\: :ref:`TileMapPattern<class_TileMapPattern>`\ )                                                                                             |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2<class_Vector2>`                                | :ref:`map_to_local<class_TileMap_method_map_to_local>`\ (\ map_position\: :ref:`Vector2i<class_Vector2i>`\ ) |const|                                                                                                                                                                                                      |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`move_layer<class_TileMap_method_move_layer>`\ (\ layer\: :ref:`int<class_int>`, to_position\: :ref:`int<class_int>`\ )                                                                                                                                                                                              |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`notify_runtime_tile_data_update<class_TileMap_method_notify_runtime_tile_data_update>`\ (\ layer\: :ref:`int<class_int>` = -1\ )                                                                                                                                                                                    |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`remove_layer<class_TileMap_method_remove_layer>`\ (\ layer\: :ref:`int<class_int>`\ )                                                                                                                                                                                                                               |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`set_cell<class_TileMap_method_set_cell>`\ (\ layer\: :ref:`int<class_int>`, coords\: :ref:`Vector2i<class_Vector2i>`, source_id\: :ref:`int<class_int>` = -1, atlas_coords\: :ref:`Vector2i<class_Vector2i>` = Vector2i(-1, -1), alternative_tile\: :ref:`int<class_int>` = 0\ )                                    |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`set_cells_terrain_connect<class_TileMap_method_set_cells_terrain_connect>`\ (\ layer\: :ref:`int<class_int>`, cells\: :ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\], terrain_set\: :ref:`int<class_int>`, terrain\: :ref:`int<class_int>`, ignore_empty_terrains\: :ref:`bool<class_bool>` = true\ ) |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`set_cells_terrain_path<class_TileMap_method_set_cells_terrain_path>`\ (\ layer\: :ref:`int<class_int>`, path\: :ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\], terrain_set\: :ref:`int<class_int>`, terrain\: :ref:`int<class_int>`, ignore_empty_terrains\: :ref:`bool<class_bool>` = true\ )        |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`set_layer_enabled<class_TileMap_method_set_layer_enabled>`\ (\ layer\: :ref:`int<class_int>`, enabled\: :ref:`bool<class_bool>`\ )                                                                                                                                                                                  |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`set_layer_modulate<class_TileMap_method_set_layer_modulate>`\ (\ layer\: :ref:`int<class_int>`, modulate\: :ref:`Color<class_Color>`\ )                                                                                                                                                                             |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`set_layer_name<class_TileMap_method_set_layer_name>`\ (\ layer\: :ref:`int<class_int>`, name\: :ref:`String<class_String>`\ )                                                                                                                                                                                       |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`set_layer_navigation_enabled<class_TileMap_method_set_layer_navigation_enabled>`\ (\ layer\: :ref:`int<class_int>`, enabled\: :ref:`bool<class_bool>`\ )                                                                                                                                                            |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`set_layer_navigation_map<class_TileMap_method_set_layer_navigation_map>`\ (\ layer\: :ref:`int<class_int>`, map\: :ref:`RID<class_RID>`\ )                                                                                                                                                                          |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`set_layer_y_sort_enabled<class_TileMap_method_set_layer_y_sort_enabled>`\ (\ layer\: :ref:`int<class_int>`, y_sort_enabled\: :ref:`bool<class_bool>`\ )                                                                                                                                                             |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`set_layer_y_sort_origin<class_TileMap_method_set_layer_y_sort_origin>`\ (\ layer\: :ref:`int<class_int>`, y_sort_origin\: :ref:`int<class_int>`\ )                                                                                                                                                                  |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`set_layer_z_index<class_TileMap_method_set_layer_z_index>`\ (\ layer\: :ref:`int<class_int>`, z_index\: :ref:`int<class_int>`\ )                                                                                                                                                                                    |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`set_navigation_map<class_TileMap_method_set_navigation_map>`\ (\ layer\: :ref:`int<class_int>`, map\: :ref:`RID<class_RID>`\ )                                                                                                                                                                                      |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`set_pattern<class_TileMap_method_set_pattern>`\ (\ layer\: :ref:`int<class_int>`, position\: :ref:`Vector2i<class_Vector2i>`, pattern\: :ref:`TileMapPattern<class_TileMapPattern>`\ )                                                                                                                              |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                       | :ref:`update_internals<class_TileMap_method_update_internals>`\ (\ )                                                                                                                                                                                                                                                      |
   +--------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

ä¿¡å·
----

.. _class_TileMap_signal_changed:

.. rst-class:: classref-signal

**changed**\ (\ ) :ref:`ğŸ”—<class_TileMap_signal_changed>`

è¯¥ TileMap çš„ :ref:`TileSet<class_TileSet>` å‘ç”Ÿæ”¹å˜æ—¶å‘å‡ºã€‚

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

æšä¸¾
----

.. _enum_TileMap_VisibilityMode:

.. rst-class:: classref-enumeration

enum **VisibilityMode**: :ref:`ğŸ”—<enum_TileMap_VisibilityMode>`

.. _class_TileMap_constant_VISIBILITY_MODE_DEFAULT:

.. rst-class:: classref-enumeration-constant

:ref:`VisibilityMode<enum_TileMap_VisibilityMode>` **VISIBILITY_MODE_DEFAULT** = ``0``

ä½¿ç”¨è°ƒè¯•è®¾ç½®ç¡®å®šå¯è§æ€§ã€‚

.. _class_TileMap_constant_VISIBILITY_MODE_FORCE_HIDE:

.. rst-class:: classref-enumeration-constant

:ref:`VisibilityMode<enum_TileMap_VisibilityMode>` **VISIBILITY_MODE_FORCE_HIDE** = ``2``

å§‹ç»ˆéšè—ã€‚

.. _class_TileMap_constant_VISIBILITY_MODE_FORCE_SHOW:

.. rst-class:: classref-enumeration-constant

:ref:`VisibilityMode<enum_TileMap_VisibilityMode>` **VISIBILITY_MODE_FORCE_SHOW** = ``1``

å§‹ç»ˆæ˜¾ç¤ºã€‚

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

å±æ€§è¯´æ˜
--------

.. _class_TileMap_property_collision_animatable:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **collision_animatable** = ``false`` :ref:`ğŸ”—<class_TileMap_property_collision_animatable>`

.. rst-class:: classref-property-setget

- |void| **set_collision_animatable**\ (\ value\: :ref:`bool<class_bool>`\ )
- :ref:`bool<class_bool>` **is_collision_animatable**\ (\ )

å¦‚æœå¯ç”¨ï¼ŒTileMap å°†çœ‹åˆ°å®ƒçš„ç¢°æ’åŒæ­¥åˆ°ç‰©ç†å‘¨æœŸå¹¶å°†å…¶ç¢°æ’ç±»å‹ä»é™æ€æ›´æ”¹ä¸ºè¿åŠ¨å­¦ã€‚è¿™æ˜¯åˆ›å»ºåŸºäº TileMap çš„ç§»åŠ¨çš„å¹³å°æ‰€å¿…éœ€çš„ã€‚

\ **æ³¨æ„ï¼š**\ å¯ç”¨ :ref:`collision_animatable<class_TileMap_property_collision_animatable>` å¯èƒ½ä¼šå¯¹æ€§èƒ½äº§ç”Ÿä¸€ä¸ªå¾ˆå°çš„å½±å“ï¼Œåªæœ‰åœ¨è¯¥ TileMap æ­£åœ¨ç§»åŠ¨å¹¶ä¸”æœ‰ç¢°æ’çš„å›¾å—æ—¶æ‰è¿™æ ·åšã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_property_collision_visibility_mode:

.. rst-class:: classref-property

:ref:`VisibilityMode<enum_TileMap_VisibilityMode>` **collision_visibility_mode** = ``0`` :ref:`ğŸ”—<class_TileMap_property_collision_visibility_mode>`

.. rst-class:: classref-property-setget

- |void| **set_collision_visibility_mode**\ (\ value\: :ref:`VisibilityMode<enum_TileMap_VisibilityMode>`\ )
- :ref:`VisibilityMode<enum_TileMap_VisibilityMode>` **get_collision_visibility_mode**\ (\ )

æ˜¾ç¤ºæˆ–éšè—è¯¥ TileMap çš„ç¢°æ’å½¢çŠ¶ã€‚å¦‚æœè®¾ç½®ä¸º :ref:`VISIBILITY_MODE_DEFAULT<class_TileMap_constant_VISIBILITY_MODE_DEFAULT>`\ ï¼Œåˆ™å–å†³äºè°ƒè¯•è®¾ç½®â€œæ˜¾ç¤ºç¢°æ’â€ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_property_navigation_visibility_mode:

.. rst-class:: classref-property

:ref:`VisibilityMode<enum_TileMap_VisibilityMode>` **navigation_visibility_mode** = ``0`` :ref:`ğŸ”—<class_TileMap_property_navigation_visibility_mode>`

.. rst-class:: classref-property-setget

- |void| **set_navigation_visibility_mode**\ (\ value\: :ref:`VisibilityMode<enum_TileMap_VisibilityMode>`\ )
- :ref:`VisibilityMode<enum_TileMap_VisibilityMode>` **get_navigation_visibility_mode**\ (\ )

æ˜¾ç¤ºæˆ–éšè—è¯¥ TileMap çš„å¯¼èˆªç½‘æ ¼ã€‚å¦‚æœè®¾ç½®ä¸º :ref:`VISIBILITY_MODE_DEFAULT<class_TileMap_constant_VISIBILITY_MODE_DEFAULT>`\ ï¼Œåˆ™å–å†³äºè°ƒè¯•è®¾ç½®â€œæ˜¾ç¤ºå¯¼èˆªâ€ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_property_rendering_quadrant_size:

.. rst-class:: classref-property

:ref:`int<class_int>` **rendering_quadrant_size** = ``16`` :ref:`ğŸ”—<class_TileMap_property_rendering_quadrant_size>`

.. rst-class:: classref-property-setget

- |void| **set_rendering_quadrant_size**\ (\ value\: :ref:`int<class_int>`\ )
- :ref:`int<class_int>` **get_rendering_quadrant_size**\ (\ )

TileMap çš„è±¡é™å¤§å°ã€‚è±¡é™æ˜¯åœ¨å•ä¸ªç”»å¸ƒé¡¹ä¸Šä¸€èµ·ç»˜åˆ¶çš„ä¸€ç»„å›¾å—ï¼Œç”¨äºä¼˜åŒ–ã€‚\ :ref:`rendering_quadrant_size<class_TileMap_property_rendering_quadrant_size>` å®šä¹‰çš„æ˜¯å½¢æˆè±¡é™çš„æ­£æ–¹å½¢çš„è¾¹é•¿ï¼Œä½¿ç”¨åœ°å›¾åæ ‡ç³»ã€‚å› æ­¤ï¼Œé»˜è®¤è±¡é™å¤§å°å°† ``16 * 16 = 256`` ä¸ªå›¾å—ç»„åˆåˆ°äº†ä¸€èµ·ã€‚

Y æ’åºçš„å›¾å±‚ä¸ä½¿ç”¨è±¡é™å¤§å°ï¼Œè¿™ç§å›¾å±‚ä¸­çš„å›¾å—ä¼šæŒ‰ Y ä½ç½®åˆ†ç»„ã€‚

\ **æ³¨æ„ï¼š**\ è±¡é™æ˜¯æ ¹æ®åœ°å›¾åæ ‡ç³»åˆ›å»ºçš„ï¼Œâ€œæ­£æ–¹å½¢â€çš„è±¡é™åœ¨ TileMap çš„å±€éƒ¨åæ ‡ç³»ä¸­å¯èƒ½å¹¶ä¸æ˜¯æ­£æ–¹å½¢ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_property_tile_set:

.. rst-class:: classref-property

:ref:`TileSet<class_TileSet>` **tile_set** :ref:`ğŸ”—<class_TileMap_property_tile_set>`

.. rst-class:: classref-property-setget

- |void| **set_tileset**\ (\ value\: :ref:`TileSet<class_TileSet>`\ )
- :ref:`TileSet<class_TileSet>` **get_tileset**\ (\ )

è¯¥ **TileMap** æ‰€ä½¿ç”¨çš„ :ref:`TileSet<class_TileSet>`\ ã€‚æ‰€æœ‰å¯ç”¨å›¾å—çš„çº¹ç†ã€ç¢°æ’ä»¥åŠå…¶ä»–é¢å¤–è¡Œä¸ºéƒ½å­˜å‚¨åœ¨è¿™é‡Œã€‚

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

æ–¹æ³•è¯´æ˜
--------

.. _class_TileMap_private_method__tile_data_runtime_update:

.. rst-class:: classref-method

|void| **_tile_data_runtime_update**\ (\ layer\: :ref:`int<class_int>`, coords\: :ref:`Vector2i<class_Vector2i>`, tile_data\: :ref:`TileData<class_TileData>`\ ) |virtual| :ref:`ğŸ”—<class_TileMap_private_method__tile_data_runtime_update>`

ä¼šä½¿ç”¨ TileMap å†…éƒ¨å³å°†ä½¿ç”¨çš„ TileData å¯¹è±¡æ¥è°ƒç”¨ï¼Œä»è€Œå®ç°è¿è¡Œæ—¶ä¿®æ”¹ã€‚

è¿™ä¸ªæ–¹æ³•è¢«è°ƒç”¨çš„å‰ææ˜¯ï¼šå®ç°äº† :ref:`_use_tile_data_runtime_update<class_TileMap_private_method__use_tile_data_runtime_update>`\ ï¼Œå¹¶ä¸”å¯¹ç»™å®šçš„å›¾å—åæ ‡ ``coords`` å’Œå±‚ ``layer`` è¿”å› ``true`` ã€‚

\ **è­¦å‘Šï¼š**\ è¯¥ ``tile_data`` å¯¹è±¡çš„å­èµ„æºå’Œ TileSet ä¸­çš„å­èµ„æºæ˜¯ä¸€æ ·çš„ã€‚å¯¹å®ƒä»¬è¿›è¡Œä¿®æ”¹å¯èƒ½ä¼šå½±å“æ•´ä¸ª TileSetã€‚è¯·ç¡®ä¿åˆ¶ä½œè¿™äº›èµ„æºçš„å‰¯æœ¬å†è¿›è¡Œä¿®æ”¹ã€‚

\ **æ³¨æ„ï¼š**\ å¦‚æœ ``tile_data`` å¯¹è±¡çš„å±æ€§è¦éšæ—¶é—´å˜åŒ–ï¼Œè¯·ä½¿ç”¨ :ref:`notify_runtime_tile_data_update<class_TileMap_method_notify_runtime_tile_data_update>` æ¥é€šçŸ¥è¯¥ TileMap å®ƒéœ€è¦æ›´æ–°ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_private_method__use_tile_data_runtime_update:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **_use_tile_data_runtime_update**\ (\ layer\: :ref:`int<class_int>`, coords\: :ref:`Vector2i<class_Vector2i>`\ ) |virtual| :ref:`ğŸ”—<class_TileMap_private_method__use_tile_data_runtime_update>`

å¦‚æœä½äºå±‚ ``layer`` åæ ‡ ``coords`` çš„å›¾å—éœ€è¦è¿è¡Œæ—¶æ›´æ–°ï¼Œåˆ™åº”è¿”å› ``true``\ ã€‚

\ **è­¦å‘Šï¼š**\ è¯·ç¡®ä¿è¿™ä¸ªå‡½æ•°åªåœ¨éœ€è¦æ—¶è¿”å› ``true``\ ã€‚ä»»ä½•åœ¨æ²¡æœ‰éœ€è¦çš„æƒ…å†µä¸‹åœ¨è¿è¡Œæ—¶å¤„ç†çš„å›¾å—éƒ½å°†å¯¼è‡´æ˜¾è‘—çš„æ€§èƒ½æŸå¤±ã€‚

\ **æ³¨æ„ï¼š**\ å¦‚æœè¯¥å‡½æ•°çš„ç»“æœå‘ç”Ÿå˜åŒ–ï¼Œè¯·ä½¿ç”¨ :ref:`notify_runtime_tile_data_update<class_TileMap_method_notify_runtime_tile_data_update>` é€šçŸ¥ TileMap å®ƒéœ€è¦æ›´æ–°ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_add_layer:

.. rst-class:: classref-method

|void| **add_layer**\ (\ to_position\: :ref:`int<class_int>`\ ) :ref:`ğŸ”—<class_TileMap_method_add_layer>`

åœ¨æ•°ç»„ä¸­çš„ç»™å®šä½ç½® ``to_position`` æ·»åŠ å±‚ã€‚å¦‚æœ ``to_position`` ä¸ºè´Ÿæ•°ï¼Œåˆ™ä½ç½®ä»ç»“å°¾å¤„å¼€å§‹è®¡æ•°ï¼Œ\ ``-1`` ä¼šæŠŠå±‚æ·»åŠ åœ¨æ•°ç»„çš„æœ«å°¾ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_clear:

.. rst-class:: classref-method

|void| **clear**\ (\ ) :ref:`ğŸ”—<class_TileMap_method_clear>`

æ¸…é™¤æ‰€æœ‰å•å…ƒæ ¼ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_clear_layer:

.. rst-class:: classref-method

|void| **clear_layer**\ (\ layer\: :ref:`int<class_int>`\ ) :ref:`ğŸ”—<class_TileMap_method_clear_layer>`

æ¸…é™¤ç»™å®šå›¾å±‚ä¸Šçš„æ‰€æœ‰å•å…ƒæ ¼ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_erase_cell:

.. rst-class:: classref-method

|void| **erase_cell**\ (\ layer\: :ref:`int<class_int>`, coords\: :ref:`Vector2i<class_Vector2i>`\ ) :ref:`ğŸ”—<class_TileMap_method_erase_cell>`

æ“¦é™¤å›¾å±‚ ``layer`` ä¸Šä½äº ``coords`` åæ ‡çš„å•å…ƒæ ¼ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_fix_invalid_tiles:

.. rst-class:: classref-method

|void| **fix_invalid_tiles**\ (\ ) :ref:`ğŸ”—<class_TileMap_method_fix_invalid_tiles>`

æ¸…é™¤å›¾å—é›†ä¸­ä¸å­˜åœ¨çš„å•å…ƒæ ¼ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_force_update:

.. rst-class:: classref-method

|void| **force_update**\ (\ layer\: :ref:`int<class_int>` = -1\ ) :ref:`ğŸ”—<class_TileMap_method_force_update>`

**å·²å¼ƒç”¨ï¼š** Use :ref:`notify_runtime_tile_data_update<class_TileMap_method_notify_runtime_tile_data_update>` and/or :ref:`update_internals<class_TileMap_method_update_internals>` instead.

å¼ºåˆ¶æ›´æ–° TileMap å’Œå›¾å±‚ ``layer``\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_get_cell_alternative_tile:

.. rst-class:: classref-method

:ref:`int<class_int>` **get_cell_alternative_tile**\ (\ layer\: :ref:`int<class_int>`, coords\: :ref:`Vector2i<class_Vector2i>`, use_proxies\: :ref:`bool<class_bool>` = false\ ) |const| :ref:`ğŸ”—<class_TileMap_method_get_cell_alternative_tile>`

è¿”å› ``layer`` å±‚ä¸­ä½äºåæ ‡ ``coords`` å•å…ƒæ ¼çš„å›¾å—å¤‡é€‰ IDã€‚

å¦‚æœ ``use_proxies`` ä¸º ``false``\ ï¼Œåˆ™ä¼šå¿½ç•¥è¯¥ :ref:`TileSet<class_TileSet>` çš„å›¾å—ä»£ç†ï¼Œè¿”å›åŸå§‹çš„å¤‡é€‰æ ‡è¯†ç¬¦ã€‚è§ :ref:`TileSet.map_tile_proxy<class_TileSet_method_map_tile_proxy>`\ ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_get_cell_atlas_coords:

.. rst-class:: classref-method

:ref:`Vector2i<class_Vector2i>` **get_cell_atlas_coords**\ (\ layer\: :ref:`int<class_int>`, coords\: :ref:`Vector2i<class_Vector2i>`, use_proxies\: :ref:`bool<class_bool>` = false\ ) |const| :ref:`ğŸ”—<class_TileMap_method_get_cell_atlas_coords>`

è¿”å›å›¾å±‚ ``layer`` ä¸Šåæ ‡ ``coords`` å¤„å•å…ƒæ ¼çš„å›¾å—åœ°å›¾é›†åæ ‡ IDã€‚å¦‚æœå•å…ƒæ ¼ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› ``Vector2i(-1, -1)``\ ã€‚

å¦‚æœ ``use_proxies`` ä¸º ``false``\ ï¼Œåˆ™å¿½ç•¥ :ref:`TileSet<class_TileSet>` çš„å›¾å—ä»£ç†ï¼Œè¿”å›åŸå§‹å›¾é›†åæ ‡æ ‡è¯†ç¬¦ã€‚è¯·å‚é˜… :ref:`TileSet.map_tile_proxy<class_TileSet_method_map_tile_proxy>`\ ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_get_cell_source_id:

.. rst-class:: classref-method

:ref:`int<class_int>` **get_cell_source_id**\ (\ layer\: :ref:`int<class_int>`, coords\: :ref:`Vector2i<class_Vector2i>`, use_proxies\: :ref:`bool<class_bool>` = false\ ) |const| :ref:`ğŸ”—<class_TileMap_method_get_cell_source_id>`

è¿”å›åæ ‡ ``coords`` å¤„å›¾å±‚ ``layer`` ä¸Šå•å…ƒæ ¼çš„å›¾å—æº IDã€‚å¦‚æœå•å…ƒæ ¼ä¸å­˜åœ¨ï¼Œåˆ™è¿”å› ``-1``\ ã€‚

å¦‚æœ ``use_proxies`` ä¸º ``false``\ ï¼Œåˆ™å¿½ç•¥ :ref:`TileSet<class_TileSet>` çš„å›¾å—ä»£ç†ï¼Œè¿”å›åŸå§‹æºæ ‡è¯†ç¬¦ã€‚è¯·å‚é˜… :ref:`TileSet.map_tile_proxy<class_TileSet_method_map_tile_proxy>`\ ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_get_cell_tile_data:

.. rst-class:: classref-method

:ref:`TileData<class_TileData>` **get_cell_tile_data**\ (\ layer\: :ref:`int<class_int>`, coords\: :ref:`Vector2i<class_Vector2i>`, use_proxies\: :ref:`bool<class_bool>` = false\ ) |const| :ref:`ğŸ”—<class_TileMap_method_get_cell_tile_data>`

è¿”å›ä¸ç»™å®šå•å…ƒæ ¼å…³è”çš„ :ref:`TileData<class_TileData>` å¯¹è±¡ï¼Œå¦‚æœå•å…ƒæ ¼ä¸å­˜åœ¨æˆ–è€…ä¸æ˜¯ :ref:`TileSetAtlasSource<class_TileSetAtlasSource>` åˆ™è¿”å› ``null``\ ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

::

    func get_clicked_tile_power():
        var clicked_cell = tile_map.local_to_map(tile_map.get_local_mouse_position())
        var data = tile_map.get_cell_tile_data(0, clicked_cell)
        if data:
            return data.get_custom_data("power")
        else:
            return 0

å¦‚æœ ``use_proxies`` ä¸º ``false``\ ï¼Œåˆ™ä¼šå¿½ç•¥ :ref:`TileSet<class_TileSet>` çš„å›¾å—ä»£ç†ã€‚è§ :ref:`TileSet.map_tile_proxy<class_TileSet_method_map_tile_proxy>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_get_coords_for_body_rid:

.. rst-class:: classref-method

:ref:`Vector2i<class_Vector2i>` **get_coords_for_body_rid**\ (\ body\: :ref:`RID<class_RID>`\ ) :ref:`ğŸ”—<class_TileMap_method_get_coords_for_body_rid>`

è¿”å›ç»™å®šç‰©ç†ç‰©ä½“ RID å¯¹åº”å›¾å—çš„åæ ‡ã€‚ä¸å›¾å—å‘ç”Ÿç¢°æ’æ—¶ï¼Œå¯ä»¥é€šè¿‡ :ref:`KinematicCollision2D.get_collider_rid<class_KinematicCollision2D_method_get_collider_rid>` è·å–è¯¥ RIDã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_get_layer_for_body_rid:

.. rst-class:: classref-method

:ref:`int<class_int>` **get_layer_for_body_rid**\ (\ body\: :ref:`RID<class_RID>`\ ) :ref:`ğŸ”—<class_TileMap_method_get_layer_for_body_rid>`

è¿”å›ç»™å®šç‰©ç†ç‰©ä½“ RID å¯¹åº”å›¾å—çš„ TileMap å›¾å±‚ã€‚ä¸å›¾å—å‘ç”Ÿç¢°æ’æ—¶ï¼Œå¯ä»¥é€šè¿‡ :ref:`KinematicCollision2D.get_collider_rid<class_KinematicCollision2D_method_get_collider_rid>` è·å–è¯¥ RIDã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_get_layer_modulate:

.. rst-class:: classref-method

:ref:`Color<class_Color>` **get_layer_modulate**\ (\ layer\: :ref:`int<class_int>`\ ) |const| :ref:`ğŸ”—<class_TileMap_method_get_layer_modulate>`

è¿”å› TileMap å›¾å±‚çš„è°ƒåˆ¶é¢œè‰²ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_get_layer_name:

.. rst-class:: classref-method

:ref:`String<class_String>` **get_layer_name**\ (\ layer\: :ref:`int<class_int>`\ ) |const| :ref:`ğŸ”—<class_TileMap_method_get_layer_name>`

è¿”å› TileMap å›¾å±‚çš„åç§°ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_get_layer_navigation_map:

.. rst-class:: classref-method

:ref:`RID<class_RID>` **get_layer_navigation_map**\ (\ layer\: :ref:`int<class_int>`\ ) |const| :ref:`ğŸ”—<class_TileMap_method_get_layer_navigation_map>`

è¿”å›åˆ†é…ç»™æŒ‡å®š TileMap å›¾å±‚ ``layer`` çš„ :ref:`NavigationServer2D<class_NavigationServer2D>` å¯¼èˆªåœ°å›¾çš„ :ref:`RID<class_RID>`\ ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒTileMap ä¸ºç¬¬ä¸€ä¸ª TileMap å±‚ï¼Œä½¿ç”¨é»˜è®¤çš„ :ref:`World2D<class_World2D>` å¯¼èˆªåœ°å›¾ã€‚å¯¹äºæ¯ä¸ªé™„åŠ çš„ TileMap å±‚ï¼Œéƒ½ä¼šä¸ºé™„åŠ å±‚åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¼èˆªåœ°å›¾ã€‚

ä¸ºäº†ä½¿ :ref:`NavigationAgent2D<class_NavigationAgent2D>` åœ¨ TileMap å±‚å¯¼èˆªåœ°å›¾ä¹‹é—´åˆ‡æ¢ï¼Œä½¿ç”¨ :ref:`NavigationAgent2D.set_navigation_map<class_NavigationAgent2D_method_set_navigation_map>` å’Œä» :ref:`get_navigation_map<class_TileMap_method_get_navigation_map>` æ¥æ”¶çš„å¯¼èˆªåœ°å›¾ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_get_layer_y_sort_origin:

.. rst-class:: classref-method

:ref:`int<class_int>` **get_layer_y_sort_origin**\ (\ layer\: :ref:`int<class_int>`\ ) |const| :ref:`ğŸ”—<class_TileMap_method_get_layer_y_sort_origin>`

è¿”å› TileMap å›¾å±‚çš„ Y æ’åºåŸç‚¹ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_get_layer_z_index:

.. rst-class:: classref-method

:ref:`int<class_int>` **get_layer_z_index**\ (\ layer\: :ref:`int<class_int>`\ ) |const| :ref:`ğŸ”—<class_TileMap_method_get_layer_z_index>`

è¿”å› TileMap å›¾å±‚çš„ Z ç´¢å¼•å€¼ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_get_layers_count:

.. rst-class:: classref-method

:ref:`int<class_int>` **get_layers_count**\ (\ ) |const| :ref:`ğŸ”—<class_TileMap_method_get_layers_count>`

è¿”å› TileMap å›¾å±‚çš„æ•°é‡ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_get_navigation_map:

.. rst-class:: classref-method

:ref:`RID<class_RID>` **get_navigation_map**\ (\ layer\: :ref:`int<class_int>`\ ) |const| :ref:`ğŸ”—<class_TileMap_method_get_navigation_map>`

**å·²å¼ƒç”¨ï¼š** Use :ref:`get_layer_navigation_map<class_TileMap_method_get_layer_navigation_map>` instead.

è¿”å›åˆ†é…ç»™æŒ‡å®š TileMap å›¾å±‚ ``layer`` çš„ :ref:`NavigationServer2D<class_NavigationServer2D>` å¯¼èˆªåœ°å›¾çš„ :ref:`RID<class_RID>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_get_neighbor_cell:

.. rst-class:: classref-method

:ref:`Vector2i<class_Vector2i>` **get_neighbor_cell**\ (\ coords\: :ref:`Vector2i<class_Vector2i>`, neighbor\: :ref:`CellNeighbor<enum_TileSet_CellNeighbor>`\ ) |const| :ref:`ğŸ”—<class_TileMap_method_get_neighbor_cell>`

è¿”å›ä¸ä½äºåæ ‡ ``coords`` çš„å•å…ƒæ ¼ç›¸é‚»çš„å•å…ƒæ ¼ï¼Œæ–¹å‘ç”± ``neighbor`` è¡¨ç¤ºã€‚è¿™ä¸ªæ–¹æ³•ä¼šè€ƒè™‘ TileMap çš„ä¸åŒå¸ƒå±€ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_get_pattern:

.. rst-class:: classref-method

:ref:`TileMapPattern<class_TileMapPattern>` **get_pattern**\ (\ layer\: :ref:`int<class_int>`, coords_array\: :ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\]\ ) :ref:`ğŸ”—<class_TileMap_method_get_pattern>`

æ ¹æ®ç»™å®šçš„å›¾å±‚å’Œå•å…ƒæ ¼æ–°å»º :ref:`TileMapPattern<class_TileMapPattern>`\ ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_get_surrounding_cells:

.. rst-class:: classref-method

:ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\] **get_surrounding_cells**\ (\ coords\: :ref:`Vector2i<class_Vector2i>`\ ) :ref:`ğŸ”—<class_TileMap_method_get_surrounding_cells>`

è¿”å›ä¸ ``coords`` å¤„çš„å•å…ƒæ ¼ç›¸é‚»çš„æ‰€æœ‰å•å…ƒæ ¼çš„åˆ—è¡¨ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_get_used_cells:

.. rst-class:: classref-method

:ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\] **get_used_cells**\ (\ layer\: :ref:`int<class_int>`\ ) |const| :ref:`ğŸ”—<class_TileMap_method_get_used_cells>`

è¿”å› :ref:`Vector2i<class_Vector2i>` æ•°ç»„ï¼Œå…¶ä¸­å­˜æ”¾çš„æ˜¯ç»™å®šå›¾å±‚ä¸­æ‰€æœ‰åŒ…å«å›¾å—çš„å•å…ƒæ ¼çš„ä½ç½®ã€‚ç©ºå•å…ƒæ ¼çš„æºæ ‡è¯†ç¬¦ç­‰äº -1ã€å›¾é›†åæ ‡æ ‡è¯†ç¬¦ä¸º ``Vector2(-1, -1)``\ ã€å¤‡é€‰æ ‡è¯†ç¬¦ä¸º -1ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_get_used_cells_by_id:

.. rst-class:: classref-method

:ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\] **get_used_cells_by_id**\ (\ layer\: :ref:`int<class_int>`, source_id\: :ref:`int<class_int>` = -1, atlas_coords\: :ref:`Vector2i<class_Vector2i>` = Vector2i(-1, -1), alternative_tile\: :ref:`int<class_int>` = -1\ ) |const| :ref:`ğŸ”—<class_TileMap_method_get_used_cells_by_id>`

è¿”å› :ref:`Vector2i<class_Vector2i>` æ•°ç»„ï¼Œå…¶ä¸­å­˜æ”¾çš„æ˜¯ç»™å®šå›¾å±‚ä¸­æ‰€æœ‰åŒ…å«å›¾å—çš„å•å…ƒæ ¼çš„ä½ç½®ã€‚å¯ä»¥æ ¹æ®æºï¼ˆ\ ``source_id``\ ï¼‰ã€å›¾é›†åæ ‡ï¼ˆ\ ``atlas_coords``\ ï¼‰ã€å¤‡é€‰ IDï¼ˆ\ ``alternative_tile``\ ï¼‰è¿›è¡Œè¿‡æ»¤ã€‚

å¦‚æœæŸä¸ªå‚æ•°ä¸ºé»˜è®¤å€¼ï¼Œåˆ™è¯¥å‚æ•°ä¸ä¼šç”¨äºå•å…ƒæ ¼çš„è¿‡æ»¤ã€‚å› æ­¤ï¼Œå¦‚æœæ‰€æœ‰å‚æ•°éƒ½ä½¿ç”¨é»˜è®¤å€¼ï¼Œåˆ™è¿”å›çš„ç»“æœä¸ :ref:`get_used_cells<class_TileMap_method_get_used_cells>` ç›¸åŒã€‚

ç©ºå•å…ƒæ ¼çš„æºæ ‡è¯†ç¬¦ç­‰äº -1ã€å›¾é›†åæ ‡æ ‡è¯†ç¬¦ä¸º ``Vector2(-1, -1)``\ ã€å¤‡é€‰æ ‡è¯†ç¬¦ä¸º -1ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_get_used_rect:

.. rst-class:: classref-method

:ref:`Rect2i<class_Rect2i>` **get_used_rect**\ (\ ) |const| :ref:`ğŸ”—<class_TileMap_method_get_used_rect>`

è¿”å›è¯¥åœ°å›¾çš„åŒ…å›´çŸ©å½¢ï¼ŒåŒ…å›´æ‰€æœ‰å›¾å±‚ä¸­çš„å·²ä½¿ç”¨ï¼ˆéç©ºï¼‰çš„å›¾å—ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_is_layer_enabled:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **is_layer_enabled**\ (\ layer\: :ref:`int<class_int>`\ ) |const| :ref:`ğŸ”—<class_TileMap_method_is_layer_enabled>`

è¿”å›æŸä¸ªå›¾å±‚æ˜¯å¦å·²å¯ç”¨ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_is_layer_navigation_enabled:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **is_layer_navigation_enabled**\ (\ layer\: :ref:`int<class_int>`\ ) |const| :ref:`ğŸ”—<class_TileMap_method_is_layer_navigation_enabled>`

è¿”å›æ˜¯å¦å¯ç”¨å›¾å±‚çš„å†…ç½®å¯¼èˆªåŒºå—ç”Ÿæˆã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_is_layer_y_sort_enabled:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **is_layer_y_sort_enabled**\ (\ layer\: :ref:`int<class_int>`\ ) |const| :ref:`ğŸ”—<class_TileMap_method_is_layer_y_sort_enabled>`

è¿”å›æŸä¸ªå›¾å±‚æ˜¯å¦ä¼šå¯¹å›¾å—è¿›è¡Œ Y æ’åºã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_local_to_map:

.. rst-class:: classref-method

:ref:`Vector2i<class_Vector2i>` **local_to_map**\ (\ local_position\: :ref:`Vector2<class_Vector2>`\ ) |const| :ref:`ğŸ”—<class_TileMap_method_local_to_map>`

è¿”å›åŒ…å«ç»™å®š ``local_position`` çš„å•å…ƒæ ¼åœ°å›¾åæ ‡ã€‚å¦‚æœ ``local_position`` ä½¿ç”¨å…¨å±€åæ ‡ï¼Œè¯·è€ƒè™‘åœ¨ä¼ å…¥è¿™ä¸ªæ–¹æ³•å‰ä½¿ç”¨ :ref:`Node2D.to_local<class_Node2D_method_to_local>`\ ã€‚å¦è§ :ref:`map_to_local<class_TileMap_method_map_to_local>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_map_pattern:

.. rst-class:: classref-method

:ref:`Vector2i<class_Vector2i>` **map_pattern**\ (\ position_in_tilemap\: :ref:`Vector2i<class_Vector2i>`, coords_in_pattern\: :ref:`Vector2i<class_Vector2i>`, pattern\: :ref:`TileMapPattern<class_TileMapPattern>`\ ) :ref:`ğŸ”—<class_TileMap_method_map_pattern>`

å¦‚æœå›¾æ¡ˆç²˜è´´åœ¨ ``position_in_tilemap`` åæ ‡å¤„ï¼ˆè¯·å‚é˜… :ref:`set_pattern<class_TileMap_method_set_pattern>`\ ï¼‰ï¼Œåˆ™è¿”å› :ref:`TileMapPattern<class_TileMapPattern>` ä¸­ç»™å®šåæ ‡ ``coords_in_pattern`` å¯¹åº”çš„å•å…ƒæ ¼åæ ‡ã€‚è¯¥æ˜ å°„æ˜¯å¿…éœ€çš„ï¼Œå› ä¸ºåœ¨åŠåç§»å›¾å—å½¢çŠ¶ä¸­ï¼Œæ˜ å°„å¯èƒ½æ— æ³•é€šè¿‡è®¡ç®— ``position_in_tile_map + coords_in_pattern`` å·¥ä½œã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_map_to_local:

.. rst-class:: classref-method

:ref:`Vector2<class_Vector2>` **map_to_local**\ (\ map_position\: :ref:`Vector2i<class_Vector2i>`\ ) |const| :ref:`ğŸ”—<class_TileMap_method_map_to_local>`

è¿”å›å•å…ƒæ ¼çš„ä¸­å¿ƒä½ç½®ï¼Œä½¿ç”¨ TileMap çš„å±€éƒ¨åæ ‡ã€‚è¦å°†è¿”å›å€¼è½¬æ¢ä¸ºå…¨å±€åæ ‡ï¼Œè¯·ä½¿ç”¨ :ref:`Node2D.to_global<class_Node2D_method_to_global>`\ ã€‚å¦è§ :ref:`local_to_map<class_TileMap_method_local_to_map>`\ ã€‚

\ **æ³¨æ„ï¼š**\ å¯èƒ½ä¸å›¾å—çš„å¯è§†ä½ç½®æ²¡æœ‰å¯¹åº”å…³ç³»ï¼Œå³å¿½ç•¥å„ä¸ªå›¾å—çš„ :ref:`TileData.texture_origin<class_TileData_property_texture_origin>` å±æ€§ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_move_layer:

.. rst-class:: classref-method

|void| **move_layer**\ (\ layer\: :ref:`int<class_int>`, to_position\: :ref:`int<class_int>`\ ) :ref:`ğŸ”—<class_TileMap_method_move_layer>`

å°†ç´¢å¼• ``layer`` å¤„çš„å›¾å±‚ç§»åŠ¨åˆ°æ•°ç»„ä¸­ç»™å®šçš„ä½ç½® ``to_position``\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_notify_runtime_tile_data_update:

.. rst-class:: classref-method

|void| **notify_runtime_tile_data_update**\ (\ layer\: :ref:`int<class_int>` = -1\ ) :ref:`ğŸ”—<class_TileMap_method_notify_runtime_tile_data_update>`

é€šçŸ¥ TileMap èŠ‚ç‚¹è°ƒç”¨ :ref:`_use_tile_data_runtime_update<class_TileMap_private_method__use_tile_data_runtime_update>` æˆ– :ref:`_tile_data_runtime_update<class_TileMap_private_method__tile_data_runtime_update>` å°†å¯¼è‡´ä¸åŒçš„ç»“æœã€‚è¿™å°†å› æ­¤è§¦å‘ TileMap æ›´æ–°ã€‚

å¦‚æœæä¾›äº† ``layer``\ ï¼Œåˆ™ä»…é€šçŸ¥ç»™å®šå±‚çš„æ›´æ”¹ã€‚å‡ºäºæ€§èƒ½åŸå› ï¼Œé€šå¸¸é¦–é€‰æä¾› ``layer`` å‚æ•°ï¼ˆå¦‚æœé€‚ç”¨ï¼‰ã€‚

\ **è­¦å‘Šï¼š**\ æ›´æ–° TileMap çš„è®¡ç®—æˆæœ¬å¾ˆé«˜ï¼Œå¹¶ä¸”å¯èƒ½ä¼šå½±å“æ€§èƒ½ã€‚å°è¯•é™åˆ¶è¯¥å‡½æ•°çš„è°ƒç”¨æ¬¡æ•°ï¼Œä»¥é¿å…ä¸å¿…è¦çš„æ›´æ–°ã€‚

\ **æ³¨æ„ï¼š**\ è¿™ä¸ä¼šè§¦å‘ TileMap çš„ç›´æ¥æ›´æ–°ï¼Œè¯¥æ›´æ–°å°†ç…§å¸¸åœ¨å¸§ç»“æŸæ—¶å®Œæˆï¼ˆé™¤éä½ è°ƒç”¨ :ref:`update_internals<class_TileMap_method_update_internals>`\ ï¼‰ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_remove_layer:

.. rst-class:: classref-method

|void| **remove_layer**\ (\ layer\: :ref:`int<class_int>`\ ) :ref:`ğŸ”—<class_TileMap_method_remove_layer>`

ç§»é™¤ç´¢å¼•ä¸º ``layer`` çš„å±‚ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_set_cell:

.. rst-class:: classref-method

|void| **set_cell**\ (\ layer\: :ref:`int<class_int>`, coords\: :ref:`Vector2i<class_Vector2i>`, source_id\: :ref:`int<class_int>` = -1, atlas_coords\: :ref:`Vector2i<class_Vector2i>` = Vector2i(-1, -1), alternative_tile\: :ref:`int<class_int>` = 0\ ) :ref:`ğŸ”—<class_TileMap_method_set_cell>`

è®¾ç½®ä½äºå±‚ ``layer`` åæ ‡ä¸º ``coords`` çš„å•å…ƒæ ¼çš„å›¾å—æ ‡è¯†ç¬¦ã€‚\ :ref:`TileSet<class_TileSet>` ä¸­çš„æ¯ä¸ªå›¾å—éƒ½ç”±ä¸‰éƒ¨åˆ†è¿›è¡Œæ ‡è¯†ï¼š

- æºæ ‡è¯†ç¬¦ ``source_id`` æ ‡è¯†çš„æ˜¯ :ref:`TileSetSource<class_TileSetSource>` æ ‡è¯†ç¬¦ã€‚è§ :ref:`TileSet.set_source_id<class_TileSet_method_set_source_id>`\ ï¼Œ

- å›¾é›†åæ ‡æ ‡è¯†ç¬¦ ``atlas_coords`` æ ‡è¯†çš„æ˜¯å›¾é›†ä¸­çš„å›¾å—åæ ‡ï¼ˆå¦‚æœä½¿ç”¨çš„æ˜¯ :ref:`TileSetAtlasSource<class_TileSetAtlasSource>` æºï¼‰ã€‚å¦‚æœä½¿ç”¨çš„æ˜¯ :ref:`TileSetScenesCollectionSource<class_TileSetScenesCollectionSource>`\ ï¼Œåº”è¯¥å§‹ç»ˆä¸º ``Vector2i(0, 0)``\ ï¼Œ

- å¤‡é€‰å›¾å—æ ‡è¯†ç¬¦ ``alternative_tile`` æ ‡è¯†çš„æ˜¯å›¾é›†ä¸­çš„å›¾å—å¤‡é€‰é¡¹ï¼ˆå¦‚æœä½¿ç”¨çš„æ˜¯ :ref:`TileSetAtlasSource<class_TileSetAtlasSource>` æºï¼‰ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯ :ref:`TileSetScenesCollectionSource<class_TileSetScenesCollectionSource>` åˆ™æ ‡è¯†çš„æ˜¯åœºæ™¯ã€‚

å¦‚æœ ``source_id`` ä¸º ``-1``\ ã€\ ``atlas_coords`` ä¸º ``Vector2i(-1, -1)`` æˆ– ``alternative_tile`` ä¸º ``-1``\ ï¼Œåˆ™ä¼šæ“¦é™¤è¯¥å•å…ƒæ ¼ã€‚æ“¦é™¤åçš„å•å…ƒæ ¼ä¸­ï¼Œ\ **æ‰€æœ‰**\ æ ‡è¯†ç¬¦éƒ½ä¼šè‡ªåŠ¨è®¾ä¸ºå¯¹åº”çš„æ— æ•ˆå€¼ï¼Œå³ ``-1``\ ã€\ ``Vector2i(-1, -1)`` å’Œ ``-1``\ ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿæ•°ï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_set_cells_terrain_connect:

.. rst-class:: classref-method

|void| **set_cells_terrain_connect**\ (\ layer\: :ref:`int<class_int>`, cells\: :ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\], terrain_set\: :ref:`int<class_int>`, terrain\: :ref:`int<class_int>`, ignore_empty_terrains\: :ref:`bool<class_bool>` = true\ ) :ref:`ğŸ”—<class_TileMap_method_set_cells_terrain_connect>`

æ›´æ–° ``cells`` åæ ‡æ•°ç»„ä¸­çš„æ‰€æœ‰å•å…ƒæ ¼ï¼Œä»¥ä¾¿å®ƒä»¬å°†ç»™å®šçš„ ``terrain`` ç”¨äºç»™å®šçš„ ``terrain_set``\ ã€‚å¦‚æœä¸€ä¸ªæ›´æ–°çš„å•å…ƒæ ¼ä¸å…¶ç›¸é‚»å•å…ƒæ ¼ä¹‹ä¸€å…·æœ‰ç›¸åŒçš„åœ°å½¢ï¼Œåˆ™è¯¥å‡½æ•°ä¼šå°è¯•å°†ä¸¤è€…è¿æ¥èµ·æ¥ã€‚å¦‚æœéœ€è¦åˆ›å»ºæ­£ç¡®çš„åœ°å½¢è¿‡æ¸¡ï¼Œè¯¥å‡½æ•°å¯èƒ½ä¼šæ›´æ–°ç›¸é‚»çš„å›¾å—ã€‚

å¦‚æœ ``ignore_empty_terrains`` ä¸ºçœŸï¼Œåˆ™åœ¨å°è¯•ä¸ºç»™å®šåœ°å½¢çº¦æŸæ‰¾åˆ°æœ€åˆé€‚çš„å›¾å—æ—¶ï¼Œç©ºåœ°å½¢å°†è¢«å¿½ç•¥ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

\ **æ³¨æ„ï¼š**\ è¦æ­£å¸¸å·¥ä½œï¼Œè¿™ä¸ªæ–¹æ³•éœ€è¦ TileMap çš„ TileSet è®¾ç½®äº†å…·æœ‰æ‰€æœ‰å¿…éœ€åœ°å½¢ç»„åˆçš„åœ°å½¢ã€‚å¦åˆ™ï¼Œå¯èƒ½ä¼šäº§ç”Ÿæ„æƒ³ä¸åˆ°çš„ç»“æœã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_set_cells_terrain_path:

.. rst-class:: classref-method

|void| **set_cells_terrain_path**\ (\ layer\: :ref:`int<class_int>`, path\: :ref:`Array<class_Array>`\[:ref:`Vector2i<class_Vector2i>`\], terrain_set\: :ref:`int<class_int>`, terrain\: :ref:`int<class_int>`, ignore_empty_terrains\: :ref:`bool<class_bool>` = true\ ) :ref:`ğŸ”—<class_TileMap_method_set_cells_terrain_path>`

æ›´æ–° ``path`` åæ ‡æ•°ç»„ä¸­çš„æ‰€æœ‰å•å…ƒæ ¼ï¼Œä»¥ä¾¿å®ƒä»¬å°†ç»™å®šçš„ ``terrain`` ç”¨äºç»™å®šçš„ ``terrain_set``\ ã€‚è¯¥å‡½æ•°è¿˜å°†è¿æ¥è·¯å¾„ä¸­å…·æœ‰ç›¸åŒåœ°å½¢çš„ä¸¤ä¸ªè¿ç»­å•å…ƒæ ¼ã€‚å¦‚æœéœ€è¦åˆ›å»ºæ­£ç¡®çš„åœ°å½¢è¿‡æ¸¡ï¼Œè¯¥å‡½æ•°å¯èƒ½ä¼šæ›´æ–°ç›¸é‚»çš„å›¾å—ã€‚

å¦‚æœ ``ignore_empty_terrains`` ä¸ºçœŸï¼Œåˆ™åœ¨å°è¯•ä¸ºç»™å®šåœ°å½¢çº¦æŸæ‰¾åˆ°æœ€åˆé€‚çš„å›¾å—æ—¶å°†å¿½ç•¥ç©ºåœ°å½¢ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

\ **æ³¨æ„ï¼š**\ è¦æ­£å¸¸å·¥ä½œï¼Œè¿™ä¸ªæ–¹æ³•éœ€è¦ TileMap çš„ TileSet è®¾ç½®äº†å…·æœ‰æ‰€æœ‰å¿…éœ€åœ°å½¢ç»„åˆçš„åœ°å½¢ã€‚å¦åˆ™ï¼Œå¯èƒ½ä¼šäº§ç”Ÿæ„æƒ³ä¸åˆ°çš„ç»“æœã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_set_layer_enabled:

.. rst-class:: classref-method

|void| **set_layer_enabled**\ (\ layer\: :ref:`int<class_int>`, enabled\: :ref:`bool<class_bool>`\ ) :ref:`ğŸ”—<class_TileMap_method_set_layer_enabled>`

å¯ç”¨æˆ–ç¦ç”¨å›¾å±‚ ``layer``\ ã€‚è¢«ç¦ç”¨çš„å›¾å±‚æ ¹æœ¬ä¸ä¼šè¢«å¤„ç†ï¼ˆæ²¡æœ‰æ¸²æŸ“ã€ç‰©ç†ç­‰ï¼‰ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿæ•°ï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_set_layer_modulate:

.. rst-class:: classref-method

|void| **set_layer_modulate**\ (\ layer\: :ref:`int<class_int>`, modulate\: :ref:`Color<class_Color>`\ ) :ref:`ğŸ”—<class_TileMap_method_set_layer_modulate>`

è®¾ç½®å›¾å±‚çš„é¢œè‰²ã€‚è¯¥é¢œè‰²ä¼šä¸å›¾å—çš„é¢œè‰²ä»¥åŠ TileMap çš„è°ƒåˆ¶è‰²ç›¸ä¹˜ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™é€†åºè®¿é—®å›¾å±‚ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_set_layer_name:

.. rst-class:: classref-method

|void| **set_layer_name**\ (\ layer\: :ref:`int<class_int>`, name\: :ref:`String<class_String>`\ ) :ref:`ğŸ”—<class_TileMap_method_set_layer_name>`

è®¾ç½®å›¾å±‚çš„åç§°ã€‚ä¸»è¦åœ¨ç¼–è¾‘å™¨ä¸­ä½¿ç”¨ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™é€†åºè®¿é—®å›¾å±‚ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_set_layer_navigation_enabled:

.. rst-class:: classref-method

|void| **set_layer_navigation_enabled**\ (\ layer\: :ref:`int<class_int>`, enabled\: :ref:`bool<class_bool>`\ ) :ref:`ğŸ”—<class_TileMap_method_set_layer_navigation_enabled>`

å¯ç”¨æˆ–ç¦ç”¨å›¾å±‚çš„å†…ç½®å¯¼èˆªåŒºå—ç”Ÿæˆã€‚å¦‚æœä½ éœ€è¦ä½¿ç”¨ :ref:`NavigationRegion2D<class_NavigationRegion2D>` èŠ‚ç‚¹æ ¹æ® TileMap çƒ˜ç„™å¯¼èˆªåŒºå—ï¼Œè¯·ç¦ç”¨æ­¤é¡¹ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_set_layer_navigation_map:

.. rst-class:: classref-method

|void| **set_layer_navigation_map**\ (\ layer\: :ref:`int<class_int>`, map\: :ref:`RID<class_RID>`\ ) :ref:`ğŸ”—<class_TileMap_method_set_layer_navigation_map>`

å°† ``map`` åˆ†é…ç»™æŒ‡å®š TileMap å›¾å±‚ ``layer`` çš„ :ref:`NavigationServer2D<class_NavigationServer2D>` å¯¼èˆªåœ°å›¾ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼ŒTileMap ä¸ºç¬¬ä¸€ä¸ª TileMap å±‚ä½¿ç”¨é»˜è®¤çš„ :ref:`World2D<class_World2D>` å¯¼èˆªåœ°å›¾ã€‚å¯¹äºæ¯ä¸ªé™„åŠ çš„ TileMap å±‚ï¼Œéƒ½ä¼šä¸ºé™„åŠ å±‚åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¼èˆªåœ°å›¾ã€‚

ä¸ºäº†ä½¿ :ref:`NavigationAgent2D<class_NavigationAgent2D>` åœ¨ TileMap å±‚å¯¼èˆªåœ°å›¾ä¹‹é—´åˆ‡æ¢ï¼Œä½¿ç”¨ :ref:`NavigationAgent2D.set_navigation_map<class_NavigationAgent2D_method_set_navigation_map>` å’Œä» :ref:`get_navigation_map<class_TileMap_method_get_navigation_map>` æ¥æ”¶çš„å¯¼èˆªåœ°å›¾ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€ä¸ªå›¾å±‚å¼€å§‹è®¿é—®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_set_layer_y_sort_enabled:

.. rst-class:: classref-method

|void| **set_layer_y_sort_enabled**\ (\ layer\: :ref:`int<class_int>`, y_sort_enabled\: :ref:`bool<class_bool>`\ ) :ref:`ğŸ”—<class_TileMap_method_set_layer_y_sort_enabled>`

å¯ç”¨æˆ–ç¦ç”¨å›¾å±‚çš„ Y æ’åºã€‚å¦‚æœè¿›è¡Œäº† Y æ’åºï¼Œåˆ™è¯¥å›¾å±‚å’Œ CanvasItem èŠ‚ç‚¹çš„è¡Œä¸ºä¸€è‡´ï¼Œä¼šå°†å…¶ä¸­çš„æ¯ä¸ªå›¾å—éƒ½è¿›è¡Œ Y æ’åºã€‚

Y æ’åºå›¾å±‚çš„ Z ç´¢å¼•ä¸€èˆ¬åº”è¯¥å’Œæœª Y æ’åºçš„å›¾å±‚ä¸åŒï¼Œå¦åˆ™æœª Y æ’åºçš„å›¾å±‚ä¼šä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œå’Œ Y æ’åºå›¾å±‚ä¸€èµ·è¿›è¡Œ Y æ’åºã€‚é€šå¸¸ä¸å¸Œæœ›å‘ç”Ÿè¿™æ ·çš„è¡Œä¸ºã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™é€†åºè®¿é—®å›¾å±‚ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_set_layer_y_sort_origin:

.. rst-class:: classref-method

|void| **set_layer_y_sort_origin**\ (\ layer\: :ref:`int<class_int>`, y_sort_origin\: :ref:`int<class_int>`\ ) :ref:`ğŸ”—<class_TileMap_method_set_layer_y_sort_origin>`

è®¾ç½®å›¾å±‚çš„ Y æ’åºåŸç‚¹ã€‚å„ä¸ªå›¾å—çš„ Y æ’åºåŸç‚¹å€¼éƒ½ä¼šåŠ ä¸Šè¿™ä¸ª Y æ’åºåŸç‚¹å€¼ã€‚

ç”¨ä¾‹æ˜¯ä¸ºå›¾å±‚å†’å……ä¸åŒçš„é«˜åº¦çº§åˆ«ã€‚ä¿¯è§†è§’æ¸¸æˆæ¯”è¾ƒæœ‰ç”¨ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™é€†åºè®¿é—®å›¾å±‚ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_set_layer_z_index:

.. rst-class:: classref-method

|void| **set_layer_z_index**\ (\ layer\: :ref:`int<class_int>`, z_index\: :ref:`int<class_int>`\ ) :ref:`ğŸ”—<class_TileMap_method_set_layer_z_index>`

è®¾ç½®å›¾å±‚çš„ Z ç´¢å¼•å€¼ã€‚å„ä¸ªå›¾å—çš„ Z ç´¢å¼•å€¼éƒ½ä¼šåŠ ä¸Šè¿™ä¸ª Z ç´¢å¼•ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™é€†åºè®¿é—®å›¾å±‚ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_set_navigation_map:

.. rst-class:: classref-method

|void| **set_navigation_map**\ (\ layer\: :ref:`int<class_int>`, map\: :ref:`RID<class_RID>`\ ) :ref:`ğŸ”—<class_TileMap_method_set_navigation_map>`

**å·²å¼ƒç”¨ï¼š** Use :ref:`set_layer_navigation_map<class_TileMap_method_set_layer_navigation_map>` instead.

å°† ``map`` åˆ†é…ä¸ºæŒ‡å®š TileMap å±‚ ``layer`` çš„ :ref:`NavigationServer2D<class_NavigationServer2D>` å¯¼èˆªåœ°å›¾ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_set_pattern:

.. rst-class:: classref-method

|void| **set_pattern**\ (\ layer\: :ref:`int<class_int>`, position\: :ref:`Vector2i<class_Vector2i>`, pattern\: :ref:`TileMapPattern<class_TileMapPattern>`\ ) :ref:`ğŸ”—<class_TileMap_method_set_pattern>`

å°†ç»™å®šçš„ :ref:`TileMapPattern<class_TileMapPattern>` ç²˜è´´åˆ°å›¾å—åœ°å›¾ä¸­çš„ ``position`` ä½ç½®å’Œ ``layer`` å±‚ã€‚

å¦‚æœ ``layer`` ä¸ºè´Ÿï¼Œåˆ™ä»æœ€åä¸€å±‚å¼€å§‹è®¿é—®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_TileMap_method_update_internals:

.. rst-class:: classref-method

|void| **update_internals**\ (\ ) :ref:`ğŸ”—<class_TileMap_method_update_internals>`

è§¦å‘ TileMap çš„æ›´æ–°ã€‚é€šå¸¸ä¸éœ€è¦è°ƒç”¨è¿™ä¸ªå‡½æ•°ï¼Œå› ä¸º TileMap èŠ‚ç‚¹çš„å±æ€§å‘ç”Ÿä¿®æ”¹åä¼šè‡ªåŠ¨æ›´æ–°ã€‚

ä½†æ˜¯å‡ºäºæ€§èƒ½åŸå› ï¼Œä¼šå¯¹è¿™äº›æ›´æ–°è¿›è¡Œåˆ†æ‰¹ï¼Œå»¶è¿Ÿåˆ°è¯¥å¸§çš„æœ«å°¾æ‰§è¡Œã€‚è°ƒç”¨è¿™ä¸ªå‡½æ•°ä¼šå¼ºåˆ¶ TileMap ç«‹å³è¿›è¡Œæ›´æ–°ã€‚

\ **è­¦å‘Šï¼š**\ æ›´æ–° TileMap çš„è®¡ç®—é‡å¾ˆå¤§ï¼Œå¯èƒ½ä¼šå½±å“æ€§èƒ½ã€‚è¯·å°½é‡é™åˆ¶æ›´æ–°çš„æ¬¡æ•°å’Œå—å½±å“çš„å›¾å—ã€‚

.. |virtual| replace:: :abbr:`virtual (æœ¬æ–¹æ³•é€šå¸¸éœ€è¦ç”¨æˆ·è¦†ç›–æ‰èƒ½ç”Ÿæ•ˆã€‚)`
.. |const| replace:: :abbr:`const (æœ¬æ–¹æ³•æ— å‰¯ä½œç”¨ï¼Œä¸ä¼šä¿®æ”¹è¯¥å®ä¾‹çš„ä»»ä½•æˆå‘˜å˜é‡ã€‚)`
.. |vararg| replace:: :abbr:`vararg (æœ¬æ–¹æ³•é™¤äº†èƒ½æ¥å—åœ¨æ­¤å¤„æè¿°çš„å‚æ•°å¤–ï¼Œè¿˜èƒ½å¤Ÿç»§ç»­æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ã€‚)`
.. |constructor| replace:: :abbr:`constructor (æœ¬æ–¹æ³•ç”¨äºæ„é€ æŸä¸ªç±»å‹ã€‚)`
.. |static| replace:: :abbr:`static (è°ƒç”¨æœ¬æ–¹æ³•æ— éœ€å®ä¾‹ï¼Œå¯ç›´æ¥ä½¿ç”¨ç±»åè¿›è¡Œè°ƒç”¨ã€‚)`
.. |operator| replace:: :abbr:`operator (æœ¬æ–¹æ³•æè¿°çš„æ˜¯ä½¿ç”¨æœ¬ç±»å‹ä½œä¸ºå·¦æ“ä½œæ•°çš„æœ‰æ•ˆè¿ç®—ç¬¦ã€‚)`
.. |bitfield| replace:: :abbr:`BitField (è¿™ä¸ªå€¼æ˜¯ç”±ä¸‹åˆ—ä½æ ‡å¿—æ„æˆä½æ©ç çš„æ•´æ•°ã€‚)`
.. |void| replace:: :abbr:`void (æ— è¿”å›å€¼ã€‚)`
