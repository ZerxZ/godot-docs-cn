:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/doc/classes/EditorTranslationParserPlugin.xml.

.. _class_EditorTranslationParserPlugin:

EditorTranslationParserPlugin
=============================

**ç»§æ‰¿ï¼š** :ref:`RefCounted<class_RefCounted>` **<** :ref:`Object<class_Object>`

ç”¨äºæ·»åŠ è‡ªå®šä¹‰è§£æå™¨ï¼Œä»¥ä»è‡ªå®šä¹‰æ–‡ä»¶ï¼ˆ.csvã€.jsonç­‰ï¼‰æå–å·²ç¿»è¯‘çš„å­—ç¬¦ä¸²çš„æ’ä»¶ã€‚

.. rst-class:: classref-introduction-group

æè¿°
----

**EditorTranslationParserPlugin**\ åœ¨æ–‡ä»¶è¢«è§£æä»¥æå–éœ€è¦ç¿»è¯‘çš„å­—ç¬¦ä¸²æ—¶è¢«è°ƒç”¨ã€‚ä¸ºäº†å®šä¹‰è§£æå’Œæå–å­—ç¬¦ä¸²çš„é€»è¾‘ï¼Œåœ¨è„šæœ¬ä¸­è¦†ç›– :ref:`_parse_file<class_EditorTranslationParserPlugin_private_method__parse_file>` æ–¹æ³•ã€‚

å¦‚æœä½¿ç”¨ä¸Šä¸‹æ–‡æˆ–å¤æ•°å½¢å¼ï¼Œåˆ™å°†æå–çš„å­—ç¬¦ä¸²æ·»åŠ åˆ°å‚æ•° ``msgids`` æˆ– ``msgids_context_plural``\ ã€‚

æ·»åŠ åˆ° ``msgids_context_plural`` æ—¶ï¼Œå¿…é¡»ä½¿ç”¨æ ¼å¼ ``["A", "B", "C"]`` æ·»åŠ æ•°æ®ï¼Œå…¶ä¸­ ``A`` è¡¨ç¤ºæå–çš„å­—ç¬¦ä¸²ï¼Œ\ ``B`` è¡¨ç¤ºä¸Šä¸‹æ–‡ï¼Œ\ ``C`` è¡¨ç¤ºæå–çš„å­—ç¬¦ä¸²çš„å¤æ•°å½¢å¼ã€‚å¦‚æœåªæƒ³æ·»åŠ ä¸Šä¸‹æ–‡è€Œä¸æ·»åŠ å¤æ•°å½¢å¼ï¼Œè¯·å°† ``""`` ç”¨äºå¤æ•°å½¢å¼æ§½ã€‚å¦‚æœåªæƒ³æ·»åŠ å¤æ•°å½¢å¼è€Œä¸æ˜¯ä¸Šä¸‹æ–‡ï¼Œåšæ³•ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚æœ‰å…³å…·ä½“ç¤ºä¾‹ï¼Œè¯·å‚é˜…ä¸‹é¢çš„ä»£ç ã€‚

æå–çš„å­—ç¬¦ä¸²å°†è¢«å†™å…¥ç”¨æˆ·åœ¨â€œé¡¹ç›®è®¾ç½®â€èœå•çš„â€œæœ¬åœ°åŒ–â€é€‰é¡¹å¡ä¸­çš„â€œPOT ç”Ÿæˆâ€ä¸‹é€‰æ‹©çš„ POT æ–‡ä»¶ä¸­ã€‚

ä¸‹é¢æ˜¾ç¤ºäº†ä¸€ä¸ªè‡ªå®šä¹‰è§£æå™¨çš„ç¤ºä¾‹ï¼Œè¯¥è§£æå™¨ä» CSV æ–‡ä»¶ä¸­æå–å­—ç¬¦ä¸²ä»¥å†™å…¥ POT ä¸­ã€‚


.. tabs::

 .. code-tab:: gdscript

    @tool
    extends EditorTranslationParserPlugin
    
    func _parse_file(path, msgids, msgids_context_plural):
        var file = FileAccess.open(path, FileAccess.READ)
        var text = file.get_as_text()
        var split_strs = text.split(",", false)
        for s in split_strs:
            msgids.append(s)
            #print("æå–çš„å­—ç¬¦ä¸²ï¼š" + s)
    
    func _get_recognized_extensions():
        return ["csv"]

 .. code-tab:: csharp

    using Godot;
    
    [Tool]
    public partial class CustomParser : EditorTranslationParserPlugin
    {
        public override void _ParseFile(string path, Godot.Collections.Array<string> msgids, Godot.Collections.Array<Godot.Collections.Array> msgidsContextPlural)
        {
            using var file = FileAccess.Open(path, FileAccess.ModeFlags.Read);
            string text = file.GetAsText();
            string[] splitStrs = text.Split(",", allowEmpty: false);
            foreach (string s in splitStrs)
            {
                msgids.Add(s);
                //GD.Print($"æå–çš„å­—ç¬¦ä¸²ï¼š{s}");
            }
        }
    
        public override string[] _GetRecognizedExtensions()
        {
            return new string[] { "csv" };
        }
    }



è¦æ·»åŠ ä¸€ä¸ªä¸ä¸Šä¸‹æ–‡æˆ–å¤æ•°å…³è”çš„å¯ç¿»è¯‘å­—ç¬¦ä¸²ï¼Œè¯·å°†å…¶æ·»åŠ åˆ° ``msgids_context_plural``\ ï¼š


.. tabs::

 .. code-tab:: gdscript

    # è¿™å°†æ·»åŠ ä¸€æ¡æ¶ˆæ¯ï¼Œå…¶ä¸­ msgid ä¸ºâ€œæµ‹è¯• 1â€ã€msgctxt ä¸ºâ€œä¸Šä¸‹æ–‡â€ï¼Œä»¥åŠ msgid_plural ä¸ºâ€œæµ‹è¯• 1 å¤æ•°å½¢å¼â€ã€‚
    msgids_context_plural.append(["æµ‹è¯• 1", "ä¸Šä¸‹æ–‡", "æµ‹è¯• 1 å¤æ•°å½¢å¼"])
    # è¿™å°†æ·»åŠ ä¸€æ¡æ¶ˆæ¯ï¼Œå…¶ä¸­ msgid ä¸ºâ€œä¸€ä¸ªæ²¡æœ‰ä¸Šä¸‹æ–‡çš„æµ‹è¯•â€ã€msgid_plural ä¸º â€œå¤æ•°å½¢å¼â€ã€‚
    msgids_context_plural.append(["ä¸€ä¸ªæ²¡æœ‰ä¸Šä¸‹æ–‡çš„æµ‹è¯•", "", "å¤æ•°å½¢å¼"])
    # è¿™å°†æ·»åŠ ä¸€æ¡æ¶ˆæ¯ï¼Œå…¶ä¸­ msgid ä¸ºâ€œä»…å¸¦æœ‰ä¸Šä¸‹æ–‡â€ã€msgctxt ä¸º â€œä¸€æ¡å‹å¥½çš„ä¸Šä¸‹æ–‡â€ã€‚
    msgids_context_plural.append(["ä»…å¸¦æœ‰ä¸Šä¸‹æ–‡", "ä¸€æ¡å‹å¥½çš„ä¸Šä¸‹æ–‡", ""])

 .. code-tab:: csharp

    // è¿™å°†æ·»åŠ ä¸€æ¡æ¶ˆæ¯ï¼Œå…¶ä¸­ msgid ä¸ºâ€œæµ‹è¯• 1â€ã€msgctxt ä¸ºâ€œä¸Šä¸‹æ–‡â€ï¼Œä»¥åŠ msgid_plural ä¸ºâ€œæµ‹è¯• 1 å¤æ•°å½¢å¼â€ã€‚
    msgidsContextPlural.Add(new Godot.Collections.Array{"æµ‹è¯• 1", "ä¸Šä¸‹æ–‡", "æµ‹è¯• 1 å¤æ•°å½¢å¼"});
    // è¿™å°†æ·»åŠ ä¸€æ¡æ¶ˆæ¯ï¼Œå…¶ä¸­ msgid ä¸ºâ€œä¸€ä¸ªæ²¡æœ‰ä¸Šä¸‹æ–‡çš„æµ‹è¯•â€ã€msgid_plural ä¸º â€œå¤æ•°å½¢å¼â€ã€‚
    msgidsContextPlural.Add(new Godot.Collections.Array{"ä¸€ä¸ªæ²¡æœ‰ä¸Šä¸‹æ–‡çš„æµ‹è¯•", "", "å¤æ•°å½¢å¼"});
    // è¿™å°†æ·»åŠ ä¸€æ¡æ¶ˆæ¯ï¼Œå…¶ä¸­ msgid ä¸ºâ€œä»…å¸¦æœ‰ä¸Šä¸‹æ–‡â€ã€msgctxt ä¸º â€œä¸€æ¡å‹å¥½çš„ä¸Šä¸‹æ–‡â€ã€‚
    msgidsContextPlural.Add(new Godot.Collections.Array{"ä»…å¸¦æœ‰ä¸Šä¸‹æ–‡", "ä¸€æ¡å‹å¥½çš„ä¸Šä¸‹æ–‡", ""});



\ **æ³¨æ„ï¼š**\ å¦‚æœè¦†ç›–äº†æ ‡å‡†è„šæœ¬ç±»å‹ï¼ˆGDScriptã€C# ç­‰ï¼‰çš„è§£æé€»è¾‘ï¼Œæœ€å¥½ä½¿ç”¨ :ref:`ResourceLoader.load<class_ResourceLoader_method_load>` åŠ è½½ ``path`` å‚æ•°ã€‚è¿™æ˜¯å› ä¸ºå†…ç½®è„šæœ¬è¢«åŠ è½½ä¸º :ref:`Resource<class_Resource>` ç±»å‹ï¼Œè€Œä¸æ˜¯ :ref:`FileAccess<class_FileAccess>` ç±»å‹ã€‚

ä¾‹å¦‚ï¼š


.. tabs::

 .. code-tab:: gdscript

    func _parse_file(path, msgids, msgids_context_plural):
        var res = ResourceLoader.load(path, "Script")
        var text = res.source_code
        # è§£æé€»è¾‘ã€‚
    
    func _get_recognized_extensions():
        return ["gd"]

 .. code-tab:: csharp

    public override void _ParseFile(string path, Godot.Collections.Array<string> msgids, Godot.Collections.Array<Godot.Collections.Array> msgidsContextPlural)
    {
        var res = ResourceLoader.Load<Script>(path, "Script");
        string text = res.SourceCode;
        // è§£æé€»è¾‘ã€‚
    }
    
    public override string[] _GetRecognizedExtensions()
    {
        return new string[] { "gd" };
    }



è¦ä½¿ç”¨ **EditorTranslationParserPlugin**\ ï¼Œè¯·å…ˆä½¿ç”¨ :ref:`EditorPlugin.add_translation_parser_plugin<class_EditorPlugin_method_add_translation_parser_plugin>` æ–¹æ³•æ³¨å†Œå®ƒã€‚

.. rst-class:: classref-reftable-group

æ–¹æ³•
----

.. table::
   :widths: auto

   +---------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`PackedStringArray<class_PackedStringArray>` | :ref:`_get_recognized_extensions<class_EditorTranslationParserPlugin_private_method__get_recognized_extensions>`\ (\ ) |virtual| |const|                                                                                                                                                  |
   +---------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                            | :ref:`_parse_file<class_EditorTranslationParserPlugin_private_method__parse_file>`\ (\ path\: :ref:`String<class_String>`, msgids\: :ref:`Array<class_Array>`\[:ref:`String<class_String>`\], msgids_context_plural\: :ref:`Array<class_Array>`\[:ref:`Array<class_Array>`\]\ ) |virtual| |
   +---------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

æ–¹æ³•è¯´æ˜
--------

.. _class_EditorTranslationParserPlugin_private_method__get_recognized_extensions:

.. rst-class:: classref-method

:ref:`PackedStringArray<class_PackedStringArray>` **_get_recognized_extensions**\ (\ ) |virtual| |const| :ref:`ğŸ”—<class_EditorTranslationParserPlugin_private_method__get_recognized_extensions>`

è·å–ä¸è¯¥è§£æå™¨å…³è”çš„æ–‡ä»¶æ‰©å±•ååˆ—è¡¨ï¼Œä¾‹å¦‚ ``["csv"]``\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_EditorTranslationParserPlugin_private_method__parse_file:

.. rst-class:: classref-method

|void| **_parse_file**\ (\ path\: :ref:`String<class_String>`, msgids\: :ref:`Array<class_Array>`\[:ref:`String<class_String>`\], msgids_context_plural\: :ref:`Array<class_Array>`\[:ref:`Array<class_Array>`\]\ ) |virtual| :ref:`ğŸ”—<class_EditorTranslationParserPlugin_private_method__parse_file>`

è¦†ç›–è¯¥æ–¹æ³•ï¼Œå®šä¹‰è‡ªå®šä¹‰è§£æé€»è¾‘ä»¥æå–å¯ç¿»è¯‘çš„å­—ç¬¦ä¸²ã€‚

.. |virtual| replace:: :abbr:`virtual (æœ¬æ–¹æ³•é€šå¸¸éœ€è¦ç”¨æˆ·è¦†ç›–æ‰èƒ½ç”Ÿæ•ˆã€‚)`
.. |const| replace:: :abbr:`const (æœ¬æ–¹æ³•æ²¡æœ‰å‰¯ä½œç”¨ï¼Œä¸ä¼šä¿®æ”¹è¯¥å®ä¾‹çš„ä»»ä½•æˆå‘˜å˜é‡ã€‚)`
.. |vararg| replace:: :abbr:`vararg (æœ¬æ–¹æ³•é™¤äº†èƒ½æ¥å—åœ¨æ­¤å¤„æè¿°çš„å‚æ•°å¤–ï¼Œè¿˜èƒ½å¤Ÿç»§ç»­æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ã€‚)`
.. |constructor| replace:: :abbr:`constructor (æœ¬æ–¹æ³•ç”¨äºæ„é€ æŸä¸ªç±»å‹ã€‚)`
.. |static| replace:: :abbr:`static (è°ƒç”¨æœ¬æ–¹æ³•æ— éœ€å®ä¾‹ï¼Œå¯ç›´æ¥ä½¿ç”¨ç±»åè¿›è¡Œè°ƒç”¨ã€‚)`
.. |operator| replace:: :abbr:`operator (æœ¬æ–¹æ³•æè¿°çš„æ˜¯ä½¿ç”¨æœ¬ç±»å‹ä½œä¸ºå·¦æ“ä½œæ•°çš„æœ‰æ•ˆæ“ä½œç¬¦ã€‚)`
.. |bitfield| replace:: :abbr:`BitField (è¿™ä¸ªå€¼æ˜¯ç”±ä¸‹åˆ—æ ‡å¿—æ„æˆçš„ä½æ©ç æ•´æ•°ã€‚)`
.. |void| replace:: :abbr:`void (æ— è¿”å›å€¼ã€‚)`
