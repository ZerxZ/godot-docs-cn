:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/doc/classes/RandomNumberGenerator.xml.

.. _class_RandomNumberGenerator:

RandomNumberGenerator
=====================

**ç»§æ‰¿ï¼š** :ref:`RefCounted<class_RefCounted>` **<** :ref:`Object<class_Object>`

æä¾›ç”Ÿæˆä¼ªéšæœºæ•°çš„æ–¹æ³•ã€‚

.. rst-class:: classref-introduction-group

æè¿°
----

RandomNumberGenerator æ˜¯ä¸€ä¸ªç”¨äºç”Ÿæˆä¼ªéšæœºæ•°çš„ç±»ã€‚å®ƒç›®å‰ä½¿ç”¨ `PCG32 <https://www.pcg-random.org/>`__\ ã€‚

\ **æ³¨æ„ï¼š**\ åº•å±‚ç®—æ³•å±äºå®ç°ç»†èŠ‚ï¼Œä¸åº”è¯¥å¯¹æ­¤äº§ç”Ÿä¾èµ–ã€‚

è¦æ ¹æ®æ—¶é—´ç›¸å…³ç§å­ç”Ÿæˆï¼ˆç»™å®šèŒƒå›´å†…çš„ï¼‰éšæœºæµ®ç‚¹æ•°ï¼š

::

    var rng = RandomNumberGenerator.new()
    func _ready():
        var my_random_number = rng.randf_range(-10.0, 10.0)

.. rst-class:: classref-introduction-group

æ•™ç¨‹
----

- :doc:`éšæœºæ•°ç”Ÿæˆ <../tutorials/math/random_number_generation>`

.. rst-class:: classref-reftable-group

å±æ€§
----

.. table::
   :widths: auto

   +-----------------------+----------------------------------------------------------+-------+
   | :ref:`int<class_int>` | :ref:`seed<class_RandomNumberGenerator_property_seed>`   | ``0`` |
   +-----------------------+----------------------------------------------------------+-------+
   | :ref:`int<class_int>` | :ref:`state<class_RandomNumberGenerator_property_state>` | ``0`` |
   +-----------------------+----------------------------------------------------------+-------+

.. rst-class:: classref-reftable-group

æ–¹æ³•
----

.. table::
   :widths: auto

   +---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`     | :ref:`rand_weighted<class_RandomNumberGenerator_method_rand_weighted>`\ (\ weights\: :ref:`PackedFloat32Array<class_PackedFloat32Array>`\ )         |
   +---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`float<class_float>` | :ref:`randf<class_RandomNumberGenerator_method_randf>`\ (\ )                                                                                        |
   +---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`float<class_float>` | :ref:`randf_range<class_RandomNumberGenerator_method_randf_range>`\ (\ from\: :ref:`float<class_float>`, to\: :ref:`float<class_float>`\ )          |
   +---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`float<class_float>` | :ref:`randfn<class_RandomNumberGenerator_method_randfn>`\ (\ mean\: :ref:`float<class_float>` = 0.0, deviation\: :ref:`float<class_float>` = 1.0\ ) |
   +---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`     | :ref:`randi<class_RandomNumberGenerator_method_randi>`\ (\ )                                                                                        |
   +---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`     | :ref:`randi_range<class_RandomNumberGenerator_method_randi_range>`\ (\ from\: :ref:`int<class_int>`, to\: :ref:`int<class_int>`\ )                  |
   +---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                    | :ref:`randomize<class_RandomNumberGenerator_method_randomize>`\ (\ )                                                                                |
   +---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

å±æ€§è¯´æ˜
--------

.. _class_RandomNumberGenerator_property_seed:

.. rst-class:: classref-property

:ref:`int<class_int>` **seed** = ``0`` :ref:`ğŸ”—<class_RandomNumberGenerator_property_seed>`

.. rst-class:: classref-property-setget

- |void| **set_seed**\ (\ value\: :ref:`int<class_int>`\ )
- :ref:`int<class_int>` **get_seed**\ (\ )

æ ¹æ®ç»™å®šçš„ç§å­å€¼åˆå§‹åŒ–éšæœºæ•°ç”Ÿæˆå™¨çŠ¶æ€ã€‚ç»™å®šçš„ç§å­å°†ç»™å‡ºä¸€ä¸ªå¯é‡ç°çš„ä¼ªéšæœºæ•°åºåˆ—ã€‚

\ **æ³¨æ„ï¼š**\ RNG æ²¡æœ‰é›ªå´©æ•ˆåº”ï¼Œç»™å®šç›¸ä¼¼çš„ç§å­å¯ä»¥è¾“å‡ºç›¸ä¼¼çš„éšæœºæµã€‚å¦‚æœç§å­æ¥è‡ªå¤–éƒ¨ï¼Œè¯·è€ƒè™‘ä½¿ç”¨å“ˆå¸Œå‡½æ•°æ¥æé«˜ç§å­è´¨é‡ã€‚

\ **æ³¨æ„ï¼š**\ è®¾ç½®è¯¥å±æ€§ä¼šäº§ç”Ÿæ”¹å˜å†…éƒ¨ :ref:`state<class_RandomNumberGenerator_property_state>` çš„å‰¯ä½œç”¨ï¼Œå› æ­¤è¯·ç¡®ä¿åœ¨ä¿®æ”¹ :ref:`state<class_RandomNumberGenerator_property_state>` *ä¹‹å‰*\ åˆå§‹åŒ–ç§å­ï¼š

\ **æ³¨æ„ï¼š**\ è¯¥å±æ€§çš„é»˜è®¤å€¼æ˜¯ä¼ªéšæœºçš„ï¼Œä¼šåœ¨è°ƒç”¨ :ref:`randomize<class_RandomNumberGenerator_method_randomize>` æ—¶æ”¹å˜ã€‚æ–‡æ¡£ä¸­è®°å½•çš„ ``0`` æ˜¯å ä½ç¬¦ï¼Œä¸æ˜¯å®é™…çš„é»˜è®¤ç§å­ã€‚

::

    var rng = RandomNumberGenerator.new()
    rng.seed = hash("Godot")
    rng.state = 100 # æ¢å¤åˆ°ä¹‹å‰ä¿å­˜çš„ä¸€äº›çŠ¶æ€ã€‚

.. rst-class:: classref-item-separator

----

.. _class_RandomNumberGenerator_property_state:

.. rst-class:: classref-property

:ref:`int<class_int>` **state** = ``0`` :ref:`ğŸ”—<class_RandomNumberGenerator_property_state>`

.. rst-class:: classref-property-setget

- |void| **set_state**\ (\ value\: :ref:`int<class_int>`\ )
- :ref:`int<class_int>` **get_state**\ (\ )

éšæœºæ•°ç”Ÿæˆå™¨çš„å½“å‰çŠ¶æ€ã€‚ä¿å­˜å¹¶æ¢å¤æ­¤å±æ€§ï¼Œä»¥å°†ç”Ÿæˆå™¨æ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€ï¼š

::

    var rng = RandomNumberGenerator.new()
    print(rng.randf())
    var saved_state = rng.state # ä¿å­˜å½“å‰çŠ¶æ€ã€‚
    print(rng.randf()) # è®©å†…éƒ¨çŠ¶æ€å‘ç”Ÿæ­¥è¿›ã€‚
    rng.state = saved_state # æ¢å¤çŠ¶æ€ã€‚
    print(rng.randf()) # è¾“å‡ºå’Œä¹‹å‰ä¸€æ ·çš„å€¼ã€‚

\ **æ³¨æ„ï¼š**\ ä¸è¦å°†çŠ¶æ€è®¾ç½®ä¸ºä»»æ„å€¼ï¼Œå› ä¸ºéšæœºæ•°ç”Ÿæˆå™¨è¦æ±‚çŠ¶æ€å…·æœ‰æŸäº›ç‰¹æ€§æ‰èƒ½æ­£å¸¸è¿è¡Œã€‚å®ƒåº”è¯¥åªè®¾ç½®ä¸ºæ¥è‡ªçŠ¶æ€å±æ€§æœ¬èº«çš„å€¼ã€‚è¦ä½¿ç”¨ä»»æ„è¾“å…¥åˆå§‹åŒ–éšæœºæ•°ç”Ÿæˆå™¨ï¼Œè¯·æ”¹ç”¨ :ref:`seed<class_RandomNumberGenerator_property_seed>`\ ã€‚

\ **æ³¨æ„ï¼š**\ è¯¥å±æ€§çš„é»˜è®¤å€¼æ˜¯ä¼ªéšæœºçš„ï¼Œä¼šåœ¨è°ƒç”¨ :ref:`randomize<class_RandomNumberGenerator_method_randomize>` æ—¶æ”¹å˜ã€‚æ–‡æ¡£ä¸­è®°å½•çš„ ``0`` æ˜¯å ä½ç¬¦ï¼Œä¸æ˜¯å®é™…çš„é»˜è®¤ç§å­ã€‚

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

æ–¹æ³•è¯´æ˜
--------

.. _class_RandomNumberGenerator_method_rand_weighted:

.. rst-class:: classref-method

:ref:`int<class_int>` **rand_weighted**\ (\ weights\: :ref:`PackedFloat32Array<class_PackedFloat32Array>`\ ) :ref:`ğŸ”—<class_RandomNumberGenerator_method_rand_weighted>`

è¿”å›å…·æœ‰éå‡åŒ€æƒé‡çš„éšæœºç´¢å¼•ã€‚å¦‚æœæ•°ç»„ä¸ºç©ºï¼Œåˆ™è¾“å‡ºé”™è¯¯å¹¶è¿”å› ``-1``\ ã€‚


.. tabs::

 .. code-tab:: gdscript

    var rng = RandomNumberGenerator.new()
    
    var my_array = ["one", "two", "three", "four"]
    var weights = PackedFloat32Array([0.5, 1, 1, 2])
    
    # è¾“å‡º `my_array` ä¸­çš„å››ä¸ªå…ƒç´ ä¹‹ä¸€ã€‚
    # æ›´æœ‰å¯èƒ½è¾“å‡º â€œfourâ€ï¼Œè€Œä¸å¤ªå¯èƒ½è¾“å‡º â€œoneâ€ã€‚
    print(my_array[rng.rand_weighted(weights)])



.. rst-class:: classref-item-separator

----

.. _class_RandomNumberGenerator_method_randf:

.. rst-class:: classref-method

:ref:`float<class_float>` **randf**\ (\ ) :ref:`ğŸ”—<class_RandomNumberGenerator_method_randf>`

è¿”å›åœ¨ ``0.0`` å’Œ ``1.0`` ä¹‹é—´ï¼ˆå«ç«¯ç‚¹ï¼‰çš„ä¼ªéšæœºæµ®ç‚¹æ•°ã€‚

.. rst-class:: classref-item-separator

----

.. _class_RandomNumberGenerator_method_randf_range:

.. rst-class:: classref-method

:ref:`float<class_float>` **randf_range**\ (\ from\: :ref:`float<class_float>`, to\: :ref:`float<class_float>`\ ) :ref:`ğŸ”—<class_RandomNumberGenerator_method_randf_range>`

è¿”å›åœ¨ ``from`` å’Œ ``to`` ä¹‹é—´ï¼ˆå«ç«¯ç‚¹ï¼‰çš„ä¼ªéšæœºæµ®ç‚¹æ•°ã€‚

.. rst-class:: classref-item-separator

----

.. _class_RandomNumberGenerator_method_randfn:

.. rst-class:: classref-method

:ref:`float<class_float>` **randfn**\ (\ mean\: :ref:`float<class_float>` = 0.0, deviation\: :ref:`float<class_float>` = 1.0\ ) :ref:`ğŸ”—<class_RandomNumberGenerator_method_randfn>`

è¿”å›ä¸€ä¸ª\ `æ­£æ€åˆ†å¸ƒ <https://en.wikipedia.org/wiki/Normal_distribution>`__\ çš„ä¼ªéšæœºæ•°ï¼Œè¯¥åˆ†å¸ƒä½¿ç”¨æŒ‡å®šçš„ ``mean`` å’Œæ ‡å‡† ``deviation``\ ã€‚è¿™ä¹Ÿè¢«ç§°ä¸ºé«˜æ–¯åˆ†å¸ƒã€‚

\ **æ³¨æ„ï¼š**\ è¯¥æ–¹æ³•ä½¿ç”¨ `Box-Muller å˜æ¢ <https://en.wikipedia.org/wiki/Box%E2%80%93Muller_transform>`__\ ç®—æ³•ã€‚

.. rst-class:: classref-item-separator

----

.. _class_RandomNumberGenerator_method_randi:

.. rst-class:: classref-method

:ref:`int<class_int>` **randi**\ (\ ) :ref:`ğŸ”—<class_RandomNumberGenerator_method_randi>`

è¿”å›åœ¨ ``0`` å’Œ ``4294967295`` ä¹‹é—´ï¼ˆå«ç«¯ç‚¹ï¼‰çš„ä¼ªéšæœº 32 ä½æ— ç¬¦å·æ•´æ•°ã€‚

.. rst-class:: classref-item-separator

----

.. _class_RandomNumberGenerator_method_randi_range:

.. rst-class:: classref-method

:ref:`int<class_int>` **randi_range**\ (\ from\: :ref:`int<class_int>`, to\: :ref:`int<class_int>`\ ) :ref:`ğŸ”—<class_RandomNumberGenerator_method_randi_range>`

è¿”å›åœ¨ ``from`` å’Œ ``to`` ä¹‹é—´ï¼ˆå«ç«¯ç‚¹ï¼‰çš„ä¼ªéšæœº 32 ä½æ— ç¬¦å·æ•´æ•°ã€‚

.. rst-class:: classref-item-separator

----

.. _class_RandomNumberGenerator_method_randomize:

.. rst-class:: classref-method

|void| **randomize**\ (\ ) :ref:`ğŸ”—<class_RandomNumberGenerator_method_randomize>`

ä¸ºè¿™ä¸ª **RandomNumberGenerator** å®ä¾‹è®¾ç½®åŸºäºæ—¶é—´çš„ç§å­ã€‚ä¸ :ref:`@GlobalScope<class_@GlobalScope>` éšæœºæ•°ç”Ÿæˆå‡½æ•°ä¸åŒï¼Œä¸åŒçš„ **RandomNumberGenerator** å®ä¾‹å¯ä»¥ä½¿ç”¨ä¸åŒçš„ç§å­ã€‚

.. |virtual| replace:: :abbr:`virtual (æœ¬æ–¹æ³•é€šå¸¸éœ€è¦ç”¨æˆ·è¦†ç›–æ‰èƒ½ç”Ÿæ•ˆã€‚)`
.. |const| replace:: :abbr:`const (æœ¬æ–¹æ³•æ— å‰¯ä½œç”¨ï¼Œä¸ä¼šä¿®æ”¹è¯¥å®ä¾‹çš„ä»»ä½•æˆå‘˜å˜é‡ã€‚)`
.. |vararg| replace:: :abbr:`vararg (æœ¬æ–¹æ³•é™¤äº†èƒ½æ¥å—åœ¨æ­¤å¤„æè¿°çš„å‚æ•°å¤–ï¼Œè¿˜èƒ½å¤Ÿç»§ç»­æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ã€‚)`
.. |constructor| replace:: :abbr:`constructor (æœ¬æ–¹æ³•ç”¨äºæ„é€ æŸä¸ªç±»å‹ã€‚)`
.. |static| replace:: :abbr:`static (è°ƒç”¨æœ¬æ–¹æ³•æ— éœ€å®ä¾‹ï¼Œå¯ç›´æ¥ä½¿ç”¨ç±»åè¿›è¡Œè°ƒç”¨ã€‚)`
.. |operator| replace:: :abbr:`operator (æœ¬æ–¹æ³•æè¿°çš„æ˜¯ä½¿ç”¨æœ¬ç±»å‹ä½œä¸ºå·¦æ“ä½œæ•°çš„æœ‰æ•ˆè¿ç®—ç¬¦ã€‚)`
.. |bitfield| replace:: :abbr:`BitField (è¿™ä¸ªå€¼æ˜¯ç”±ä¸‹åˆ—ä½æ ‡å¿—æ„æˆä½æ©ç çš„æ•´æ•°ã€‚)`
.. |void| replace:: :abbr:`void (æ— è¿”å›å€¼ã€‚)`
