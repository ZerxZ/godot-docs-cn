:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/modules/webxr/doc_classes/WebXRInterface.xml.

.. _class_WebXRInterface:

WebXRInterface
==============

**ç»§æ‰¿ï¼š** :ref:`XRInterface<class_XRInterface>` **<** :ref:`RefCounted<class_RefCounted>` **<** :ref:`Object<class_Object>`

ä½¿ç”¨ WebXR çš„ AR/VR æ¥å£ã€‚

.. rst-class:: classref-introduction-group

æè¿°
----

WebXR æ˜¯ä¸€ç§å¼€æ”¾æ ‡å‡†ï¼Œå…è®¸åˆ›å»ºåœ¨ç½‘ç»œæµè§ˆå™¨ä¸­è¿è¡Œçš„ VR å’Œ AR åº”ç”¨ç¨‹åºã€‚

å› æ­¤ï¼Œæ­¤æ¥å£ä»…åœ¨ Web å¯¼å‡ºä¸­è¿è¡Œæ—¶å¯ç”¨ã€‚

WebXR æ”¯æŒèŒƒå›´å¹¿æ³›çš„è®¾å¤‡ï¼Œä»åŠŸèƒ½å¼ºå¤§çš„è®¾å¤‡ï¼ˆå¦‚ Valve Indexã€HTC Viveã€Oculus Rift å’Œ Questï¼‰åˆ°åŠŸèƒ½ä½å¾—å¤šçš„è®¾å¤‡ï¼ˆå¦‚ Google Cardboardã€Oculus Goã€GearVR æˆ–æ™®é€šæ™ºèƒ½æ‰‹æœºï¼‰ã€‚

ç”±äº WebXR åŸºäº JavaScriptï¼Œå®ƒå¤§é‡ä½¿ç”¨å›è°ƒï¼Œè¿™æ„å‘³ç€ **WebXRInterface** è¢«è¿«ä½¿ç”¨ä¿¡å·ï¼Œè€Œå…¶ä»– XR æ¥å£å°†æ”¹ä¸ºä½¿ç”¨ç«‹å³è¿”å›ç»“æœçš„å‡½æ•°ã€‚è¿™ä½¿å¾— **WebXRInterface** çš„åˆå§‹åŒ–æ¯”å…¶ä»– XR æ¥å£è¦å¤æ‚å¾—å¤šã€‚

ä»¥ä¸‹æ˜¯å¯åŠ¨æ²‰æµ¸å¼ VR ä¼šè¯æ‰€éœ€çš„æœ€å°‘ä»£ç ï¼š

::

    extends Node3D
    
    var webxr_interface
    var vr_supported = false
    
    func _ready():
        # æˆ‘ä»¬å‡è®¾è¿™ä¸ªèŠ‚ç‚¹æœ‰ä¸€ä¸ªæŒ‰é’®ä½œä¸ºå­èŠ‚ç‚¹ã€‚
        # è¯¥æŒ‰é’®ä¾›ç”¨æˆ·åŒæ„è¿›å…¥æ²‰æµ¸å¼ VR æ¨¡å¼ã€‚
        $Button.pressed.connect(self._on_button_pressed)
    
        webxr_interface = XRServer.find_interface("WebXR")
        if webxr_interface:
            # WebXR ä½¿ç”¨äº†å¾ˆå¤šå¼‚æ­¥å›è°ƒï¼Œæ‰€ä»¥æˆ‘ä»¬è¿æ¥å„ç§
            # ä¿¡å·ï¼Œä»¥ä¾¿æ¥æ”¶å®ƒä»¬ã€‚
            webxr_interface.session_supported.connect(self._webxr_session_supported)
            webxr_interface.session_started.connect(self._webxr_session_started)
            webxr_interface.session_ended.connect(self._webxr_session_ended)
            webxr_interface.session_failed.connect(self._webxr_session_failed)
    
            # è¿™ä¼šç«‹å³è¿”å›â€”â€”æˆ‘ä»¬çš„ _webxr_session_supported() æ–¹æ³•
            # ï¼ˆæˆ‘ä»¬è¿æ¥åˆ°ä¸Šé¢çš„â€œsession_supportedâ€ä¿¡å·ï¼‰å°†
            # åœ¨ç¨åçš„æŸä¸ªæ—¶é—´è¢«è°ƒç”¨ï¼Œè®©æˆ‘ä»¬çŸ¥é“å®ƒæ˜¯å¦å—æ”¯æŒã€‚
            webxr_interface.is_session_supported("immersive-vr")
    
    func _webxr_session_supported(session_mode, supported):
        if session_mode == 'immersive-vr':
            vr_supported = supported
    
    func _on_button_pressed():
        if not vr_supported:
            OS.alert("Your browser doesn't support VR")
            return
    
        # æˆ‘ä»¬æƒ³è¦ä¸€ä¸ªæ²‰æµ¸å¼ VR ä¼šè¯ï¼Œè€Œä¸æ˜¯ ARï¼ˆ'immersive-ar'ï¼‰æˆ–
        # ç®€å•çš„ 3DoF æŸ¥çœ‹å™¨ï¼ˆ'viewer'ï¼‰ã€‚
        webxr_interface.session_mode = 'immersive-vr'
        # 'bounded-floor' æ˜¯æˆ¿é—´æ¯”ä¾‹ï¼Œ'local-floor' æ˜¯ç«™ç«‹æˆ–åç€
        # çš„ä½“éªŒï¼ˆå¦‚æœä½ æœ‰ 3DoF å¤´æˆ´è®¾å¤‡ï¼Œå®ƒä¼šè®©ä½ ç¦»åœ° 1.6mï¼‰ï¼Œ
        # è€Œâ€œlocalâ€ä¼šè®©ä½ åœ¨ XROrigin ä¸‹ã€‚
        # è¿™ä¸ªåˆ—è¡¨æ„å‘³ç€å®ƒä¼šé¦–å…ˆå°è¯•è¯·æ±‚â€œbounded-floorâ€ï¼Œç„¶å
        # å›é€€åˆ°â€œlocal-floorâ€ï¼Œæœ€åæ˜¯â€œlocalâ€ï¼Œå¦‚æœæ²¡æœ‰åˆ«çš„
        # æ”¯æŒçš„è¯ã€‚
        webxr_interface.requested_reference_space_types = 'bounded-floor, local-floor, local'
        # ä¸ºäº†ä½¿ç”¨â€œlocal-floorâ€æˆ–â€œbounded-floorâ€ï¼Œæˆ‘ä»¬è¿˜å¿…é¡»
        # å°†åŠŸèƒ½æ ‡è®°ä¸ºå¿…éœ€æˆ–å¯é€‰ã€‚
        webxr_interface.required_features = 'local-floor'
        webxr_interface.optional_features = 'bounded-floor'
    
        # å¦‚æœæˆ‘ä»¬ç”šè‡³æ— æ³•è¯·æ±‚ä¼šè¯ï¼Œè¿™å°†è¿”å› falseï¼Œ
        # ä½†æ˜¯ï¼Œå®ƒä»ç„¶å¯ä»¥åœ¨ç¨åçš„è¿‡ç¨‹ä¸­å¼‚æ­¥å¤±è´¥ï¼Œ
        # å› æ­¤æˆ‘ä»¬åªæœ‰åœ¨è°ƒç”¨ _webxr_session_started() æˆ–
        # _webxr_session_failed() æ–¹æ³•æ—¶æ‰çŸ¥é“å®ƒæ˜¯çœŸçš„æˆåŠŸè¿˜æ˜¯å¤±è´¥ã€‚
        if not webxr_interface.initialize():
            OS.alert("Failed to initialize")
            return
    
    func _webxr_session_started():
        $Button.visible = false
        # è¿™å‘Šè¯‰ Godot å¼€å§‹æ¸²æŸ“åˆ°å¤´æˆ´è®¾å¤‡ã€‚
        get_viewport().use_xr = true
        # è¿™å°†æ˜¯ä½ æœ€ç»ˆè·å¾—çš„å‚è€ƒç©ºé—´ç±»å‹ï¼Œä¸ä½ åœ¨ä¸Šé¢è¯·æ±‚çš„ç±»å‹ä¸åŒã€‚
        # å¦‚æœä½ å¸Œæœ›æ¸¸æˆåœ¨ â€œbounded-floorâ€ å’Œ â€œlocal-floorâ€
        # ä¸­çš„è¿è¡Œæ–¹å¼æœ‰æ‰€ä¸åŒï¼Œè¿™å°†å¾ˆæœ‰ç”¨ã€‚
        print ("Reference space type: " + webxr_interface.reference_space_type)
    
    func _webxr_session_ended():
        $Button.visible = true
        # å¦‚æœç”¨æˆ·é€€å‡ºæ²‰æµ¸å¼æ¨¡å¼ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¼šå‘Šè¯‰ Godot
        # å†æ¬¡æ¸²æŸ“åˆ°ç½‘é¡µã€‚
        get_viewport().use_xr = false
    
    func _webxr_session_failed(message):
        OS.alert("Failed to initialize: " + message)

æœ‰å‡ ç§æ–¹æ³•å¯ä»¥å¤„ç†â€œæ§åˆ¶å™¨â€è¾“å…¥ï¼š

- ä½¿ç”¨ :ref:`XRController3D<class_XRController3D>` èŠ‚ç‚¹åŠå…¶ :ref:`XRController3D.button_pressed<class_XRController3D_signal_button_pressed>` å’Œ :ref:`XRController3D.button_released<class_XRController3D_signal_button_released>` ä¿¡å·ã€‚è¿™æ˜¯ Godot ä¸­ XR åº”ç”¨ç¨‹åºé€šå¸¸å¤„ç†æ§åˆ¶å™¨çš„æ–¹å¼ï¼Œä½†æ˜¯ï¼Œè¿™ä»…é€‚ç”¨äºé«˜çº§ VR æ§åˆ¶å™¨ï¼Œä¾‹å¦‚ Oculus Touch æˆ– Index æ§åˆ¶å™¨ã€‚

- ä½¿ç”¨ :ref:`select<class_WebXRInterface_signal_select>`\ ã€\ :ref:`squeeze<class_WebXRInterface_signal_squeeze>` å’Œå…¶ä»–ç›¸å…³ä¿¡å·ã€‚è¿™ç§æ–¹æ³•é€‚ç”¨äºé«˜çº§ VR æ§åˆ¶å™¨å’Œéä¼ ç»Ÿè¾“å…¥æºï¼Œä¾‹å¦‚å±å¹•ä¸Šçš„è½»æ•²ã€è¯­éŸ³å‘½ä»¤æˆ–è®¾å¤‡æœ¬èº«çš„æŒ‰é’®æŒ‰ä¸‹ã€‚

ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸¤ç§æ–¹æ³•æ¥è®©ä½ çš„æ¸¸æˆæˆ–åº”ç”¨ç¨‹åºæ”¯æŒæ›´å¤šæˆ–æ›´çª„çš„è®¾å¤‡å’Œè¾“å…¥æ³•é›†ï¼Œæˆ–è€…å…è®¸ä¸æ›´é«˜çº§çš„è®¾å¤‡è¿›è¡Œæ›´é«˜çº§çš„äº¤äº’ã€‚

.. rst-class:: classref-introduction-group

æ•™ç¨‹
----

- `å¦‚ä½•ä½¿ç”¨ Godot 4 åˆ¶ä½œ WebXR çš„ VR æ¸¸æˆ <https://www.snopekgames.com/tutorial/2023/how-make-vr-game-webxr-godot-4>`__

.. rst-class:: classref-reftable-group

å±æ€§
----

.. table::
   :widths: auto

   +-----------------------------+-------------------------------------------------------------------------------------------------------+
   | :ref:`String<class_String>` | :ref:`enabled_features<class_WebXRInterface_property_enabled_features>`                               |
   +-----------------------------+-------------------------------------------------------------------------------------------------------+
   | :ref:`String<class_String>` | :ref:`optional_features<class_WebXRInterface_property_optional_features>`                             |
   +-----------------------------+-------------------------------------------------------------------------------------------------------+
   | :ref:`String<class_String>` | :ref:`reference_space_type<class_WebXRInterface_property_reference_space_type>`                       |
   +-----------------------------+-------------------------------------------------------------------------------------------------------+
   | :ref:`String<class_String>` | :ref:`requested_reference_space_types<class_WebXRInterface_property_requested_reference_space_types>` |
   +-----------------------------+-------------------------------------------------------------------------------------------------------+
   | :ref:`String<class_String>` | :ref:`required_features<class_WebXRInterface_property_required_features>`                             |
   +-----------------------------+-------------------------------------------------------------------------------------------------------+
   | :ref:`String<class_String>` | :ref:`session_mode<class_WebXRInterface_property_session_mode>`                                       |
   +-----------------------------+-------------------------------------------------------------------------------------------------------+
   | :ref:`String<class_String>` | :ref:`visibility_state<class_WebXRInterface_property_visibility_state>`                               |
   +-----------------------------+-------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-reftable-group

æ–¹æ³•
----

.. table::
   :widths: auto

   +---------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Array<class_Array>`                               | :ref:`get_available_display_refresh_rates<class_WebXRInterface_method_get_available_display_refresh_rates>`\ (\ ) |const|                                    |
   +---------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`float<class_float>`                               | :ref:`get_display_refresh_rate<class_WebXRInterface_method_get_display_refresh_rate>`\ (\ ) |const|                                                          |
   +---------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`TargetRayMode<enum_WebXRInterface_TargetRayMode>` | :ref:`get_input_source_target_ray_mode<class_WebXRInterface_method_get_input_source_target_ray_mode>`\ (\ input_source_id\: :ref:`int<class_int>`\ ) |const| |
   +---------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`XRControllerTracker<class_XRControllerTracker>`   | :ref:`get_input_source_tracker<class_WebXRInterface_method_get_input_source_tracker>`\ (\ input_source_id\: :ref:`int<class_int>`\ ) |const|                 |
   +---------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                                 | :ref:`is_input_source_active<class_WebXRInterface_method_is_input_source_active>`\ (\ input_source_id\: :ref:`int<class_int>`\ ) |const|                     |
   +---------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                  | :ref:`is_session_supported<class_WebXRInterface_method_is_session_supported>`\ (\ session_mode\: :ref:`String<class_String>`\ )                              |
   +---------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                  | :ref:`set_display_refresh_rate<class_WebXRInterface_method_set_display_refresh_rate>`\ (\ refresh_rate\: :ref:`float<class_float>`\ )                        |
   +---------------------------------------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

ä¿¡å·
----

.. _class_WebXRInterface_signal_display_refresh_rate_changed:

.. rst-class:: classref-signal

**display_refresh_rate_changed**\ (\ ) :ref:`ğŸ”—<class_WebXRInterface_signal_display_refresh_rate_changed>`

æ˜¾ç¤ºå™¨çš„åˆ·æ–°ç‡å‘ç”Ÿæ”¹å˜åè§¦å‘ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_signal_reference_space_reset:

.. rst-class:: classref-signal

**reference_space_reset**\ (\ ) :ref:`ğŸ”—<class_WebXRInterface_signal_reference_space_reset>`

å‘å°„ä»¥è¡¨æ˜å‚è€ƒç©ºé—´å·²è¢«é‡ç½®æˆ–é‡æ–°é…ç½®ã€‚

ä½•æ—¶ï¼ˆæˆ–æ˜¯å¦ï¼‰å‘å°„å–å†³äºç”¨æˆ·çš„æµè§ˆå™¨æˆ–è®¾å¤‡ï¼Œä½†å¯èƒ½åŒ…æ‹¬ç”¨æˆ·æ”¹å˜äº†ä»–ä»¬çš„æ¸¸æˆç©ºé—´çš„å¤§å°ï¼ˆå¯ä»¥é€šè¿‡ :ref:`XRInterface.get_play_area<class_XRInterface_method_get_play_area>` è®¿é—®ï¼‰ï¼Œæˆ–æŒ‰ä¸‹/æŒ‰ä½ä¸€ä¸ªæŒ‰é’®æ¥é‡æ–°å®šä½ä»–ä»¬çš„ä½ç½®ã€‚

æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜… `WebXR çš„ XRReferenceSpace é‡ç½®äº‹ä»¶ <https://developer.mozilla.org/en-US/docs/Web/API/XRReferenceSpace/reset_event>`__\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_signal_select:

.. rst-class:: classref-signal

**select**\ (\ input_source_id\: :ref:`int<class_int>`\ ) :ref:`ğŸ”—<class_WebXRInterface_signal_select>`

æŸä¸ªè¾“å…¥æºå®Œæˆå…¶â€œä¸»è¦åŠ¨ä½œâ€åå‘å‡ºã€‚

è¯·ä½¿ç”¨ :ref:`get_input_source_tracker<class_WebXRInterface_method_get_input_source_tracker>` å’Œ :ref:`get_input_source_target_ray_mode<class_WebXRInterface_method_get_input_source_target_ray_mode>` è·å–å…³äºè¯¥è¾“å…¥æºçš„æ›´å¤šä¿¡æ¯ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_signal_selectend:

.. rst-class:: classref-signal

**selectend**\ (\ input_source_id\: :ref:`int<class_int>`\ ) :ref:`ğŸ”—<class_WebXRInterface_signal_selectend>`

æŸä¸ªè¾“å…¥æºå®Œæˆå…¶â€œä¸»è¦åŠ¨ä½œâ€æ—¶å‘å‡ºã€‚

è¯·ä½¿ç”¨ :ref:`get_input_source_tracker<class_WebXRInterface_method_get_input_source_tracker>` å’Œ :ref:`get_input_source_target_ray_mode<class_WebXRInterface_method_get_input_source_target_ray_mode>` è·å–å…³äºè¯¥è¾“å…¥æºçš„æ›´å¤šä¿¡æ¯ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_signal_selectstart:

.. rst-class:: classref-signal

**selectstart**\ (\ input_source_id\: :ref:`int<class_int>`\ ) :ref:`ğŸ”—<class_WebXRInterface_signal_selectstart>`

æŸä¸ªè¾“å…¥æºå¼€å§‹å…¶â€œä¸»è¦åŠ¨ä½œâ€æ—¶å‘å‡ºã€‚

è¯·ä½¿ç”¨ :ref:`get_input_source_tracker<class_WebXRInterface_method_get_input_source_tracker>` å’Œ :ref:`get_input_source_target_ray_mode<class_WebXRInterface_method_get_input_source_target_ray_mode>` è·å–å…³äºè¯¥è¾“å…¥æºçš„æ›´å¤šä¿¡æ¯ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_signal_session_ended:

.. rst-class:: classref-signal

**session_ended**\ (\ ) :ref:`ğŸ”—<class_WebXRInterface_signal_session_ended>`

ç”¨æˆ·ç»“æŸ WebXR ä¼šè¯æ—¶å‘å‡ºï¼ˆå¯ä»¥ä½¿ç”¨æµè§ˆå™¨æˆ–è®¾å¤‡çš„ UI ç»“æŸä¼šè¯ï¼‰ã€‚

æ­¤æ—¶ï¼Œä½ åº”è¯¥æ‰§è¡Œ ``get_viewport().use_xr = false``\ ï¼Œè®© Godot ç»§ç»­æ¸²æŸ“è‡³å±å¹•ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_signal_session_failed:

.. rst-class:: classref-signal

**session_failed**\ (\ message\: :ref:`String<class_String>`\ ) :ref:`ğŸ”—<class_WebXRInterface_signal_session_failed>`

ç”± :ref:`XRInterface.initialize<class_XRInterface_method_initialize>` åœ¨è¯¥ä¼šè¯å¯åŠ¨å¤±è´¥æ—¶å‘å‡ºã€‚

\ ``message`` å¯èƒ½ä¼šåŒ…å« WebXR çš„é”™è¯¯ä¿¡æ¯ï¼Œå¦‚æœæ²¡æœ‰å¯ç”¨ä¿¡æ¯åˆ™ä¸ºç©ºå­—ç¬¦ä¸²ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_signal_session_started:

.. rst-class:: classref-signal

**session_started**\ (\ ) :ref:`ğŸ”—<class_WebXRInterface_signal_session_started>`

ç”± :ref:`XRInterface.initialize<class_XRInterface_method_initialize>` åœ¨è¯¥ä¼šè¯å¯åŠ¨æˆåŠŸæ—¶å‘å‡ºã€‚

æ­¤æ—¶ï¼Œå¯ä»¥å®‰å…¨åœ°æ‰§è¡Œ ``get_viewport().use_xr = true``\ ï¼Œè®© Godot å¼€å§‹æ¸²æŸ“è‡³ XR è®¾å¤‡ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_signal_session_supported:

.. rst-class:: classref-signal

**session_supported**\ (\ session_mode\: :ref:`String<class_String>`, supported\: :ref:`bool<class_bool>`\ ) :ref:`ğŸ”—<class_WebXRInterface_signal_session_supported>`

ç”± :ref:`is_session_supported<class_WebXRInterface_method_is_session_supported>` è§¦å‘ï¼Œè¡¨ç¤ºæ˜¯å¦æ”¯æŒæŒ‡å®šçš„ ``session_mode``\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_signal_squeeze:

.. rst-class:: classref-signal

**squeeze**\ (\ input_source_id\: :ref:`int<class_int>`\ ) :ref:`ğŸ”—<class_WebXRInterface_signal_squeeze>`

æŸä¸ªè¾“å…¥æºå®Œæˆå…¶â€œä¸»è¦ç´§æ¡åŠ¨ä½œâ€åå‘å‡ºã€‚

è¯·ä½¿ç”¨ :ref:`get_input_source_tracker<class_WebXRInterface_method_get_input_source_tracker>` å’Œ :ref:`get_input_source_target_ray_mode<class_WebXRInterface_method_get_input_source_target_ray_mode>` è·å–å…³äºè¯¥è¾“å…¥æºçš„æ›´å¤šä¿¡æ¯ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_signal_squeezeend:

.. rst-class:: classref-signal

**squeezeend**\ (\ input_source_id\: :ref:`int<class_int>`\ ) :ref:`ğŸ”—<class_WebXRInterface_signal_squeezeend>`

æŸä¸ªè¾“å…¥æºå®Œæˆå…¶â€œä¸»è¦ç´§æ¡åŠ¨ä½œâ€æ—¶å‘å‡ºã€‚

è¯·ä½¿ç”¨ :ref:`get_input_source_tracker<class_WebXRInterface_method_get_input_source_tracker>` å’Œ :ref:`get_input_source_target_ray_mode<class_WebXRInterface_method_get_input_source_target_ray_mode>` è·å–å…³äºè¯¥è¾“å…¥æºçš„æ›´å¤šä¿¡æ¯ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_signal_squeezestart:

.. rst-class:: classref-signal

**squeezestart**\ (\ input_source_id\: :ref:`int<class_int>`\ ) :ref:`ğŸ”—<class_WebXRInterface_signal_squeezestart>`

æŸä¸ªè¾“å…¥æºå¼€å§‹å…¶â€œä¸»è¦ç´§æ¡åŠ¨ä½œâ€æ—¶å‘å‡ºã€‚

è¯·ä½¿ç”¨ :ref:`get_input_source_tracker<class_WebXRInterface_method_get_input_source_tracker>` å’Œ :ref:`get_input_source_target_ray_mode<class_WebXRInterface_method_get_input_source_target_ray_mode>` è·å–å…³äºè¯¥è¾“å…¥æºçš„æ›´å¤šä¿¡æ¯ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_signal_visibility_state_changed:

.. rst-class:: classref-signal

**visibility_state_changed**\ (\ ) :ref:`ğŸ”—<class_WebXRInterface_signal_visibility_state_changed>`

å½“ :ref:`visibility_state<class_WebXRInterface_property_visibility_state>` å·²æ›´æ”¹æ—¶è§¦å‘ã€‚

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

æšä¸¾
----

.. _enum_WebXRInterface_TargetRayMode:

.. rst-class:: classref-enumeration

enum **TargetRayMode**: :ref:`ğŸ”—<enum_WebXRInterface_TargetRayMode>`

.. _class_WebXRInterface_constant_TARGET_RAY_MODE_UNKNOWN:

.. rst-class:: classref-enumeration-constant

:ref:`TargetRayMode<enum_WebXRInterface_TargetRayMode>` **TARGET_RAY_MODE_UNKNOWN** = ``0``

ä¸çŸ¥é“ç›®æ ‡å°„çº¿æ¨¡å¼ã€‚

.. _class_WebXRInterface_constant_TARGET_RAY_MODE_GAZE:

.. rst-class:: classref-enumeration-constant

:ref:`TargetRayMode<enum_WebXRInterface_TargetRayMode>` **TARGET_RAY_MODE_GAZE** = ``1``

ç›®æ ‡å°„çº¿ä»è§‚å¯Ÿè€…çš„çœ¼ç›å‡ºå‘ï¼ŒæŒ‡å‘æ‰€è§‚å¯Ÿçš„æ–¹å‘ã€‚

.. _class_WebXRInterface_constant_TARGET_RAY_MODE_TRACKED_POINTER:

.. rst-class:: classref-enumeration-constant

:ref:`TargetRayMode<enum_WebXRInterface_TargetRayMode>` **TARGET_RAY_MODE_TRACKED_POINTER** = ``2``

ç›®æ ‡å°„çº¿ç”±æ‰‹æŒæŒ‡ç¤ºå™¨å‘å°„ï¼Œå¾ˆå¯èƒ½æ˜¯ VR è§¦æ‘¸æ§åˆ¶å™¨ã€‚

.. _class_WebXRInterface_constant_TARGET_RAY_MODE_SCREEN:

.. rst-class:: classref-enumeration-constant

:ref:`TargetRayMode<enum_WebXRInterface_TargetRayMode>` **TARGET_RAY_MODE_SCREEN** = ``3``

ç›®æ ‡å°„çº¿ç”±è§¦æ‘¸å±ã€é¼ æ ‡ç­‰è§¦è§‰è¾“å…¥è®¾å¤‡å‘å°„ã€‚

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

å±æ€§è¯´æ˜
--------

.. _class_WebXRInterface_property_enabled_features:

.. rst-class:: classref-property

:ref:`String<class_String>` **enabled_features** :ref:`ğŸ”—<class_WebXRInterface_property_enabled_features>`

.. rst-class:: classref-property-setget

- :ref:`String<class_String>` **get_enabled_features**\ (\ )

è®¾ç½® WebXR ä¼šè¯æ—¶é€šè¿‡ :ref:`XRInterface.initialize<class_XRInterface_method_initialize>` æˆåŠŸå¯ç”¨çš„åŠŸèƒ½çš„é€—å·åˆ†éš”åˆ—è¡¨ã€‚

è¿™å¯èƒ½åŒ…æ‹¬é€šè¿‡è®¾ç½® :ref:`required_features<class_WebXRInterface_property_required_features>` å’Œ :ref:`optional_features<class_WebXRInterface_property_optional_features>` è¯·æ±‚çš„åŠŸèƒ½ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_property_optional_features:

.. rst-class:: classref-property

:ref:`String<class_String>` **optional_features** :ref:`ğŸ”—<class_WebXRInterface_property_optional_features>`

.. rst-class:: classref-property-setget

- |void| **set_optional_features**\ (\ value\: :ref:`String<class_String>`\ )
- :ref:`String<class_String>` **get_optional_features**\ (\ )

:ref:`XRInterface.initialize<class_XRInterface_method_initialize>` åœ¨è®¾ç½® WebXR ä¼šè¯æ—¶ä½¿ç”¨çš„ä»¥é€—å·åˆ†éš”çš„å¯é€‰åŠŸèƒ½åˆ—è¡¨ã€‚

å¦‚æœç”¨æˆ·çš„æµè§ˆå™¨æˆ–è®¾å¤‡ï¼Œä¸æ”¯æŒç»™å®šçš„ä»»ä¸€åŠŸèƒ½ï¼Œåˆå§‹åŒ–å°†ç»§ç»­ï¼Œä½†å°†æ— æ³•ä½¿ç”¨æ‰€è¯·æ±‚çš„åŠŸèƒ½ã€‚

è¿™å¯¹å·²ç»åˆå§‹åŒ–çš„æ¥å£æ²¡æœ‰ä»»ä½•å½±å“ã€‚

å¯èƒ½çš„å€¼æ¥è‡ª `WebXR çš„ XRReferenceSpaceType <https://developer.mozilla.org/en-US/docs/Web/API/XRReferenceSpaceType>`__\ ã€‚å¦‚æœæƒ³è¦ä½¿ç”¨ç‰¹å®šçš„å‚è€ƒç©ºé—´ç±»å‹ï¼Œåˆ™å®ƒå¿…é¡»åˆ—åœ¨ :ref:`required_features<class_WebXRInterface_property_required_features>` æˆ– :ref:`optional_features<class_WebXRInterface_property_optional_features>` ä¸­ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_property_reference_space_type:

.. rst-class:: classref-property

:ref:`String<class_String>` **reference_space_type** :ref:`ğŸ”—<class_WebXRInterface_property_reference_space_type>`

.. rst-class:: classref-property-setget

- :ref:`String<class_String>` **get_reference_space_type**\ (\ )

å‚è€ƒç©ºé—´ç±»å‹ï¼ˆæ¥è‡ª :ref:`requested_reference_space_types<class_WebXRInterface_property_requested_reference_space_types>` å±æ€§ä¸­è®¾ç½®çš„è¯·æ±‚ç±»å‹åˆ—è¡¨ï¼‰ï¼Œåœ¨è®¾ç½® WebXR ä¼šè¯æ—¶æœ€ç»ˆç”± :ref:`XRInterface.initialize<class_XRInterface_method_initialize>` ä½¿ç”¨ã€‚

å¯èƒ½çš„å€¼æ¥è‡ª `WebXR çš„ XRReferenceSpaceType <https://developer.mozilla.org/en-US/docs/Web/API/XRReferenceSpaceType>`__\ ã€‚ å¦‚æœæƒ³è¦ä½¿ç”¨ç‰¹å®šçš„å‚è€ƒç©ºé—´ç±»å‹ï¼Œåˆ™å®ƒå¿…é¡»åˆ—åœ¨ :ref:`required_features<class_WebXRInterface_property_required_features>` æˆ– :ref:`optional_features<class_WebXRInterface_property_optional_features>` ä¸­ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_property_requested_reference_space_types:

.. rst-class:: classref-property

:ref:`String<class_String>` **requested_reference_space_types** :ref:`ğŸ”—<class_WebXRInterface_property_requested_reference_space_types>`

.. rst-class:: classref-property-setget

- |void| **set_requested_reference_space_types**\ (\ value\: :ref:`String<class_String>`\ )
- :ref:`String<class_String>` **get_requested_reference_space_types**\ (\ )

:ref:`XRInterface.initialize<class_XRInterface_method_initialize>` åœ¨è®¾ç½® WebXR ä¼šè¯æ—¶ä½¿ç”¨çš„ä»¥é€—å·åˆ†éš”çš„å‚è€ƒç©ºé—´ç±»å‹åˆ—è¡¨ã€‚

æŒ‰é¡ºåºè¯·æ±‚å‚è€ƒç©ºé—´ç±»å‹ï¼Œå°†ä½¿ç”¨ç”¨æˆ·è®¾å¤‡æˆ–æµè§ˆå™¨æ”¯æŒçš„ç¬¬ä¸€ä¸ªã€‚\ :ref:`reference_space_type<class_WebXRInterface_property_reference_space_type>` å±æ€§åŒ…å«æœ€ç»ˆé€‰æ‹©çš„å‚è€ƒç©ºé—´ç±»å‹ã€‚

è¿™å¯¹å·²ç»åˆå§‹åŒ–çš„æ¥å£æ²¡æœ‰ä»»ä½•å½±å“ã€‚

å¯èƒ½çš„å€¼æ¥è‡ª `WebXR çš„ XRReferenceSpaceType <https://developer.mozilla.org/en-US/docs/Web/API/XRReferenceSpaceType>`__\ ã€‚å¦‚æœæƒ³è¦ä½¿ç”¨ç‰¹å®šçš„å‚è€ƒç©ºé—´ç±»å‹ï¼Œåˆ™å®ƒå¿…é¡»åˆ—åœ¨ :ref:`required_features<class_WebXRInterface_property_required_features>` æˆ– :ref:`optional_features<class_WebXRInterface_property_optional_features>` ä¸­ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_property_required_features:

.. rst-class:: classref-property

:ref:`String<class_String>` **required_features** :ref:`ğŸ”—<class_WebXRInterface_property_required_features>`

.. rst-class:: classref-property-setget

- |void| **set_required_features**\ (\ value\: :ref:`String<class_String>`\ )
- :ref:`String<class_String>` **get_required_features**\ (\ )

:ref:`XRInterface.initialize<class_XRInterface_method_initialize>` åœ¨è®¾ç½® WebXR ä¼šè¯æ—¶ä½¿ç”¨çš„ä»¥é€—å·åˆ†éš”çš„æ‰€éœ€åŠŸèƒ½åˆ—è¡¨ã€‚

å¦‚æœç”¨æˆ·çš„æµè§ˆå™¨æˆ–è®¾å¤‡ä¸æ”¯æŒç»™å®šçš„ä»»ä¸€åŠŸèƒ½ï¼Œåˆ™åˆå§‹åŒ–å°†å¤±è´¥å¹¶å‘å‡º :ref:`session_failed<class_WebXRInterface_signal_session_failed>` ã€‚

è¿™å¯¹å·²ç»åˆå§‹åŒ–çš„æ¥å£æ²¡æœ‰ä»»ä½•å½±å“ã€‚

å¯èƒ½çš„å€¼æ¥è‡ª `WebXR çš„ XRReferenceSpaceType <https://developer.mozilla.org/en-US/docs/Web/API/XRReferenceSpaceType>`__\ ã€‚å¦‚æœæƒ³è¦ä½¿ç”¨ç‰¹å®šçš„å‚è€ƒç©ºé—´ç±»å‹ï¼Œåˆ™å®ƒå¿…é¡»åˆ—åœ¨ :ref:`required_features<class_WebXRInterface_property_required_features>` æˆ– :ref:`optional_features<class_WebXRInterface_property_optional_features>` ä¸­ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_property_session_mode:

.. rst-class:: classref-property

:ref:`String<class_String>` **session_mode** :ref:`ğŸ”—<class_WebXRInterface_property_session_mode>`

.. rst-class:: classref-property-setget

- |void| **set_session_mode**\ (\ value\: :ref:`String<class_String>`\ )
- :ref:`String<class_String>` **get_session_mode**\ (\ )

å»ºç«‹ WebXR ä¼šè¯æ—¶ï¼Œ\ :ref:`XRInterface.initialize<class_XRInterface_method_initialize>` ä½¿ç”¨çš„ä¼šè¯æ¨¡å¼ã€‚

è¿™å¯¹å·²ç»åˆå§‹åŒ–çš„æ¥å£æ²¡æœ‰ä»»ä½•å½±å“ã€‚

å¯èƒ½çš„å€¼æ¥è‡ª `WebXR çš„ XRSessionMode <https://developer.mozilla.org/en-US/docs/Web/API/XRSessionMode>`__\ ï¼ŒåŒ…æ‹¬ï¼š\ ``"immersive-vr"`` ã€\ ``"immersive-ar"`` å’Œ ``"inline"``\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_property_visibility_state:

.. rst-class:: classref-property

:ref:`String<class_String>` **visibility_state** :ref:`ğŸ”—<class_WebXRInterface_property_visibility_state>`

.. rst-class:: classref-property-setget

- :ref:`String<class_String>` **get_visibility_state**\ (\ )

æŒ‡ç¤ºç”¨æˆ·æ˜¯å¦å¯ä»¥çœ‹åˆ° WebXR ä¼šè¯çš„å›¾åƒã€‚

å¯èƒ½çš„å€¼æ¥è‡ª `WebXR çš„ XRVisibilityState <https://developer.mozilla.org/en-US/docs/Web/API/XRVisibilityState>`__\ ï¼ŒåŒ…æ‹¬ ``"hidden"``\ ã€\ ``"visible"`` å’Œ ``"visible-blurred"``\ ã€‚

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

æ–¹æ³•è¯´æ˜
--------

.. _class_WebXRInterface_method_get_available_display_refresh_rates:

.. rst-class:: classref-method

:ref:`Array<class_Array>` **get_available_display_refresh_rates**\ (\ ) |const| :ref:`ğŸ”—<class_WebXRInterface_method_get_available_display_refresh_rates>`

è¿”å›å½“å‰ HMD æ‰€æ”¯æŒçš„æ˜¾ç¤ºåˆ·æ–°ç‡ã€‚ç½‘é¡µæµè§ˆå™¨æ”¯æŒè¯¥åŠŸèƒ½ï¼Œå¹¶ä¸”è¯¥æ¥å£å·²åˆå§‹åŒ–æ—¶æ‰ä¼šè¿”å›ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_method_get_display_refresh_rate:

.. rst-class:: classref-method

:ref:`float<class_float>` **get_display_refresh_rate**\ (\ ) |const| :ref:`ğŸ”—<class_WebXRInterface_method_get_display_refresh_rate>`

è¿”å›å½“å‰ HMD çš„æ˜¾ç¤ºåˆ·æ–°ç‡ã€‚ä¸æ˜¯æ‰€æœ‰ HMD å’Œæµè§ˆå™¨éƒ½æ”¯æŒã€‚ä½¿ç”¨ :ref:`set_display_refresh_rate<class_WebXRInterface_method_set_display_refresh_rate>` å‰å¯èƒ½ä¸ä¼šæ±‡æŠ¥ç²¾ç¡®å€¼ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_method_get_input_source_target_ray_mode:

.. rst-class:: classref-method

:ref:`TargetRayMode<enum_WebXRInterface_TargetRayMode>` **get_input_source_target_ray_mode**\ (\ input_source_id\: :ref:`int<class_int>`\ ) |const| :ref:`ğŸ”—<class_WebXRInterface_method_get_input_source_target_ray_mode>`

è¿”å›ç»™å®šçš„ ``input_source_id`` çš„ç›®æ ‡å°„çº¿æ¨¡å¼ã€‚

å¯ç”¨äºå¸®åŠ©è§£ææ¥è‡ªè¯¥è¾“å…¥æºçš„è¾“å…¥ã€‚è¯¦è§ `XRInputSource.targetRayMode <https://developer.mozilla.org/en-US/docs/Web/API/XRInputSource/targetRayMode>`__\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_method_get_input_source_tracker:

.. rst-class:: classref-method

:ref:`XRControllerTracker<class_XRControllerTracker>` **get_input_source_tracker**\ (\ input_source_id\: :ref:`int<class_int>`\ ) |const| :ref:`ğŸ”—<class_WebXRInterface_method_get_input_source_tracker>`

Gets an :ref:`XRControllerTracker<class_XRControllerTracker>` for the given ``input_source_id``.

In the context of WebXR, an input source can be an advanced VR controller like the Oculus Touch or Index controllers, or even a tap on the screen, a spoken voice command or a button press on the device itself. When a non-traditional input source is used, interpret the position and orientation of the :ref:`XRPositionalTracker<class_XRPositionalTracker>` as a ray pointing at the object the user wishes to interact with.

Use this method to get information about the input source that triggered one of these signals:

- :ref:`selectstart<class_WebXRInterface_signal_selectstart>`\ 

- :ref:`select<class_WebXRInterface_signal_select>`\ 

- :ref:`selectend<class_WebXRInterface_signal_selectend>`\ 

- :ref:`squeezestart<class_WebXRInterface_signal_squeezestart>`\ 

- :ref:`squeeze<class_WebXRInterface_signal_squeeze>`\ 

- :ref:`squeezestart<class_WebXRInterface_signal_squeezestart>`

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_method_is_input_source_active:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **is_input_source_active**\ (\ input_source_id\: :ref:`int<class_int>`\ ) |const| :ref:`ğŸ”—<class_WebXRInterface_method_is_input_source_active>`

å¦‚æœå­˜åœ¨å…·æœ‰ç»™å®š ``input_source_id`` çš„æ´»åŠ¨è¾“å…¥æºï¼Œåˆ™è¿”å› ``true``\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_method_is_session_supported:

.. rst-class:: classref-method

|void| **is_session_supported**\ (\ session_mode\: :ref:`String<class_String>`\ ) :ref:`ğŸ”—<class_WebXRInterface_method_is_session_supported>`

æ£€æŸ¥ç»™å®šçš„ ``session_mode`` æ˜¯å¦è¢«ç”¨æˆ·çš„æµè§ˆå™¨æ”¯æŒã€‚

å¯èƒ½çš„å€¼æ¥è‡ª `WebXR çš„ XRSessionMode <https://developer.mozilla.org/en-US/docs/Web/API/XRSessionMode>`__\ ï¼ŒåŒ…æ‹¬ï¼š\ ``"immersive-vr"``\ ã€\ ``"immersive-ar"`` å’Œ ``"inline"``\ ã€‚

æ­¤æ–¹æ³•ä¸è¿”å›ä»»ä½•ä¸œè¥¿ï¼Œè€Œæ˜¯å°†ç»“æœå‘é€ç»™ :ref:`session_supported<class_WebXRInterface_signal_session_supported>` ä¿¡å·ã€‚

.. rst-class:: classref-item-separator

----

.. _class_WebXRInterface_method_set_display_refresh_rate:

.. rst-class:: classref-method

|void| **set_display_refresh_rate**\ (\ refresh_rate\: :ref:`float<class_float>`\ ) :ref:`ğŸ”—<class_WebXRInterface_method_set_display_refresh_rate>`

ä¸ºå½“å‰çš„ HMD è®¾ç½®å±å¹•åˆ·æ–°ç‡ã€‚ä¸æ˜¯æ‰€æœ‰ HMD å’Œæµè§ˆå™¨éƒ½æ”¯æŒã€‚ä¸ä¼šç«‹å³ç”Ÿæ•ˆï¼Œå‘å‡º :ref:`display_refresh_rate_changed<class_WebXRInterface_signal_display_refresh_rate_changed>` ä¿¡å·åæ‰ä¼šç”Ÿæ•ˆã€‚

.. |virtual| replace:: :abbr:`virtual (æœ¬æ–¹æ³•é€šå¸¸éœ€è¦ç”¨æˆ·è¦†ç›–æ‰èƒ½ç”Ÿæ•ˆã€‚)`
.. |const| replace:: :abbr:`const (æœ¬æ–¹æ³•æ²¡æœ‰å‰¯ä½œç”¨ï¼Œä¸ä¼šä¿®æ”¹è¯¥å®ä¾‹çš„ä»»ä½•æˆå‘˜å˜é‡ã€‚)`
.. |vararg| replace:: :abbr:`vararg (æœ¬æ–¹æ³•é™¤äº†èƒ½æ¥å—åœ¨æ­¤å¤„æè¿°çš„å‚æ•°å¤–ï¼Œè¿˜èƒ½å¤Ÿç»§ç»­æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ã€‚)`
.. |constructor| replace:: :abbr:`constructor (æœ¬æ–¹æ³•ç”¨äºæ„é€ æŸä¸ªç±»å‹ã€‚)`
.. |static| replace:: :abbr:`static (è°ƒç”¨æœ¬æ–¹æ³•æ— éœ€å®ä¾‹ï¼Œå¯ç›´æ¥ä½¿ç”¨ç±»åè¿›è¡Œè°ƒç”¨ã€‚)`
.. |operator| replace:: :abbr:`operator (æœ¬æ–¹æ³•æè¿°çš„æ˜¯ä½¿ç”¨æœ¬ç±»å‹ä½œä¸ºå·¦æ“ä½œæ•°çš„æœ‰æ•ˆæ“ä½œç¬¦ã€‚)`
.. |bitfield| replace:: :abbr:`BitField (è¿™ä¸ªå€¼æ˜¯ç”±ä¸‹åˆ—æ ‡å¿—æ„æˆçš„ä½æ©ç æ•´æ•°ã€‚)`
.. |void| replace:: :abbr:`void (æ— è¿”å›å€¼ã€‚)`
